/*! For license information please see downstream-electron-be.js.LICENSE.txt */
!function(Q,F){if("object"==typeof exports&&"object"==typeof module)module.exports=F(require("base64-js"),require("biguint-format"),require("electron"),require("flake-idgen"),require("get-folder-size"),require("jsonfile"),require("mkdirp"),require("moment/moment"),require("underscore"),require("url-parse"),require("xmldom"));else if("function"==typeof define&&define.amd)define(["base64-js","biguint-format","electron","flake-idgen","get-folder-size","jsonfile","mkdirp","moment/moment","underscore","url-parse","xmldom"],F);else{var U="object"==typeof exports?F(require("base64-js"),require("biguint-format"),require("electron"),require("flake-idgen"),require("get-folder-size"),require("jsonfile"),require("mkdirp"),require("moment/moment"),require("underscore"),require("url-parse"),require("xmldom")):F(Q["base64-js"],Q["biguint-format"],Q.electron,Q["flake-idgen"],Q["get-folder-size"],Q.jsonfile,Q.mkdirp,Q["moment/moment"],Q.underscore,Q["url-parse"],Q.xmldom);for(var B in U)("object"==typeof exports?exports:Q)[B]=U[B]}}(global,((__WEBPACK_EXTERNAL_MODULE__7769__,__WEBPACK_EXTERNAL_MODULE__1637__,__WEBPACK_EXTERNAL_MODULE__7194__,__WEBPACK_EXTERNAL_MODULE__1759__,__WEBPACK_EXTERNAL_MODULE__6838__,__WEBPACK_EXTERNAL_MODULE__3480__,__WEBPACK_EXTERNAL_MODULE__9526__,__WEBPACK_EXTERNAL_MODULE__1908__,__WEBPACK_EXTERNAL_MODULE__4952__,__WEBPACK_EXTERNAL_MODULE__3720__,__WEBPACK_EXTERNAL_MODULE__678__)=>(()=>{var __webpack_modules__={9277:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n/**\n * @typedef Configuration\n * @property {string=} appDir main directory path, can be any valid path, default is electronApp.getPath(\'userData\')\n * @property {string=} settingsName - name of the folder in main directory path where to store settings\n * @property {string=} publicName - name of the folder in main directory path which will be served over http\n * @property {string=} downloadsName - name of the folder in main directory path and publicName where to store assets\n * @property {string=} offlineDomain - on which domain the content should be served, default is 127.0.0.1\n * @property {number=} offlineContentPortStart - on which port offline content should be served, default is 3010\n * @property {number=} maxOfflineContentPortRange - max range for offline port to on which content can be served\n *   It will try from {offlineContentPortStart} and if taken it will try next until it finds a free one\n * @property {number=} numberOfManifestsInParallel - max number of manifest that can be downloaded at the same time,\n *   the rest will go into queue.\n *   Be reasonable here, as it might slow down your computer, default value is 2. With 10 and very larges manifests\n *   it might go to hundreds of chunks (50 files can be downloaded at the same time per manifest). Also the highger number\n *   doesn\'t mean it will downloads all movies faster. You should find here some balance.\n *   Seems like 2-3 manifests gives the best results, 1 manifest limitation might work better for slower computers.\n * @property {regex | string=} customManifestIdFolderRegex - regex to use to validate custom manifest id - bear in mind that this\n * need to be also a valid folder name.<br>\n * By default it matches any letter or number or unicode characters (regional characters) or "-" or "_" as a first character<br>\n * Then it may have any letter or number or unicode characters (regional characters) or space or any of the following characters:\n * ,.;\'[]{}!@#$%&*()-_=+\n *\n * @property {string=} openingTagForInvalidCustomManifestIdCharacter - when customManifestId is being invalidated\n * against customManifestIdFolderRegex it will raise the error and include the customManifestId with marked invalid characters\n * this is the opening tag to be added before invalid character\n *\n * @property {string=} closingTagForInvalidCustomManifestIdCharacter - when customManifestId is being invalidated\n * against customManifestIdFolderRegex it will raise the error and include the customManifestId with marked invalid characters\n * this is the closing tag to be added after invalid character\n *\n * @namespace DownstreamElectronBE.configuration\n * @description\n * During initialization you can configure your app\n * @example\n * //somewhere in the main process\n * const downstreamElectron = require(\'downstream-electron\');\n * const userSettings = {\n *   appDir: "/Users/admin/myApp",\n *   settingsName: "settings",\n *   publicName: "public",\n *   downloadsName: "movies"\n *   numberOfManifestsInParallel: 3\n * };\n * function createWindow() {\n *   downstreamElectron.init(userSettings);\n *   const win = new BrowserWindow({\n *     width: 1200,\n *     height: 700,\n *     resizable: true,\n *     webPreferences: {\n *       plugins: true,\n *       nodeIntegration: true\n *     }\n *   });\n *   win.loadURL(\'file://index.html\');\n *   win.webContents.openDevTools();\n * }\n * app.on(\'ready\', createWindow);\n */\n\nvar electronApp = (__webpack_require__(7194).app);\n\nvar path = __webpack_require__(1017);\n\nvar settings = {\n  downloadingThreadsRules: {\n    items: [{\n      max: 10,\n      files: 5\n    }, {\n      max: 100,\n      files: 10\n    }, {\n      max: 1000,\n      files: 30\n    }, {\n      max: 100000,\n      files: 50\n    }],\n    threads: [{\n      size: 10,\n      number: 1\n    }, {\n      size: 100,\n      number: 3\n    }, {\n      size: 1000,\n      number: 4\n    }, {\n      size: 100000,\n      number: 5\n    }]\n  },\n  MAX_ERRORS_DOWNLOAD_RETRY: 5,\n  MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY: 100,\n  MAX_ERRORS_DOWNLOAD_CHUNK_RETRY: 5,\n  offlineDomain: "http://127.0.0.1",\n  offlineContentPortStart: 3010,\n  maxOfflineContentPortRange: 3030,\n  numberOfManifestsInParallel: 2,\n  stopOnError: false,\n  stores: {\n    DOWNLOADS: {\n      "LEFT": "left",\n      "DOWNLOADING": "downloading",\n      "DOWNLOADED": "downloaded",\n      "ERRORS": "errors"\n    },\n    STATUS: "status",\n    PARAMS: "params",\n    MANIFEST: "manifest",\n    PERSISTENT: "persistent",\n    DATA: "data"\n  },\n  saveToDisk: true,\n  times: {\n    DOWNLOAD_TIMEOUT: 5000,\n    RETRY_TIMEOUT: 5000\n  },\n  useChunkedEncoding: false,\n  useHeadRequests: true,\n  noCache: false,\n  defaultManifestRequestOptions: {\n    headers: {\n      "Accept": "*/*",\n      // \'Accept-Encoding\': \'gzip, deflate, br\', // gzip doesn\'t work\n      // \'Accept-Language\': \'en-US,en;q=0.8,pl;q=0.6\',\n      // \'Cache-Control\': \'no-cache\',\n      // \'Connection\': \'keep-alive\', // @TODO investigate it\n      // \'Pragma\': \'no-cache\',\n      "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Electron/1.8.6 Safari/537.36"\n    },\n    timeout: 5000\n  },\n  // matches any letter or number or unicode characters (regional characters) or "-" or "_" as a start\n  // then it may have any letter or number or unicode characters (regional characters) or space or any of the following characters\n  // ,.;\'[]{}!@#$%&*()-_=+\n  // and is all case insensitive\n  customManifestIdFolderRegex: /^([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\-|\\_){1,1}([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\ |\\,|\\.|\\;|\\\'|\\[|\\]|\\{|\\}|\\!|\\@|\\#|\\$|\\%|\\&|\\*|\\(|\\)|\\-|\\_|\\=|\\+?){0,49}$/i,\n  openingTagForInvalidCustomManifestIdCharacter: \'<span style=\\\'background-color:blue;\\\'>\',\n  closingTagForInvalidCustomManifestIdCharacter: \'</span>\'\n};\n\nfunction loadUserSettings(jsonSettings) {\n  var appDir = electronApp.getPath("userData");\n  var settingsName = "settings";\n  var publicName = "public";\n  var downloadsName = "movies";\n\n  if (jsonSettings) {\n    if (jsonSettings.appDir) {\n      appDir = jsonSettings.appDir;\n    }\n\n    if (jsonSettings.settingsName) {\n      settingsName = jsonSettings.settingsName;\n    }\n\n    if (jsonSettings.publicName) {\n      publicName = jsonSettings.publicName;\n    }\n\n    if (jsonSettings.downloadsName) {\n      downloadsName = jsonSettings.downloadsName;\n    }\n\n    if (jsonSettings.offlineDomain) {\n      settings.offlineDomain = jsonSettings.offlineDomain;\n    }\n\n    if (jsonSettings.offlineContentPortStart) {\n      settings.offlineContentPortStart = jsonSettings.offlineContentPortStart;\n    }\n\n    if (jsonSettings.maxOfflineContentPortRange) {\n      settings.maxOfflineContentPortRange = jsonSettings.maxOfflineContentPortRange;\n    }\n\n    if (jsonSettings.numberOfManifestsInParallel) {\n      settings.numberOfManifestsInParallel = jsonSettings.numberOfManifestsInParallel;\n    }\n\n    if (jsonSettings.stopOnError !== undefined) {\n      settings.stopOnError = jsonSettings.stopOnError;\n    }\n\n    if (jsonSettings.customManifestIdFolderRegex) {\n      settings.customManifestIdFolderRegex = jsonSettings.customManifestIdFolderRegex;\n    }\n\n    if (jsonSettings.openingTagForInvalidCustomManifestIdCharacter) {\n      settings.openingTagForInvalidCustomManifestIdCharacter = jsonSettings.openingTagForInvalidCustomManifestIdCharacter;\n    }\n\n    if (jsonSettings.closingTagForInvalidCustomManifestIdCharacter) {\n      settings.closingTagForInvalidCustomManifestIdCharacter = jsonSettings.closingTagForInvalidCustomManifestIdCharacter;\n    }\n\n    if (jsonSettings.useHeadRequests !== undefined) {\n      settings.useHeadRequests = jsonSettings.useHeadRequests;\n    }\n\n    if (jsonSettings.times && jsonSettings.times.RETRY_TIMEOUT) {\n      settings.times.RETRY_TIMEOUT = jsonSettings.times.RETRY_TIMEOUT;\n    }\n\n    if (jsonSettings.MAX_ERRORS_DOWNLOAD_RETRY) {\n      settings.MAX_ERRORS_DOWNLOAD_RETRY = jsonSettings.MAX_ERRORS_DOWNLOAD_RETRY;\n    }\n\n    if (jsonSettings.MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY) {\n      settings.MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY = jsonSettings.MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY;\n    }\n\n    if (jsonSettings.MAX_ERRORS_DOWNLOAD_CHUNK_RETRY) {\n      settings.MAX_ERRORS_DOWNLOAD_CHUNK_RETRY = jsonSettings.MAX_ERRORS_DOWNLOAD_CHUNK_RETRY;\n    }\n\n    if (jsonSettings.noCache) {\n      settings.noCache = jsonSettings.noCache;\n    }\n  }\n\n  appDir = path.join(path.resolve(appDir), "/");\n  var settingsFolder = path.join(path.resolve(appDir + settingsName) + "/", "/");\n  var publicFolderPath = path.join(path.resolve(appDir + publicName) + "/", "/");\n  var downloadsFolderPath = path.join(path.resolve(publicFolderPath + downloadsName) + "/", "/");\n  settings.appDir = appDir;\n  settings.downloadsFolderPath = downloadsFolderPath;\n  settings.downloadsName = downloadsName;\n  settings.publicFolderPath = publicFolderPath;\n  settings.settingsFolder = settingsFolder; // console.log(\'appDir:\', appDir);\n}\n\nfunction getSettings() {\n  return settings;\n}\n\nexports.load = loadUserSettings;\nexports.getSettings = getSettings;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNEO0VBQ0Y7O0VBRURTLE1BQU0sR0FBR3ZDLElBQUksQ0FBQzZDLElBQUwsQ0FBVTdDLElBQUksQ0FBQzhDLE9BQUwsQ0FBYVAsTUFBYixDQUFWLEVBQWdDLEdBQWhDLENBQVQ7RUFFQSxJQUFJUSxjQUFjLEdBQUcvQyxJQUFJLENBQUM2QyxJQUFMLENBQVU3QyxJQUFJLENBQUM4QyxPQUFMLENBQWFQLE1BQU0sR0FBR0UsWUFBdEIsSUFBc0MsR0FBaEQsRUFBcUQsR0FBckQsQ0FBckI7RUFFQSxJQUFJTyxnQkFBZ0IsR0FBR2hELElBQUksQ0FBQzZDLElBQUwsQ0FBVTdDLElBQUksQ0FBQzhDLE9BQUwsQ0FBYVAsTUFBTSxHQUFHRyxVQUF0QixJQUFvQyxHQUE5QyxFQUFtRCxHQUFuRCxDQUF2QjtFQUVBLElBQUlPLG1CQUFtQixHQUFHakQsSUFBSSxDQUFDNkMsSUFBTCxDQUFVN0MsSUFBSSxDQUFDOEMsT0FBTCxDQUFhRSxnQkFBZ0IsR0FBR0wsYUFBaEMsSUFBaUQsR0FBM0QsRUFBZ0UsR0FBaEUsQ0FBMUI7RUFFQTFDLFFBQVEsQ0FBQ3NDLE1BQVQsR0FBa0JBLE1BQWxCO0VBQ0F0QyxRQUFRLENBQUNnRCxtQkFBVCxHQUErQkEsbUJBQS9CO0VBQ0FoRCxRQUFRLENBQUMwQyxhQUFULEdBQXlCQSxhQUF6QjtFQUNBMUMsUUFBUSxDQUFDK0MsZ0JBQVQsR0FBNEJBLGdCQUE1QjtFQUNBL0MsUUFBUSxDQUFDOEMsY0FBVCxHQUEwQkEsY0FBMUIsQ0E1RXVDLENBOEV2QztBQUNEOztBQUVELFNBQVNHLFdBQVQsR0FBd0I7RUFDdEIsT0FBT2pELFFBQVA7QUFDRDs7QUFFRGtELFlBQUEsR0FBZWQsZ0JBQWY7QUFDQWMsbUJBQUEsR0FBc0JELFdBQXRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9hcHAtc2V0dGluZ3MuanM/YzQwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAdHlwZWRlZiBDb25maWd1cmF0aW9uXG4gKiBAcHJvcGVydHkge3N0cmluZz19IGFwcERpciBtYWluIGRpcmVjdG9yeSBwYXRoLCBjYW4gYmUgYW55IHZhbGlkIHBhdGgsIGRlZmF1bHQgaXMgZWxlY3Ryb25BcHAuZ2V0UGF0aCgndXNlckRhdGEnKVxuICogQHByb3BlcnR5IHtzdHJpbmc9fSBzZXR0aW5nc05hbWUgLSBuYW1lIG9mIHRoZSBmb2xkZXIgaW4gbWFpbiBkaXJlY3RvcnkgcGF0aCB3aGVyZSB0byBzdG9yZSBzZXR0aW5nc1xuICogQHByb3BlcnR5IHtzdHJpbmc9fSBwdWJsaWNOYW1lIC0gbmFtZSBvZiB0aGUgZm9sZGVyIGluIG1haW4gZGlyZWN0b3J5IHBhdGggd2hpY2ggd2lsbCBiZSBzZXJ2ZWQgb3ZlciBodHRwXG4gKiBAcHJvcGVydHkge3N0cmluZz19IGRvd25sb2Fkc05hbWUgLSBuYW1lIG9mIHRoZSBmb2xkZXIgaW4gbWFpbiBkaXJlY3RvcnkgcGF0aCBhbmQgcHVibGljTmFtZSB3aGVyZSB0byBzdG9yZSBhc3NldHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nPX0gb2ZmbGluZURvbWFpbiAtIG9uIHdoaWNoIGRvbWFpbiB0aGUgY29udGVudCBzaG91bGQgYmUgc2VydmVkLCBkZWZhdWx0IGlzIDEyNy4wLjAuMVxuICogQHByb3BlcnR5IHtudW1iZXI9fSBvZmZsaW5lQ29udGVudFBvcnRTdGFydCAtIG9uIHdoaWNoIHBvcnQgb2ZmbGluZSBjb250ZW50IHNob3VsZCBiZSBzZXJ2ZWQsIGRlZmF1bHQgaXMgMzAxMFxuICogQHByb3BlcnR5IHtudW1iZXI9fSBtYXhPZmZsaW5lQ29udGVudFBvcnRSYW5nZSAtIG1heCByYW5nZSBmb3Igb2ZmbGluZSBwb3J0IHRvIG9uIHdoaWNoIGNvbnRlbnQgY2FuIGJlIHNlcnZlZFxuICogICBJdCB3aWxsIHRyeSBmcm9tIHtvZmZsaW5lQ29udGVudFBvcnRTdGFydH0gYW5kIGlmIHRha2VuIGl0IHdpbGwgdHJ5IG5leHQgdW50aWwgaXQgZmluZHMgYSBmcmVlIG9uZVxuICogQHByb3BlcnR5IHtudW1iZXI9fSBudW1iZXJPZk1hbmlmZXN0c0luUGFyYWxsZWwgLSBtYXggbnVtYmVyIG9mIG1hbmlmZXN0IHRoYXQgY2FuIGJlIGRvd25sb2FkZWQgYXQgdGhlIHNhbWUgdGltZSxcbiAqICAgdGhlIHJlc3Qgd2lsbCBnbyBpbnRvIHF1ZXVlLlxuICogICBCZSByZWFzb25hYmxlIGhlcmUsIGFzIGl0IG1pZ2h0IHNsb3cgZG93biB5b3VyIGNvbXB1dGVyLCBkZWZhdWx0IHZhbHVlIGlzIDIuIFdpdGggMTAgYW5kIHZlcnkgbGFyZ2VzIG1hbmlmZXN0c1xuICogICBpdCBtaWdodCBnbyB0byBodW5kcmVkcyBvZiBjaHVua3MgKDUwIGZpbGVzIGNhbiBiZSBkb3dubG9hZGVkIGF0IHRoZSBzYW1lIHRpbWUgcGVyIG1hbmlmZXN0KS4gQWxzbyB0aGUgaGlnaGdlciBudW1iZXJcbiAqICAgZG9lc24ndCBtZWFuIGl0IHdpbGwgZG93bmxvYWRzIGFsbCBtb3ZpZXMgZmFzdGVyLiBZb3Ugc2hvdWxkIGZpbmQgaGVyZSBzb21lIGJhbGFuY2UuXG4gKiAgIFNlZW1zIGxpa2UgMi0zIG1hbmlmZXN0cyBnaXZlcyB0aGUgYmVzdCByZXN1bHRzLCAxIG1hbmlmZXN0IGxpbWl0YXRpb24gbWlnaHQgd29yayBiZXR0ZXIgZm9yIHNsb3dlciBjb21wdXRlcnMuXG4gKiBAcHJvcGVydHkge3JlZ2V4IHwgc3RyaW5nPX0gY3VzdG9tTWFuaWZlc3RJZEZvbGRlclJlZ2V4IC0gcmVnZXggdG8gdXNlIHRvIHZhbGlkYXRlIGN1c3RvbSBtYW5pZmVzdCBpZCAtIGJlYXIgaW4gbWluZCB0aGF0IHRoaXNcbiAqIG5lZWQgdG8gYmUgYWxzbyBhIHZhbGlkIGZvbGRlciBuYW1lLjxicj5cbiAqIEJ5IGRlZmF1bHQgaXQgbWF0Y2hlcyBhbnkgbGV0dGVyIG9yIG51bWJlciBvciB1bmljb2RlIGNoYXJhY3RlcnMgKHJlZ2lvbmFsIGNoYXJhY3RlcnMpIG9yIFwiLVwiIG9yIFwiX1wiIGFzIGEgZmlyc3QgY2hhcmFjdGVyPGJyPlxuICogVGhlbiBpdCBtYXkgaGF2ZSBhbnkgbGV0dGVyIG9yIG51bWJlciBvciB1bmljb2RlIGNoYXJhY3RlcnMgKHJlZ2lvbmFsIGNoYXJhY3RlcnMpIG9yIHNwYWNlIG9yIGFueSBvZiB0aGUgZm9sbG93aW5nIGNoYXJhY3RlcnM6XG4gKiAsLjsnW117fSFAIyQlJiooKS1fPStcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZz19IG9wZW5pbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlciAtIHdoZW4gY3VzdG9tTWFuaWZlc3RJZCBpcyBiZWluZyBpbnZhbGlkYXRlZFxuICogYWdhaW5zdCBjdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXggaXQgd2lsbCByYWlzZSB0aGUgZXJyb3IgYW5kIGluY2x1ZGUgdGhlIGN1c3RvbU1hbmlmZXN0SWQgd2l0aCBtYXJrZWQgaW52YWxpZCBjaGFyYWN0ZXJzXG4gKiB0aGlzIGlzIHRoZSBvcGVuaW5nIHRhZyB0byBiZSBhZGRlZCBiZWZvcmUgaW52YWxpZCBjaGFyYWN0ZXJcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZz19IGNsb3NpbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlciAtIHdoZW4gY3VzdG9tTWFuaWZlc3RJZCBpcyBiZWluZyBpbnZhbGlkYXRlZFxuICogYWdhaW5zdCBjdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXggaXQgd2lsbCByYWlzZSB0aGUgZXJyb3IgYW5kIGluY2x1ZGUgdGhlIGN1c3RvbU1hbmlmZXN0SWQgd2l0aCBtYXJrZWQgaW52YWxpZCBjaGFyYWN0ZXJzXG4gKiB0aGlzIGlzIHRoZSBjbG9zaW5nIHRhZyB0byBiZSBhZGRlZCBhZnRlciBpbnZhbGlkIGNoYXJhY3RlclxuICpcbiAqIEBuYW1lc3BhY2UgRG93bnN0cmVhbUVsZWN0cm9uQkUuY29uZmlndXJhdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBEdXJpbmcgaW5pdGlhbGl6YXRpb24geW91IGNhbiBjb25maWd1cmUgeW91ciBhcHBcbiAqIEBleGFtcGxlXG4gKiAvL3NvbWV3aGVyZSBpbiB0aGUgbWFpbiBwcm9jZXNzXG4gKiBjb25zdCBkb3duc3RyZWFtRWxlY3Ryb24gPSByZXF1aXJlKCdkb3duc3RyZWFtLWVsZWN0cm9uJyk7XG4gKiBjb25zdCB1c2VyU2V0dGluZ3MgPSB7XG4gKiAgIGFwcERpcjogXCIvVXNlcnMvYWRtaW4vbXlBcHBcIixcbiAqICAgc2V0dGluZ3NOYW1lOiBcInNldHRpbmdzXCIsXG4gKiAgIHB1YmxpY05hbWU6IFwicHVibGljXCIsXG4gKiAgIGRvd25sb2Fkc05hbWU6IFwibW92aWVzXCJcbiAqICAgbnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsOiAzXG4gKiB9O1xuICogZnVuY3Rpb24gY3JlYXRlV2luZG93KCkge1xuICogICBkb3duc3RyZWFtRWxlY3Ryb24uaW5pdCh1c2VyU2V0dGluZ3MpO1xuICogICBjb25zdCB3aW4gPSBuZXcgQnJvd3NlcldpbmRvdyh7XG4gKiAgICAgd2lkdGg6IDEyMDAsXG4gKiAgICAgaGVpZ2h0OiA3MDAsXG4gKiAgICAgcmVzaXphYmxlOiB0cnVlLFxuICogICAgIHdlYlByZWZlcmVuY2VzOiB7XG4gKiAgICAgICBwbHVnaW5zOiB0cnVlLFxuICogICAgICAgbm9kZUludGVncmF0aW9uOiB0cnVlXG4gKiAgICAgfVxuICogICB9KTtcbiAqICAgd2luLmxvYWRVUkwoJ2ZpbGU6Ly9pbmRleC5odG1sJyk7XG4gKiAgIHdpbi53ZWJDb250ZW50cy5vcGVuRGV2VG9vbHMoKTtcbiAqIH1cbiAqIGFwcC5vbigncmVhZHknLCBjcmVhdGVXaW5kb3cpO1xuICovXG5cbmNvbnN0IGVsZWN0cm9uQXBwID0gcmVxdWlyZShcImVsZWN0cm9uXCIpLmFwcDtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbmxldCBzZXR0aW5ncyA9IHtcbiAgZG93bmxvYWRpbmdUaHJlYWRzUnVsZXM6IHtcbiAgICBpdGVtczogW1xuICAgICAge21heDogMTAsIGZpbGVzOiA1fSxcbiAgICAgIHttYXg6IDEwMCwgZmlsZXM6IDEwfSxcbiAgICAgIHttYXg6IDEwMDAsIGZpbGVzOiAzMH0sXG4gICAgICB7bWF4OiAxMDAwMDAsIGZpbGVzOiA1MH1cbiAgICBdLFxuICAgIHRocmVhZHM6IFtcbiAgICAgIHtzaXplOiAxMCwgbnVtYmVyOiAxfSxcbiAgICAgIHtzaXplOiAxMDAsIG51bWJlcjogM30sXG4gICAgICB7c2l6ZTogMTAwMCwgbnVtYmVyOiA0fSxcbiAgICAgIHtzaXplOiAxMDAwMDAsIG51bWJlcjogNX1cbiAgICBdXG4gIH0sXG4gIE1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlk6IDUsXG4gIE1BWF9JTlRFUk5FVF9FUlJPUlNfRE9XTkxPQURfQ0hVTktfUkVUUlk6IDEwMCxcbiAgTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWTogNSxcbiAgb2ZmbGluZURvbWFpbjogXCJodHRwOi8vMTI3LjAuMC4xXCIsXG4gIG9mZmxpbmVDb250ZW50UG9ydFN0YXJ0OiAzMDEwLFxuICBtYXhPZmZsaW5lQ29udGVudFBvcnRSYW5nZTogMzAzMCxcbiAgbnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsOiAyLFxuICBzdG9wT25FcnJvcjogZmFsc2UsXG4gIHN0b3Jlczoge1xuICAgIERPV05MT0FEUzoge1xuICAgICAgXCJMRUZUXCI6IFwibGVmdFwiLFxuICAgICAgXCJET1dOTE9BRElOR1wiOiBcImRvd25sb2FkaW5nXCIsXG4gICAgICBcIkRPV05MT0FERURcIjogXCJkb3dubG9hZGVkXCIsXG4gICAgICBcIkVSUk9SU1wiOiBcImVycm9yc1wiXG4gICAgfSxcbiAgICBTVEFUVVM6IFwic3RhdHVzXCIsXG4gICAgUEFSQU1TOiBcInBhcmFtc1wiLFxuICAgIE1BTklGRVNUOiBcIm1hbmlmZXN0XCIsXG4gICAgUEVSU0lTVEVOVDogXCJwZXJzaXN0ZW50XCIsXG4gICAgREFUQTogXCJkYXRhXCJcbiAgfSxcbiAgc2F2ZVRvRGlzazogdHJ1ZSxcbiAgdGltZXM6IHtcbiAgICBET1dOTE9BRF9USU1FT1VUOiA1MDAwLFxuICAgIFJFVFJZX1RJTUVPVVQ6IDUwMDBcbiAgfSxcbiAgdXNlQ2h1bmtlZEVuY29kaW5nOiBmYWxzZSxcbiAgdXNlSGVhZFJlcXVlc3RzOiB0cnVlLFxuICBub0NhY2hlOiBmYWxzZSxcbiAgZGVmYXVsdE1hbmlmZXN0UmVxdWVzdE9wdGlvbnM6IHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkFjY2VwdFwiOiBcIiovKlwiLFxuICAgICAgLy8gJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsIC8vIGd6aXAgZG9lc24ndCB3b3JrXG4gICAgICAvLyAnQWNjZXB0LUxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC44LHBsO3E9MC42JyxcbiAgICAgIC8vICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgIC8vICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLCAvLyBAVE9ETyBpbnZlc3RpZ2F0ZSBpdFxuICAgICAgLy8gJ1ByYWdtYSc6ICduby1jYWNoZScsXG4gICAgICBcIlVzZXItQWdlbnRcIjogXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xMV82KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNTkuMC4zMDcxLjExNSBFbGVjdHJvbi8xLjguNiBTYWZhcmkvNTM3LjM2XCJcbiAgICB9LFxuICAgIHRpbWVvdXQ6IDUwMDBcbiAgfSxcbiAgLy8gbWF0Y2hlcyBhbnkgbGV0dGVyIG9yIG51bWJlciBvciB1bmljb2RlIGNoYXJhY3RlcnMgKHJlZ2lvbmFsIGNoYXJhY3RlcnMpIG9yIFwiLVwiIG9yIFwiX1wiIGFzIGEgc3RhcnRcbiAgLy8gdGhlbiBpdCBtYXkgaGF2ZSBhbnkgbGV0dGVyIG9yIG51bWJlciBvciB1bmljb2RlIGNoYXJhY3RlcnMgKHJlZ2lvbmFsIGNoYXJhY3RlcnMpIG9yIHNwYWNlIG9yIGFueSBvZiB0aGUgZm9sbG93aW5nIGNoYXJhY3RlcnNcbiAgLy8gLC47J1tde30hQCMkJSYqKCktXz0rXG4gIC8vIGFuZCBpcyBhbGwgY2FzZSBpbnNlbnNpdGl2ZVxuICBjdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXg6IC9eKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXXxcXC18XFxfKXsxLDF9KFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXXxcXCB8XFwsfFxcLnxcXDt8XFwnfFxcW3xcXF18XFx7fFxcfXxcXCF8XFxAfFxcI3xcXCR8XFwlfFxcJnxcXCp8XFwofFxcKXxcXC18XFxffFxcPXxcXCs/KXswLDQ5fSQvaSxcbiAgb3BlbmluZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyOiAnPHNwYW4gc3R5bGU9XFwnYmFja2dyb3VuZC1jb2xvcjpibHVlO1xcJz4nLFxuICBjbG9zaW5nVGFnRm9ySW52YWxpZEN1c3RvbU1hbmlmZXN0SWRDaGFyYWN0ZXI6ICc8L3NwYW4+J1xufTtcblxuZnVuY3Rpb24gbG9hZFVzZXJTZXR0aW5ncyAoanNvblNldHRpbmdzKSB7XG4gIGxldCBhcHBEaXIgPSBlbGVjdHJvbkFwcC5nZXRQYXRoKFwidXNlckRhdGFcIik7XG5cbiAgbGV0IHNldHRpbmdzTmFtZSA9IFwic2V0dGluZ3NcIjtcbiAgbGV0IHB1YmxpY05hbWUgPSBcInB1YmxpY1wiO1xuICBsZXQgZG93bmxvYWRzTmFtZSA9IFwibW92aWVzXCI7XG5cbiAgaWYgKGpzb25TZXR0aW5ncykge1xuICAgIGlmIChqc29uU2V0dGluZ3MuYXBwRGlyKSB7XG4gICAgICBhcHBEaXIgPSBqc29uU2V0dGluZ3MuYXBwRGlyO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLnNldHRpbmdzTmFtZSkge1xuICAgICAgc2V0dGluZ3NOYW1lID0ganNvblNldHRpbmdzLnNldHRpbmdzTmFtZTtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5wdWJsaWNOYW1lKSB7XG4gICAgICBwdWJsaWNOYW1lID0ganNvblNldHRpbmdzLnB1YmxpY05hbWU7XG4gICAgfVxuICAgIGlmIChqc29uU2V0dGluZ3MuZG93bmxvYWRzTmFtZSkge1xuICAgICAgZG93bmxvYWRzTmFtZSA9IGpzb25TZXR0aW5ncy5kb3dubG9hZHNOYW1lO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLm9mZmxpbmVEb21haW4pIHtcbiAgICAgIHNldHRpbmdzLm9mZmxpbmVEb21haW4gPSBqc29uU2V0dGluZ3Mub2ZmbGluZURvbWFpbjtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5vZmZsaW5lQ29udGVudFBvcnRTdGFydCkge1xuICAgICAgc2V0dGluZ3Mub2ZmbGluZUNvbnRlbnRQb3J0U3RhcnQgPSBqc29uU2V0dGluZ3Mub2ZmbGluZUNvbnRlbnRQb3J0U3RhcnQ7XG4gICAgfVxuICAgIGlmIChqc29uU2V0dGluZ3MubWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UpIHtcbiAgICAgIHNldHRpbmdzLm1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlID0ganNvblNldHRpbmdzLm1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbCkge1xuICAgICAgc2V0dGluZ3MubnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsID0ganNvblNldHRpbmdzLm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbDtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5zdG9wT25FcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXR0aW5ncy5zdG9wT25FcnJvciA9IGpzb25TZXR0aW5ncy5zdG9wT25FcnJvcjtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5jdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXgpIHtcbiAgICAgIHNldHRpbmdzLmN1c3RvbU1hbmlmZXN0SWRGb2xkZXJSZWdleCA9IGpzb25TZXR0aW5ncy5jdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXg7XG4gICAgfVxuICAgIGlmIChqc29uU2V0dGluZ3Mub3BlbmluZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyKSB7XG4gICAgICBzZXR0aW5ncy5vcGVuaW5nVGFnRm9ySW52YWxpZEN1c3RvbU1hbmlmZXN0SWRDaGFyYWN0ZXIgPSBqc29uU2V0dGluZ3Mub3BlbmluZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLmNsb3NpbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3Rlcikge1xuICAgICAgc2V0dGluZ3MuY2xvc2luZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyID0ganNvblNldHRpbmdzLmNsb3NpbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlcjtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy51c2VIZWFkUmVxdWVzdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0dGluZ3MudXNlSGVhZFJlcXVlc3RzID0ganNvblNldHRpbmdzLnVzZUhlYWRSZXF1ZXN0cztcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy50aW1lcyAmJiBqc29uU2V0dGluZ3MudGltZXMuUkVUUllfVElNRU9VVCkge1xuICAgICAgc2V0dGluZ3MudGltZXMuUkVUUllfVElNRU9VVCA9IGpzb25TZXR0aW5ncy50aW1lcy5SRVRSWV9USU1FT1VUO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLk1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlkpIHtcbiAgICAgIHNldHRpbmdzLk1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlkgPSBqc29uU2V0dGluZ3MuTUFYX0VSUk9SU19ET1dOTE9BRF9SRVRSWTtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5NQVhfSU5URVJORVRfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZKSB7XG4gICAgICBzZXR0aW5ncy5NQVhfSU5URVJORVRfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZID0ganNvblNldHRpbmdzLk1BWF9JTlRFUk5FVF9FUlJPUlNfRE9XTkxPQURfQ0hVTktfUkVUUlk7XG4gICAgfVxuICAgIGlmIChqc29uU2V0dGluZ3MuTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWSkge1xuICAgICAgc2V0dGluZ3MuTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWSA9IGpzb25TZXR0aW5ncy5NQVhfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLm5vQ2FjaGUpIHtcbiAgICAgIHNldHRpbmdzLm5vQ2FjaGUgPSBqc29uU2V0dGluZ3Mubm9DYWNoZVxuICAgIH1cbiAgfVxuXG4gIGFwcERpciA9IHBhdGguam9pbihwYXRoLnJlc29sdmUoYXBwRGlyKSwgXCIvXCIpO1xuXG4gIGxldCBzZXR0aW5nc0ZvbGRlciA9IHBhdGguam9pbihwYXRoLnJlc29sdmUoYXBwRGlyICsgc2V0dGluZ3NOYW1lKSArIFwiL1wiLCBcIi9cIik7XG5cbiAgbGV0IHB1YmxpY0ZvbGRlclBhdGggPSBwYXRoLmpvaW4ocGF0aC5yZXNvbHZlKGFwcERpciArIHB1YmxpY05hbWUpICsgXCIvXCIsIFwiL1wiKTtcblxuICBsZXQgZG93bmxvYWRzRm9sZGVyUGF0aCA9IHBhdGguam9pbihwYXRoLnJlc29sdmUocHVibGljRm9sZGVyUGF0aCArIGRvd25sb2Fkc05hbWUpICsgXCIvXCIsIFwiL1wiKTtcblxuICBzZXR0aW5ncy5hcHBEaXIgPSBhcHBEaXI7XG4gIHNldHRpbmdzLmRvd25sb2Fkc0ZvbGRlclBhdGggPSBkb3dubG9hZHNGb2xkZXJQYXRoO1xuICBzZXR0aW5ncy5kb3dubG9hZHNOYW1lID0gZG93bmxvYWRzTmFtZTtcbiAgc2V0dGluZ3MucHVibGljRm9sZGVyUGF0aCA9IHB1YmxpY0ZvbGRlclBhdGg7XG4gIHNldHRpbmdzLnNldHRpbmdzRm9sZGVyID0gc2V0dGluZ3NGb2xkZXI7XG5cbiAgLy8gY29uc29sZS5sb2coJ2FwcERpcjonLCBhcHBEaXIpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXR0aW5ncyAoKSB7XG4gIHJldHVybiBzZXR0aW5ncztcbn1cblxuZXhwb3J0cy5sb2FkID0gbG9hZFVzZXJTZXR0aW5ncztcbmV4cG9ydHMuZ2V0U2V0dGluZ3MgPSBnZXRTZXR0aW5ncztcbiJdLCJuYW1lcyI6WyJlbGVjdHJvbkFwcCIsInJlcXVpcmUiLCJhcHAiLCJwYXRoIiwic2V0dGluZ3MiLCJkb3dubG9hZGluZ1RocmVhZHNSdWxlcyIsIml0ZW1zIiwibWF4IiwiZmlsZXMiLCJ0aHJlYWRzIiwic2l6ZSIsIm51bWJlciIsIk1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlkiLCJNQVhfSU5URVJORVRfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZIiwiTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWSIsIm9mZmxpbmVEb21haW4iLCJvZmZsaW5lQ29udGVudFBvcnRTdGFydCIsIm1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlIiwibnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsIiwic3RvcE9uRXJyb3IiLCJzdG9yZXMiLCJET1dOTE9BRFMiLCJTVEFUVVMiLCJQQVJBTVMiLCJNQU5JRkVTVCIsIlBFUlNJU1RFTlQiLCJEQVRBIiwic2F2ZVRvRGlzayIsInRpbWVzIiwiRE9XTkxPQURfVElNRU9VVCIsIlJFVFJZX1RJTUVPVVQiLCJ1c2VDaHVua2VkRW5jb2RpbmciLCJ1c2VIZWFkUmVxdWVzdHMiLCJub0NhY2hlIiwiZGVmYXVsdE1hbmlmZXN0UmVxdWVzdE9wdGlvbnMiLCJoZWFkZXJzIiwidGltZW91dCIsImN1c3RvbU1hbmlmZXN0SWRGb2xkZXJSZWdleCIsIm9wZW5pbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlciIsImNsb3NpbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlciIsImxvYWRVc2VyU2V0dGluZ3MiLCJqc29uU2V0dGluZ3MiLCJhcHBEaXIiLCJnZXRQYXRoIiwic2V0dGluZ3NOYW1lIiwicHVibGljTmFtZSIsImRvd25sb2Fkc05hbWUiLCJ1bmRlZmluZWQiLCJqb2luIiwicmVzb2x2ZSIsInNldHRpbmdzRm9sZGVyIiwicHVibGljRm9sZGVyUGF0aCIsImRvd25sb2Fkc0ZvbGRlclBhdGgiLCJnZXRTZXR0aW5ncyIsImV4cG9ydHMiLCJsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9277\n')},9097:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n/**\n * @typedef manifestObject\n * @property {Object} video - video representations\n * @property {Object} audio - audio representations\n * @property {Object} text - text representations\n * @property {String} id - manifest id\n */\n\n/**\n * @memberOf DownstreamElectronFE\n * @namespace DownstreamElectronFE.downloads\n */\n\nvar downloads = {};\n/**\n * create a new download, if success the result will contain "id" which should be used for other calls\n * @method create\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestUrl - manifest url\n * @param {string} customManifestId - custom manifest id, if empty, null or \'\'\n * the id will be generated automatically.<br>\n * The manifestId is used to also store information about movie under the same folder so if you overwrite it,\n * it will be also used as a name for folder where movie content will be stored\n * customManifestId will be validated against default regex\n * {@link DownstreamElectronBE.configuration|customManifestIdFolderRegex}\n * @example\n * var url = "http://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd";\n * DownstreamElectronFE.downloads.create(url)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * DownstreamElectronFE.downloads.create(url, \'<myCustomId>\')\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.create = __webpack_require__(3678);\n/**\n * create a persistent session\n * @method createPersistent\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {PersistentConfig} config - persistent configuration\n * @param {boolean} [forced=false] - replace existing persistent session, if true\n * @example\n * var config = {\n *   licenseUrl: \'https://lic.staging.drmtoday.com/license-proxy-widevine/cenc/\',\n *   serverCertificate: new Uint8Array(<server_certificate>),\n *   customData: {\n *     userId: \'<user_id>\',\n *     sessionId: \'<session_id>\',\n *     merchant: \'<merchant>\'\n *   }\n * };\n * DownstreamElectronFE.downloads.createPersistent(manifestId, config)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.createPersistent = __webpack_require__(6916);\n/**\n * Get info about manifest folder\n * @method getFolderInfo\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.getFolderInfo()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.getFolderInfo = __webpack_require__(7217);\n/**\n * get ids of all downloads\n * @method getList\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.getList()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.getList = __webpack_require__(136);\n/**\n * get list of all downloads with additional info {@link manifestObject}\n * @method getListWithInfo\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.getListWithInfo()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.getListWithInfo = __webpack_require__(7318);\n/**\n * get offline link for download which can be used by any player to play movie\n * @method getOfflineLink\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.getOfflineLink(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.getOfflineLink = __webpack_require__(9074);\n/**\n * get info for download\n * @method info\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.info(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.info = __webpack_require__(589);\n/**\n * removes download\n * @method remove\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.remove(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.remove = __webpack_require__(6128);\n/**\n * removes all downloads\n * @method removeAll\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.removeAll()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.removeAll = __webpack_require__(5058);\n/**\n * removes all unfinished downloads\n * @method removeAllUnfinished\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.removeAllUnfinished()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.removeAllUnfinished = __webpack_require__(9199);\n/**\n * removes persistent information previously stored\n * @method removePersistent\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.removePersistent(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.removePersistent = __webpack_require__(7552);\n/**\n * resumes download which could be previously stopped or is broken\n * @method resume\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.resume(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.resume = __webpack_require__(7560);\n/**\n * Saves some user data this might be a string or json object.\n * This data will be available as "data" property for info of download\n * @method saveData\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {string|json} data - user data\n * @example\n * DownstreamElectronFE.downloads.saveData(manifestId, data)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.saveData = __webpack_require__(9463);\n/**\n * saves persistent session identifier\n * @method savePersistent\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {string} persistentSessionId - persistent session identifier\n * @example\n * DownstreamElectronFE.downloads.savePersistent(manifestId, persistentSessionId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.savePersistent = __webpack_require__(3880);\n/**\n * starts download\n * @method start\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {object} representations - representations to be downloaded, available options: \'video\', \'audio\', \'text\'.\n * For each option please provide an array of representations id to be downloaded\n * @example\n * DownstreamElectronFE.downloads.start(manifestId, {video: [\'video=400000\', \'video=795000\'], audio: [\'audio=128000\']})\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.start = __webpack_require__(1792);\n/**\n * stops download\n * @method stop\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.stop(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.stop = __webpack_require__(647);\n/**\n * stops all downloads\n * @method stopAll\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.stopAll()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.stopAll = __webpack_require__(1120);\n/**\n * subscribe to download progress\n * @method subscribe\n * @memberOf DownstreamElectronFE.downloads\n * @param {string|array} manifestId - manifest identifier, or the array of the manifests identifier.\n * @param {number} interval - in milliseconds - how often callback onProgress should be invoked\n * @param {function} onProgress - callback to be invoked as often as defined by interval with [stats information]{@link DownloadStats}\n * @param {function} onFinish - callback to be invoked when download is finished\n * @example\n * function onProgress (err, stats) {\n *   if (err) {\n *     console.logs(stats);\n *   }\n * };\n * function onFinish (err, info) {\n *   if (err) {\n *     console.log("error", err);\n *   } else {\n *     console.log("success", info);\n *   }\n * };\n * DownstreamElectronFE.downloads.subscribe(manifestId, 1000, onProgress, onFinish)\n *    .then(\n *      function onSuccess() {console.log("subscribed successfully");},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.subscribe = __webpack_require__(608);\n/**\n * removes callbacks from subscribe process\n * @method unsubscribe\n * @memberOf DownstreamElectronFE.downloads\n * @param {string|array} manifestId - manifest identifier, or the array of the manifests identifier.\n * @example\n * DownstreamElectronFE.downloads.unsubscribe(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.unsubscribe = __webpack_require__(6439);\n/**\n * update download folder info for manifest id\n * this can be usefule when user has copied download folder\n * @method updateDownloadFolder\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {string} downloadFolder - new download folder path\n * @example\n * DownstreamElectronFE.downloads.updateDownloadFolder(manifestId, downloadFolder)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\ndownloads.updateDownloadFolder = __webpack_require__(1052);\n/**\n * remove all subscribers\n * @private\n * @method removeSubscribers\n * @memberOf DownstreamElectronFE\n * @example\n * DownstreamElectronFE.removeSubscribers()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\n\nvar removeSubscribers = __webpack_require__(8105);\n\nmodule.exports = {\n  downloads: downloads,\n  removeSubscribers: removeSubscribers\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsSUFBTW9CLGlCQUFpQixHQUFHcEIsbUJBQU8sQ0FBQyxJQUFELENBQWpDOztBQUVBcUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2Z4QixTQUFTLEVBQUVBLFNBREk7RUFFZnNCLGlCQUFpQixFQUFFQTtBQUZKLENBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzLWFsbC5qcz9iMGRhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEB0eXBlZGVmIG1hbmlmZXN0T2JqZWN0XG4gKiBAcHJvcGVydHkge09iamVjdH0gdmlkZW8gLSB2aWRlbyByZXByZXNlbnRhdGlvbnNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBhdWRpbyAtIGF1ZGlvIHJlcHJlc2VudGF0aW9uc1xuICogQHByb3BlcnR5IHtPYmplY3R9IHRleHQgLSB0ZXh0IHJlcHJlc2VudGF0aW9uc1xuICogQHByb3BlcnR5IHtTdHJpbmd9IGlkIC0gbWFuaWZlc3QgaWRcbiAqL1xuXG5cbi8qKlxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFXG4gKiBAbmFtZXNwYWNlIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICovXG5sZXQgZG93bmxvYWRzID0ge307XG5cbi8qKlxuICogY3JlYXRlIGEgbmV3IGRvd25sb2FkLCBpZiBzdWNjZXNzIHRoZSByZXN1bHQgd2lsbCBjb250YWluIFwiaWRcIiB3aGljaCBzaG91bGQgYmUgdXNlZCBmb3Igb3RoZXIgY2FsbHNcbiAqIEBtZXRob2QgY3JlYXRlXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RVcmwgLSBtYW5pZmVzdCB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBjdXN0b21NYW5pZmVzdElkIC0gY3VzdG9tIG1hbmlmZXN0IGlkLCBpZiBlbXB0eSwgbnVsbCBvciAnJ1xuICogdGhlIGlkIHdpbGwgYmUgZ2VuZXJhdGVkIGF1dG9tYXRpY2FsbHkuPGJyPlxuICogVGhlIG1hbmlmZXN0SWQgaXMgdXNlZCB0byBhbHNvIHN0b3JlIGluZm9ybWF0aW9uIGFib3V0IG1vdmllIHVuZGVyIHRoZSBzYW1lIGZvbGRlciBzbyBpZiB5b3Ugb3ZlcndyaXRlIGl0LFxuICogaXQgd2lsbCBiZSBhbHNvIHVzZWQgYXMgYSBuYW1lIGZvciBmb2xkZXIgd2hlcmUgbW92aWUgY29udGVudCB3aWxsIGJlIHN0b3JlZFxuICogY3VzdG9tTWFuaWZlc3RJZCB3aWxsIGJlIHZhbGlkYXRlZCBhZ2FpbnN0IGRlZmF1bHQgcmVnZXhcbiAqIHtAbGluayBEb3duc3RyZWFtRWxlY3Ryb25CRS5jb25maWd1cmF0aW9ufGN1c3RvbU1hbmlmZXN0SWRGb2xkZXJSZWdleH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgdXJsID0gXCJodHRwOi8vc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9zaGFrYS1kZW1vLWFzc2V0cy9hbmdlbC1vbmUvZGFzaC5tcGRcIjtcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5jcmVhdGUodXJsKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHtjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgcmVzdWx0KTt9LFxuICogICAgICBmdW5jdGlvbiBvbkVycm9yKGVycikge2NvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgIH0pXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMuY3JlYXRlKHVybCwgJzxteUN1c3RvbUlkPicpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLmNyZWF0ZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvY3JlYXRlJyk7XG5cbi8qKlxuICogY3JlYXRlIGEgcGVyc2lzdGVudCBzZXNzaW9uXG4gKiBAbWV0aG9kIGNyZWF0ZVBlcnNpc3RlbnRcbiAqIEBtZW1iZXJPZiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtQZXJzaXN0ZW50Q29uZmlnfSBjb25maWcgLSBwZXJzaXN0ZW50IGNvbmZpZ3VyYXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlZD1mYWxzZV0gLSByZXBsYWNlIGV4aXN0aW5nIHBlcnNpc3RlbnQgc2Vzc2lvbiwgaWYgdHJ1ZVxuICogQGV4YW1wbGVcbiAqIHZhciBjb25maWcgPSB7XG4gKiAgIGxpY2Vuc2VVcmw6ICdodHRwczovL2xpYy5zdGFnaW5nLmRybXRvZGF5LmNvbS9saWNlbnNlLXByb3h5LXdpZGV2aW5lL2NlbmMvJyxcbiAqICAgc2VydmVyQ2VydGlmaWNhdGU6IG5ldyBVaW50OEFycmF5KDxzZXJ2ZXJfY2VydGlmaWNhdGU+KSxcbiAqICAgY3VzdG9tRGF0YToge1xuICogICAgIHVzZXJJZDogJzx1c2VyX2lkPicsXG4gKiAgICAgc2Vzc2lvbklkOiAnPHNlc3Npb25faWQ+JyxcbiAqICAgICBtZXJjaGFudDogJzxtZXJjaGFudD4nXG4gKiAgIH1cbiAqIH07XG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMuY3JlYXRlUGVyc2lzdGVudChtYW5pZmVzdElkLCBjb25maWcpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLmNyZWF0ZVBlcnNpc3RlbnQgPSByZXF1aXJlKCcuL2JlLW1ldGhvZHMvZG93bmxvYWRzL2NyZWF0ZVBlcnNpc3RlbnQnKTtcblxuLyoqXG4gKiBHZXQgaW5mbyBhYm91dCBtYW5pZmVzdCBmb2xkZXJcbiAqIEBtZXRob2QgZ2V0Rm9sZGVySW5mb1xuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5nZXRGb2xkZXJJbmZvKClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuZ2V0Rm9sZGVySW5mbyA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvZm9sZGVyLWluZm8nKTtcblxuLyoqXG4gKiBnZXQgaWRzIG9mIGFsbCBkb3dubG9hZHNcbiAqIEBtZXRob2QgZ2V0TGlzdFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5nZXRMaXN0KClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuZ2V0TGlzdCA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvZ2V0LWxpc3QnKTtcblxuLyoqXG4gKiBnZXQgbGlzdCBvZiBhbGwgZG93bmxvYWRzIHdpdGggYWRkaXRpb25hbCBpbmZvIHtAbGluayBtYW5pZmVzdE9iamVjdH1cbiAqIEBtZXRob2QgZ2V0TGlzdFdpdGhJbmZvXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLmdldExpc3RXaXRoSW5mbygpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLmdldExpc3RXaXRoSW5mbyA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvZ2V0LWxpc3Qtd2l0aC1pbmZvJyk7XG5cbi8qKlxuICogZ2V0IG9mZmxpbmUgbGluayBmb3IgZG93bmxvYWQgd2hpY2ggY2FuIGJlIHVzZWQgYnkgYW55IHBsYXllciB0byBwbGF5IG1vdmllXG4gKiBAbWV0aG9kIGdldE9mZmxpbmVMaW5rXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBleGFtcGxlXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMuZ2V0T2ZmbGluZUxpbmsobWFuaWZlc3RJZClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuZ2V0T2ZmbGluZUxpbmsgPSByZXF1aXJlKCcuL2JlLW1ldGhvZHMvZG93bmxvYWRzL2dldC1vZmZsaW5lLWxpbmsnKTtcblxuLyoqXG4gKiBnZXQgaW5mbyBmb3IgZG93bmxvYWRcbiAqIEBtZXRob2QgaW5mb1xuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLmluZm8obWFuaWZlc3RJZClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuaW5mbyA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvaW5mbycpO1xuXG4vKipcbiAqIHJlbW92ZXMgZG93bmxvYWRcbiAqIEBtZXRob2QgcmVtb3ZlXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBleGFtcGxlXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMucmVtb3ZlKG1hbmlmZXN0SWQpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnJlbW92ZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvcmVtb3ZlJyk7XG5cbi8qKlxuICogcmVtb3ZlcyBhbGwgZG93bmxvYWRzXG4gKiBAbWV0aG9kIHJlbW92ZUFsbFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5yZW1vdmVBbGwoKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHtjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgcmVzdWx0KTt9LFxuICogICAgICBmdW5jdGlvbiBvbkVycm9yKGVycikge2NvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgIH0pXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbmRvd25sb2Fkcy5yZW1vdmVBbGwgPSByZXF1aXJlKCcuL2JlLW1ldGhvZHMvZG93bmxvYWRzL3JlbW92ZS1hbGwnKTtcblxuLyoqXG4gKiByZW1vdmVzIGFsbCB1bmZpbmlzaGVkIGRvd25sb2Fkc1xuICogQG1ldGhvZCByZW1vdmVBbGxVbmZpbmlzaGVkXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnJlbW92ZUFsbFVuZmluaXNoZWQoKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHtjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgcmVzdWx0KTt9LFxuICogICAgICBmdW5jdGlvbiBvbkVycm9yKGVycikge2NvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgIH0pXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbmRvd25sb2Fkcy5yZW1vdmVBbGxVbmZpbmlzaGVkID0gcmVxdWlyZSgnLi9iZS1tZXRob2RzL2Rvd25sb2Fkcy9yZW1vdmUtYWxsLXVuZmluaXNoZWQnKTtcblxuLyoqXG4gKiByZW1vdmVzIHBlcnNpc3RlbnQgaW5mb3JtYXRpb24gcHJldmlvdXNseSBzdG9yZWRcbiAqIEBtZXRob2QgcmVtb3ZlUGVyc2lzdGVudFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnJlbW92ZVBlcnNpc3RlbnQobWFuaWZlc3RJZClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMucmVtb3ZlUGVyc2lzdGVudCA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvcmVtb3ZlLXBlcnNpc3RlbnQnKTtcblxuLyoqXG4gKiByZXN1bWVzIGRvd25sb2FkIHdoaWNoIGNvdWxkIGJlIHByZXZpb3VzbHkgc3RvcHBlZCBvciBpcyBicm9rZW5cbiAqIEBtZXRob2QgcmVzdW1lXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBleGFtcGxlXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMucmVzdW1lKG1hbmlmZXN0SWQpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnJlc3VtZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvcmVzdW1lJyk7XG5cbi8qKlxuICogU2F2ZXMgc29tZSB1c2VyIGRhdGEgdGhpcyBtaWdodCBiZSBhIHN0cmluZyBvciBqc29uIG9iamVjdC5cbiAqIFRoaXMgZGF0YSB3aWxsIGJlIGF2YWlsYWJsZSBhcyBcImRhdGFcIiBwcm9wZXJ0eSBmb3IgaW5mbyBvZiBkb3dubG9hZFxuICogQG1ldGhvZCBzYXZlRGF0YVxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ3xqc29ufSBkYXRhIC0gdXNlciBkYXRhXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnNhdmVEYXRhKG1hbmlmZXN0SWQsIGRhdGEpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnNhdmVEYXRhID0gcmVxdWlyZSgnLi9iZS1tZXRob2RzL2Rvd25sb2Fkcy9zYXZlLWRhdGEnKTtcblxuLyoqXG4gKiBzYXZlcyBwZXJzaXN0ZW50IHNlc3Npb24gaWRlbnRpZmllclxuICogQG1ldGhvZCBzYXZlUGVyc2lzdGVudFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGVyc2lzdGVudFNlc3Npb25JZCAtIHBlcnNpc3RlbnQgc2Vzc2lvbiBpZGVudGlmaWVyXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnNhdmVQZXJzaXN0ZW50KG1hbmlmZXN0SWQsIHBlcnNpc3RlbnRTZXNzaW9uSWQpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnNhdmVQZXJzaXN0ZW50ID0gcmVxdWlyZSgnLi9iZS1tZXRob2RzL2Rvd25sb2Fkcy9zYXZlLXBlcnNpc3RlbnQnKTtcblxuLyoqXG4gKiBzdGFydHMgZG93bmxvYWRcbiAqIEBtZXRob2Qgc3RhcnRcbiAqIEBtZW1iZXJPZiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtvYmplY3R9IHJlcHJlc2VudGF0aW9ucyAtIHJlcHJlc2VudGF0aW9ucyB0byBiZSBkb3dubG9hZGVkLCBhdmFpbGFibGUgb3B0aW9uczogJ3ZpZGVvJywgJ2F1ZGlvJywgJ3RleHQnLlxuICogRm9yIGVhY2ggb3B0aW9uIHBsZWFzZSBwcm92aWRlIGFuIGFycmF5IG9mIHJlcHJlc2VudGF0aW9ucyBpZCB0byBiZSBkb3dubG9hZGVkXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnN0YXJ0KG1hbmlmZXN0SWQsIHt2aWRlbzogWyd2aWRlbz00MDAwMDAnLCAndmlkZW89Nzk1MDAwJ10sIGF1ZGlvOiBbJ2F1ZGlvPTEyODAwMCddfSlcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuc3RhcnQgPSByZXF1aXJlKCcuL2JlLW1ldGhvZHMvZG93bmxvYWRzL3N0YXJ0Jyk7XG5cbi8qKlxuICogc3RvcHMgZG93bmxvYWRcbiAqIEBtZXRob2Qgc3RvcFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnN0b3AobWFuaWZlc3RJZClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuc3RvcCA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvc3RvcCcpO1xuXG4vKipcbiAqIHN0b3BzIGFsbCBkb3dubG9hZHNcbiAqIEBtZXRob2Qgc3RvcEFsbFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5zdG9wQWxsKClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuc3RvcEFsbCA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvc3RvcC1hbGwnKTtcblxuLyoqXG4gKiBzdWJzY3JpYmUgdG8gZG93bmxvYWQgcHJvZ3Jlc3NcbiAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXIsIG9yIHRoZSBhcnJheSBvZiB0aGUgbWFuaWZlc3RzIGlkZW50aWZpZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgLSBpbiBtaWxsaXNlY29uZHMgLSBob3cgb2Z0ZW4gY2FsbGJhY2sgb25Qcm9ncmVzcyBzaG91bGQgYmUgaW52b2tlZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25Qcm9ncmVzcyAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgYXMgb2Z0ZW4gYXMgZGVmaW5lZCBieSBpbnRlcnZhbCB3aXRoIFtzdGF0cyBpbmZvcm1hdGlvbl17QGxpbmsgRG93bmxvYWRTdGF0c31cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uRmluaXNoIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIGRvd25sb2FkIGlzIGZpbmlzaGVkXG4gKiBAZXhhbXBsZVxuICogZnVuY3Rpb24gb25Qcm9ncmVzcyAoZXJyLCBzdGF0cykge1xuICogICBpZiAoZXJyKSB7XG4gKiAgICAgY29uc29sZS5sb2dzKHN0YXRzKTtcbiAqICAgfVxuICogfTtcbiAqIGZ1bmN0aW9uIG9uRmluaXNoIChlcnIsIGluZm8pIHtcbiAqICAgaWYgKGVycikge1xuICogICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgfSBlbHNlIHtcbiAqICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgaW5mbyk7XG4gKiAgIH1cbiAqIH07XG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMuc3Vic2NyaWJlKG1hbmlmZXN0SWQsIDEwMDAsIG9uUHJvZ3Jlc3MsIG9uRmluaXNoKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcygpIHtjb25zb2xlLmxvZyhcInN1YnNjcmliZWQgc3VjY2Vzc2Z1bGx5XCIpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnN1YnNjcmliZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvc3Vic2NyaWJlJyk7XG5cbi8qKlxuICogcmVtb3ZlcyBjYWxsYmFja3MgZnJvbSBzdWJzY3JpYmUgcHJvY2Vzc1xuICogQG1ldGhvZCB1bnN1YnNjcmliZVxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyLCBvciB0aGUgYXJyYXkgb2YgdGhlIG1hbmlmZXN0cyBpZGVudGlmaWVyLlxuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy51bnN1YnNjcmliZShtYW5pZmVzdElkKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHtjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgcmVzdWx0KTt9LFxuICogICAgICBmdW5jdGlvbiBvbkVycm9yKGVycikge2NvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgIH0pXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbmRvd25sb2Fkcy51bnN1YnNjcmliZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvdW5zdWJzY3JpYmUnKTtcblxuLyoqXG4gKiB1cGRhdGUgZG93bmxvYWQgZm9sZGVyIGluZm8gZm9yIG1hbmlmZXN0IGlkXG4gKiB0aGlzIGNhbiBiZSB1c2VmdWxlIHdoZW4gdXNlciBoYXMgY29waWVkIGRvd25sb2FkIGZvbGRlclxuICogQG1ldGhvZCB1cGRhdGVEb3dubG9hZEZvbGRlclxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ30gZG93bmxvYWRGb2xkZXIgLSBuZXcgZG93bmxvYWQgZm9sZGVyIHBhdGhcbiAqIEBleGFtcGxlXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMudXBkYXRlRG93bmxvYWRGb2xkZXIobWFuaWZlc3RJZCwgZG93bmxvYWRGb2xkZXIpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnVwZGF0ZURvd25sb2FkRm9sZGVyID0gcmVxdWlyZSgnLi9iZS1tZXRob2RzL2Rvd25sb2Fkcy91cGRhdGUtZG93bmxvYWQtZm9sZGVyJyk7XG5cbi8qKlxuICogcmVtb3ZlIGFsbCBzdWJzY3JpYmVyc1xuICogQHByaXZhdGVcbiAqIEBtZXRob2QgcmVtb3ZlU3Vic2NyaWJlcnNcbiAqIEBtZW1iZXJPZiBEb3duc3RyZWFtRWxlY3Ryb25GRVxuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLnJlbW92ZVN1YnNjcmliZXJzKClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5jb25zdCByZW1vdmVTdWJzY3JpYmVycyA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9yZW1vdmUtc3Vic2NyaWJlcnMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRvd25sb2FkczogZG93bmxvYWRzLFxuICByZW1vdmVTdWJzY3JpYmVyczogcmVtb3ZlU3Vic2NyaWJlcnNcbn07XG4iXSwibmFtZXMiOlsiZG93bmxvYWRzIiwiY3JlYXRlIiwicmVxdWlyZSIsImNyZWF0ZVBlcnNpc3RlbnQiLCJnZXRGb2xkZXJJbmZvIiwiZ2V0TGlzdCIsImdldExpc3RXaXRoSW5mbyIsImdldE9mZmxpbmVMaW5rIiwiaW5mbyIsInJlbW92ZSIsInJlbW92ZUFsbCIsInJlbW92ZUFsbFVuZmluaXNoZWQiLCJyZW1vdmVQZXJzaXN0ZW50IiwicmVzdW1lIiwic2F2ZURhdGEiLCJzYXZlUGVyc2lzdGVudCIsInN0YXJ0Iiwic3RvcCIsInN0b3BBbGwiLCJzdWJzY3JpYmUiLCJ1bnN1YnNjcmliZSIsInVwZGF0ZURvd25sb2FkRm9sZGVyIiwicmVtb3ZlU3Vic2NyaWJlcnMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9097\n')},3678:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar Manifest = (__webpack_require__(1269)/* .Manifest */ .G);\n\nvar translation = __webpack_require__(817);\n\nvar canCreateManifest = __webpack_require__(5079);\n\nvar getInvalidDiff = __webpack_require__(7815);\n\nvar appSettings = __webpack_require__(9277);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestUrl, customManifestId, manifestStr) {\n  var useCustomId = true;\n\n  if (typeof customManifestId === "undefined" || customManifestId === "" || customManifestId === null) {\n    useCustomId = false;\n  }\n\n  if (useCustomId) {\n    if (typeof customManifestId !== "undefined" && typeof customManifestId !== "number" && typeof customManifestId !== "string") {\n      onFailure(translation.getError(translation.e.manifests.INVALID_ID, customManifestId));\n      return;\n    }\n\n    var customManifestIdFolderRegex = appSettings.getSettings().customManifestIdFolderRegex;\n\n    if (!customManifestId.match(customManifestIdFolderRegex)) {\n      var invalid = getInvalidDiff(customManifestId, customManifestIdFolderRegex, appSettings.getSettings().openingTagForInvalidCustomManifestIdCharacter, appSettings.getSettings().closingTagForInvalidCustomManifestIdCharacter);\n      onFailure(translation.getError(translation.e.manifests.INVALID_ID, invalid));\n      return;\n    }\n  }\n\n  var manifest = new Manifest(customManifestId);\n  var promise;\n\n  if (manifestStr) {\n    promise = manifest.loadWithManifest(manifestUrl, manifestStr);\n  } else {\n    promise = manifest.load(manifestUrl);\n  }\n\n  promise.then(function () {\n    if (useCustomId) {\n      canCreateManifest(customManifestId).then(function () {\n        api.manifestController.cacheManifest(manifest);\n        onSuccess(manifest.getJsonInfo());\n      }, function (err) {\n        onFailure(translation.getError(translation.e.manifests.FOLDER_ALREADY_EXISTS, customManifestId), err);\n      });\n    } else {\n      api.manifestController.cacheManifest(manifest);\n      onSuccess(manifest.getJsonInfo());\n    }\n  }, function (err) {\n    onFailure(translation.getError(translation.e.manifests.LOADING_FAILED, manifestUrl), err);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFDQWpCLFNBQVMsQ0FBQ2lCLFFBQVEsQ0FBQ08sV0FBVCxFQUFELENBQVQ7SUFDRDtFQUNGLENBWkQsRUFZRyxVQUFDQyxHQUFELEVBQVM7SUFDVnhCLFNBQVMsQ0FBQ1IsV0FBVyxDQUFDYyxRQUFaLENBQXFCZCxXQUFXLENBQUNlLENBQVosQ0FBY0MsU0FBZCxDQUF3QmtCLGNBQTdDLEVBQTZEeEIsV0FBN0QsQ0FBRCxFQUE0RXNCLEdBQTVFLENBQVQ7RUFDRCxDQWREO0FBZUQsQ0FwREQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL2NyZWF0ZS5qcz9lYzI0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBNYW5pZmVzdCA9IHJlcXVpcmUoXCIuLi8uLi9tYW5pZmVzdC9sb2FkZXIvbWFuaWZlc3RcIikuTWFuaWZlc3Q7XG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoXCIuLi8uLi90cmFuc2xhdGlvbi9pbmRleFwiKTtcbmNvbnN0IGNhbkNyZWF0ZU1hbmlmZXN0ID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvY2FuLWNyZWF0ZS1tYW5pZmVzdFwiKTtcbmNvbnN0IGdldEludmFsaWREaWZmID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvZ2V0LWludmFsaWQtZGlmZlwiKTtcbmNvbnN0IGFwcFNldHRpbmdzID0gcmVxdWlyZShcIi4uLy4uL2FwcC1zZXR0aW5nc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdFVybCwgY3VzdG9tTWFuaWZlc3RJZCwgbWFuaWZlc3RTdHIpIHtcbiAgdmFyIHVzZUN1c3RvbUlkID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGN1c3RvbU1hbmlmZXN0SWQgPT09IFwidW5kZWZpbmVkXCIgfHxcbiAgICBjdXN0b21NYW5pZmVzdElkID09PSBcIlwiIHx8XG4gICAgY3VzdG9tTWFuaWZlc3RJZCA9PT0gbnVsbCkge1xuICAgIHVzZUN1c3RvbUlkID0gZmFsc2U7XG4gIH1cblxuICBpZiAodXNlQ3VzdG9tSWQpIHtcbiAgICBpZiAodHlwZW9mIGN1c3RvbU1hbmlmZXN0SWQgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgIHR5cGVvZiBjdXN0b21NYW5pZmVzdElkICE9PSBcIm51bWJlclwiICYmXG4gICAgICB0eXBlb2YgY3VzdG9tTWFuaWZlc3RJZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLklOVkFMSURfSUQsIGN1c3RvbU1hbmlmZXN0SWQpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VzdG9tTWFuaWZlc3RJZEZvbGRlclJlZ2V4ID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5jdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXg7XG5cbiAgICBpZiAoIWN1c3RvbU1hbmlmZXN0SWQubWF0Y2goY3VzdG9tTWFuaWZlc3RJZEZvbGRlclJlZ2V4KSkge1xuICAgICAgY29uc3QgaW52YWxpZCA9IGdldEludmFsaWREaWZmKFxuICAgICAgICBjdXN0b21NYW5pZmVzdElkLFxuICAgICAgICBjdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXgsXG4gICAgICAgIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkub3BlbmluZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyLFxuICAgICAgICBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLmNsb3NpbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3Rlcik7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuSU5WQUxJRF9JRCwgaW52YWxpZCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGxldCBtYW5pZmVzdCA9IG5ldyBNYW5pZmVzdChjdXN0b21NYW5pZmVzdElkKTtcbiAgbGV0IHByb21pc2U7XG4gIGlmIChtYW5pZmVzdFN0cikge1xuICAgIHByb21pc2UgPSBtYW5pZmVzdC5sb2FkV2l0aE1hbmlmZXN0KG1hbmlmZXN0VXJsLCBtYW5pZmVzdFN0cilcbiAgfSBlbHNlIHtcbiAgICBwcm9taXNlID0gbWFuaWZlc3QubG9hZChtYW5pZmVzdFVybCk7XG4gIH1cblxuICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgIGlmICh1c2VDdXN0b21JZCkge1xuICAgICAgY2FuQ3JlYXRlTWFuaWZlc3QoY3VzdG9tTWFuaWZlc3RJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFwaS5tYW5pZmVzdENvbnRyb2xsZXIuY2FjaGVNYW5pZmVzdChtYW5pZmVzdCk7XG4gICAgICAgIG9uU3VjY2VzcyhtYW5pZmVzdC5nZXRKc29uSW5mbygpKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLkZPTERFUl9BTFJFQURZX0VYSVNUUywgY3VzdG9tTWFuaWZlc3RJZCksIGVycik7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLm1hbmlmZXN0Q29udHJvbGxlci5jYWNoZU1hbmlmZXN0KG1hbmlmZXN0KTtcbiAgICAgIG9uU3VjY2VzcyhtYW5pZmVzdC5nZXRKc29uSW5mbygpKTtcbiAgICB9XG4gIH0sIChlcnIpID0+IHtcbiAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTE9BRElOR19GQUlMRUQsIG1hbmlmZXN0VXJsKSwgZXJyKTtcbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbIk1hbmlmZXN0IiwicmVxdWlyZSIsInRyYW5zbGF0aW9uIiwiY2FuQ3JlYXRlTWFuaWZlc3QiLCJnZXRJbnZhbGlkRGlmZiIsImFwcFNldHRpbmdzIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0VXJsIiwiY3VzdG9tTWFuaWZlc3RJZCIsIm1hbmlmZXN0U3RyIiwidXNlQ3VzdG9tSWQiLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJJTlZBTElEX0lEIiwiY3VzdG9tTWFuaWZlc3RJZEZvbGRlclJlZ2V4IiwiZ2V0U2V0dGluZ3MiLCJtYXRjaCIsImludmFsaWQiLCJvcGVuaW5nVGFnRm9ySW52YWxpZEN1c3RvbU1hbmlmZXN0SWRDaGFyYWN0ZXIiLCJjbG9zaW5nVGFnRm9ySW52YWxpZEN1c3RvbU1hbmlmZXN0SWRDaGFyYWN0ZXIiLCJtYW5pZmVzdCIsInByb21pc2UiLCJsb2FkV2l0aE1hbmlmZXN0IiwibG9hZCIsInRoZW4iLCJtYW5pZmVzdENvbnRyb2xsZXIiLCJjYWNoZU1hbmlmZXN0IiwiZ2V0SnNvbkluZm8iLCJlcnIiLCJGT0xERVJfQUxSRUFEWV9FWElTVFMiLCJMT0FESU5HX0ZBSUxFRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3678\n')},6916:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess\n/*, onFailure, target, manifestId */\n) {\n  onSuccess();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjkxNi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUM7QUFBVTtBQUF6QixFQUErRDtFQUM5RUEsU0FBUztBQUNWLENBRkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL2NyZWF0ZVBlcnNpc3RlbnQuanM/ZWFkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MgLyosIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkICovKSB7XG4gIG9uU3VjY2VzcygpO1xufTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBpIiwib25TdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6916\n")},7217:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.offlineController.getManifestFolderInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.INFO_FAILED, manifestId), err);\n    } else {\n      onSuccess(info);\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzIxNy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxVQUE3QyxFQUF5RDtFQUN4RUosR0FBRyxDQUFDSyxpQkFBSixDQUFzQkMscUJBQXRCLENBQTRDRixVQUE1QyxFQUF3RCxVQUFVRyxHQUFWLEVBQWVDLElBQWYsRUFBcUI7SUFDM0UsSUFBSUQsR0FBSixFQUFTO01BQ1BMLFNBQVMsQ0FBQ04sV0FBVyxDQUFDYSxRQUFaLENBQXFCYixXQUFXLENBQUNjLENBQVosQ0FBY0MsU0FBZCxDQUF3QkMsV0FBN0MsRUFBMERSLFVBQTFELENBQUQsRUFBd0VHLEdBQXhFLENBQVQ7SUFDRCxDQUZELE1BRU87TUFDTE4sU0FBUyxDQUFDTyxJQUFELENBQVQ7SUFDRDtFQUNGLENBTkQ7QUFPRCxDQVJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9mb2xkZXItaW5mby5qcz9lY2MyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RGb2xkZXJJbmZvKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuSU5GT19GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3MoaW5mbyk7XG4gICAgfVxuICB9KTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0Rm9sZGVySW5mbyIsImVyciIsImluZm8iLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJJTkZPX0ZBSUxFRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7217\n")},7318:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nmodule.exports = function (api, onSuccess, onFailure, target, full) {\n  api.offlineController.getManifestsListWithInfo(function (err, list) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.LIST_LOADING_FAILED), err);\n    } else {\n      onSuccess(list);\n    }\n  }, full);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMxOC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxJQUE3QyxFQUFtRDtFQUNsRUosR0FBRyxDQUFDSyxpQkFBSixDQUFzQkMsd0JBQXRCLENBQStDLFVBQVVDLEdBQVYsRUFBZUMsSUFBZixFQUFxQjtJQUNsRSxJQUFJRCxHQUFKLEVBQVM7TUFDUEwsU0FBUyxDQUFDTixXQUFXLENBQUNhLFFBQVosQ0FBcUJiLFdBQVcsQ0FBQ2MsQ0FBWixDQUFjQyxTQUFkLENBQXdCQyxtQkFBN0MsQ0FBRCxFQUFvRUwsR0FBcEUsQ0FBVDtJQUNELENBRkQsTUFFTztNQUNMTixTQUFTLENBQUNPLElBQUQsQ0FBVDtJQUNEO0VBQ0YsQ0FORCxFQU1HSixJQU5IO0FBT0QsQ0FSRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9kb3dubG9hZHMvZ2V0LWxpc3Qtd2l0aC1pbmZvLmpzP2Y0ODEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vdHJhbnNsYXRpb24vaW5kZXgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBmdWxsKSB7XG4gIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdHNMaXN0V2l0aEluZm8oZnVuY3Rpb24gKGVyciwgbGlzdCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLm1hbmlmZXN0cy5MSVNUX0xPQURJTkdfRkFJTEVEKSwgZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25TdWNjZXNzKGxpc3QpO1xuICAgIH1cbiAgfSwgZnVsbCk7XG59O1xuIl0sIm5hbWVzIjpbInRyYW5zbGF0aW9uIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJmdWxsIiwib2ZmbGluZUNvbnRyb2xsZXIiLCJnZXRNYW5pZmVzdHNMaXN0V2l0aEluZm8iLCJlcnIiLCJsaXN0IiwiZ2V0RXJyb3IiLCJlIiwibWFuaWZlc3RzIiwiTElTVF9MT0FESU5HX0ZBSUxFRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7318\n")},136:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nmodule.exports = function (api, onSuccess, onFailure) {\n  api.offlineController.getManifestsList(function (err, list) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.LIST_LOADING_FAILED), err);\n    } else {\n      onSuccess(list);\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM2LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQU1BLFdBQVcsR0FBR0MsbUJBQU8sQ0FBQyxHQUFELENBQTNCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBVUMsR0FBVixFQUFlQyxTQUFmLEVBQTBCQyxTQUExQixFQUFxQztFQUNwREYsR0FBRyxDQUFDRyxpQkFBSixDQUFzQkMsZ0JBQXRCLENBQXVDLFVBQVVDLEdBQVYsRUFBZUMsSUFBZixFQUFxQjtJQUMxRCxJQUFJRCxHQUFKLEVBQVM7TUFDUEgsU0FBUyxDQUFDTixXQUFXLENBQUNXLFFBQVosQ0FBcUJYLFdBQVcsQ0FBQ1ksQ0FBWixDQUFjQyxTQUFkLENBQXdCQyxtQkFBN0MsQ0FBRCxFQUFvRUwsR0FBcEUsQ0FBVDtJQUNELENBRkQsTUFFTztNQUNMSixTQUFTLENBQUNLLElBQUQsQ0FBVDtJQUNEO0VBQ0YsQ0FORDtBQU9ELENBUkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL2dldC1saXN0LmpzPzNmYjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vdHJhbnNsYXRpb24vaW5kZXgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RzTGlzdChmdW5jdGlvbiAoZXJyLCBsaXN0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLkxJU1RfTE9BRElOR19GQUlMRUQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3MobGlzdCk7XG4gICAgfVxuICB9KTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3RzTGlzdCIsImVyciIsImxpc3QiLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJMSVNUX0xPQURJTkdfRkFJTEVEIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///136\n")},9074:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.offlineController.getManifestInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads._GENERAL), err);\n    } else {\n      onSuccess({\n        offlineLink: api.getOfflinePath(manifestId) + info.manifest.name,\n        persistent: info.persistent\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTA3NC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxVQUE3QyxFQUF5RDtFQUN4RUosR0FBRyxDQUFDSyxpQkFBSixDQUFzQkMsZUFBdEIsQ0FBc0NGLFVBQXRDLEVBQWtELFVBQVVHLEdBQVYsRUFBZUMsSUFBZixFQUFxQjtJQUNyRSxJQUFJRCxHQUFKLEVBQVM7TUFDUEwsU0FBUyxDQUFDTixXQUFXLENBQUNhLFFBQVosQ0FBcUJiLFdBQVcsQ0FBQ2MsQ0FBWixDQUFjQyxTQUFkLENBQXdCQyxRQUE3QyxDQUFELEVBQXlETCxHQUF6RCxDQUFUO0lBQ0QsQ0FGRCxNQUVPO01BQ0xOLFNBQVMsQ0FBQztRQUNSWSxXQUFXLEVBQUViLEdBQUcsQ0FBQ2MsY0FBSixDQUFtQlYsVUFBbkIsSUFBaUNJLElBQUksQ0FBQ08sUUFBTCxDQUFjQyxJQURwRDtRQUVSQyxVQUFVLEVBQUVULElBQUksQ0FBQ1M7TUFGVCxDQUFELENBQVQ7SUFJRDtFQUNGLENBVEQ7QUFVRCxDQVhEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9nZXQtb2ZmbGluZS1saW5rLmpzP2Y0YzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RJbmZvKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuX0dFTkVSQUwpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICBvZmZsaW5lTGluazogYXBpLmdldE9mZmxpbmVQYXRoKG1hbmlmZXN0SWQpICsgaW5mby5tYW5pZmVzdC5uYW1lLFxuICAgICAgICBwZXJzaXN0ZW50OiBpbmZvLnBlcnNpc3RlbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbInRyYW5zbGF0aW9uIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJtYW5pZmVzdElkIiwib2ZmbGluZUNvbnRyb2xsZXIiLCJnZXRNYW5pZmVzdEluZm8iLCJlcnIiLCJpbmZvIiwiZ2V0RXJyb3IiLCJlIiwiZG93bmxvYWRzIiwiX0dFTkVSQUwiLCJvZmZsaW5lTGluayIsImdldE9mZmxpbmVQYXRoIiwibWFuaWZlc3QiLCJuYW1lIiwicGVyc2lzdGVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9074\n")},589:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, full) {\n  api.offlineController.getManifestInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.INFO_FAILED, manifestId), err);\n    } else {\n      onSuccess(info);\n    }\n  }, full);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg5LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQU1BLFdBQVcsR0FBR0MsbUJBQU8sQ0FBQyxHQUFELENBQTNCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBVUMsR0FBVixFQUFlQyxTQUFmLEVBQTBCQyxTQUExQixFQUFxQ0MsTUFBckMsRUFBNkNDLFVBQTdDLEVBQXlEQyxJQUF6RCxFQUErRDtFQUM5RUwsR0FBRyxDQUFDTSxpQkFBSixDQUFzQkMsZUFBdEIsQ0FBc0NILFVBQXRDLEVBQWtELFVBQVVJLEdBQVYsRUFBZUMsSUFBZixFQUFxQjtJQUNyRSxJQUFJRCxHQUFKLEVBQVM7TUFDUE4sU0FBUyxDQUFDTixXQUFXLENBQUNjLFFBQVosQ0FBcUJkLFdBQVcsQ0FBQ2UsQ0FBWixDQUFjQyxTQUFkLENBQXdCQyxXQUE3QyxFQUEwRFQsVUFBMUQsQ0FBRCxFQUF3RUksR0FBeEUsQ0FBVDtJQUNELENBRkQsTUFFTztNQUNMUCxTQUFTLENBQUNRLElBQUQsQ0FBVDtJQUNEO0VBQ0YsQ0FORCxFQU1HSixJQU5IO0FBT0QsQ0FSRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9kb3dubG9hZHMvaW5mby5qcz82ZGI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCwgZnVsbCkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RJbmZvKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuSU5GT19GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3MoaW5mbyk7XG4gICAgfVxuICB9LCBmdWxsKTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJmdWxsIiwib2ZmbGluZUNvbnRyb2xsZXIiLCJnZXRNYW5pZmVzdEluZm8iLCJlcnIiLCJpbmZvIiwiZ2V0RXJyb3IiLCJlIiwibWFuaWZlc3RzIiwiSU5GT19GQUlMRUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///589\n")},9199:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nvar STATUSES = __webpack_require__(8255);\n\nmodule.exports = function (api, onSuccess, onFailure) {\n  api.offlineController.getManifestsListWithInfo(function (err, results) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_UNFINISHED_FAILED), err);\n    } else {\n      var promises = [];\n      var manifestIds = [];\n\n      if (!results.length) {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_REMOVED_ALL_UNFINISHED));\n        return;\n      }\n\n      for (var i = 0, j = results.length; i < j; i++) {\n        var status = results[i].status;\n        var manifestId = results[i].manifestInfo.id;\n\n        if (status !== STATUSES.FINISHED) {\n          manifestIds.push(manifestId);\n          promises.push(api.downloadsController.removePromise(manifestId));\n        }\n      }\n\n      Promise.all(promises).then(function () {\n        var promises = [];\n\n        for (var _i = 0, _j = manifestIds.length; _i < _j; _i++) {\n          promises.push(api.offlineController.removePromise(manifestIds[_i]));\n        }\n\n        Promise.all(promises).then(function () {\n          api.subscribersController.unsubscribe(manifestIds);\n          api.manifestController.removeFromCache(manifestIds);\n          onSuccess(manifestIds);\n        }, function (err) {\n          onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_UNFINISHED_FAILED), err);\n        });\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_UNFINISHED_FAILED), err);\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBaUJEO0VBQ0YsQ0FwQ0Q7QUFxQ0QsQ0F0Q0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3JlbW92ZS1hbGwtdW5maW5pc2hlZC5qcz83NzFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKCcuLi8uLi90cmFuc2xhdGlvbi9pbmRleCcpO1xuY29uc3QgU1RBVFVTRVMgPSByZXF1aXJlKFwiLi4vLi4vZG93bmxvYWRzL3N0YXR1c2VzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdHNMaXN0V2l0aEluZm8oZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5SRU1PVklOR19BTExfVU5GSU5JU0hFRF9GQUlMRUQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGxldCBtYW5pZmVzdElkcyA9IFtdO1xuICAgICAgaWYgKCFyZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuQUxSRUFEWV9SRU1PVkVEX0FMTF9VTkZJTklTSEVEKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgbGV0IHN0YXR1cyA9IHJlc3VsdHNbaV0uc3RhdHVzO1xuICAgICAgICBsZXQgbWFuaWZlc3RJZCA9IHJlc3VsdHNbaV0ubWFuaWZlc3RJbmZvLmlkO1xuICAgICAgICBpZiAoc3RhdHVzICE9PSBTVEFUVVNFUy5GSU5JU0hFRCkge1xuICAgICAgICAgIG1hbmlmZXN0SWRzLnB1c2gobWFuaWZlc3RJZCk7XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChhcGkuZG93bmxvYWRzQ29udHJvbGxlci5yZW1vdmVQcm9taXNlKG1hbmlmZXN0SWQpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbWFuaWZlc3RJZHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGFwaS5vZmZsaW5lQ29udHJvbGxlci5yZW1vdmVQcm9taXNlKG1hbmlmZXN0SWRzW2ldKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBhcGkuc3Vic2NyaWJlcnNDb250cm9sbGVyLnVuc3Vic2NyaWJlKG1hbmlmZXN0SWRzKTtcbiAgICAgICAgICAgICAgYXBpLm1hbmlmZXN0Q29udHJvbGxlci5yZW1vdmVGcm9tQ2FjaGUobWFuaWZlc3RJZHMpO1xuICAgICAgICAgICAgICBvblN1Y2Nlc3MobWFuaWZlc3RJZHMpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuUkVNT1ZJTkdfQUxMX1VORklOSVNIRURfRkFJTEVEKSwgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLlJFTU9WSU5HX0FMTF9VTkZJTklTSEVEX0ZBSUxFRCksIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbInRyYW5zbGF0aW9uIiwicmVxdWlyZSIsIlNUQVRVU0VTIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3RzTGlzdFdpdGhJbmZvIiwiZXJyIiwicmVzdWx0cyIsImdldEVycm9yIiwiZSIsImRvd25sb2FkcyIsIlJFTU9WSU5HX0FMTF9VTkZJTklTSEVEX0ZBSUxFRCIsInByb21pc2VzIiwibWFuaWZlc3RJZHMiLCJsZW5ndGgiLCJBTFJFQURZX1JFTU9WRURfQUxMX1VORklOSVNIRUQiLCJpIiwiaiIsInN0YXR1cyIsIm1hbmlmZXN0SWQiLCJtYW5pZmVzdEluZm8iLCJpZCIsIkZJTklTSEVEIiwicHVzaCIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJyZW1vdmVQcm9taXNlIiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJzdWJzY3JpYmVyc0NvbnRyb2xsZXIiLCJ1bnN1YnNjcmliZSIsIm1hbmlmZXN0Q29udHJvbGxlciIsInJlbW92ZUZyb21DYWNoZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9199\n")},5058:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nmodule.exports = function (api, onSuccess, onFailure) {\n  api.offlineController.getManifestsListWithInfo(function (err, manifests) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_FAILED), err);\n    } else {\n      var manifestIds = manifests.map(function (manifest) {\n        return manifest.manifestInfo.id;\n      });\n      var promises = [];\n\n      for (var i = 0, j = manifestIds.length; i < j; i++) {\n        promises.push(api.downloadsController.removePromise(manifestIds[i]));\n      }\n\n      Promise.all(promises).then(function () {\n        api.offlineController.removeAllPromise().then(function () {\n          api.subscribersController.unsubscribeAll();\n          api.manifestController.removeFromCacheAll();\n          onSuccess(manifests);\n        }, function (err) {\n          onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_FAILED), err);\n        });\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_FAILED), err);\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA1OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUM7RUFDcERGLEdBQUcsQ0FBQ0csaUJBQUosQ0FBc0JDLHdCQUF0QixDQUErQyxVQUFVQyxHQUFWLEVBQWVDLFNBQWYsRUFBMEI7SUFDdkUsSUFBSUQsR0FBSixFQUFTO01BQ1BILFNBQVMsQ0FBQ04sV0FBVyxDQUFDVyxRQUFaLENBQXFCWCxXQUFXLENBQUNZLENBQVosQ0FBY0MsU0FBZCxDQUF3QkMsbUJBQTdDLENBQUQsRUFBb0VMLEdBQXBFLENBQVQ7SUFDRCxDQUZELE1BRU87TUFDTCxJQUFNTSxXQUFXLEdBQUdMLFNBQVMsQ0FBQ00sR0FBVixDQUFjLFVBQVVDLFFBQVYsRUFBb0I7UUFDcEQsT0FBT0EsUUFBUSxDQUFDQyxZQUFULENBQXNCQyxFQUE3QjtNQUNELENBRm1CLENBQXBCO01BR0EsSUFBSUMsUUFBUSxHQUFHLEVBQWY7O01BQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBUixFQUFXQyxDQUFDLEdBQUdQLFdBQVcsQ0FBQ1EsTUFBaEMsRUFBd0NGLENBQUMsR0FBR0MsQ0FBNUMsRUFBK0NELENBQUMsRUFBaEQsRUFBb0Q7UUFDbERELFFBQVEsQ0FBQ0ksSUFBVCxDQUFjcEIsR0FBRyxDQUFDcUIsbUJBQUosQ0FBd0JDLGFBQXhCLENBQXNDWCxXQUFXLENBQUNNLENBQUQsQ0FBakQsQ0FBZDtNQUNEOztNQUNETSxPQUFPLENBQUNDLEdBQVIsQ0FBWVIsUUFBWixFQUNLUyxJQURMLENBQ1UsWUFBWTtRQUNoQnpCLEdBQUcsQ0FBQ0csaUJBQUosQ0FBc0J1QixnQkFBdEIsR0FDS0QsSUFETCxDQUNVLFlBQVk7VUFDaEJ6QixHQUFHLENBQUMyQixxQkFBSixDQUEwQkMsY0FBMUI7VUFDQTVCLEdBQUcsQ0FBQzZCLGtCQUFKLENBQXVCQyxrQkFBdkI7VUFDQTdCLFNBQVMsQ0FBQ0ssU0FBRCxDQUFUO1FBQ0QsQ0FMTCxFQUtPLFVBQVVELEdBQVYsRUFBZTtVQUNoQkgsU0FBUyxDQUFDTixXQUFXLENBQUNXLFFBQVosQ0FBcUJYLFdBQVcsQ0FBQ1ksQ0FBWixDQUFjQyxTQUFkLENBQXdCQyxtQkFBN0MsQ0FBRCxFQUFvRUwsR0FBcEUsQ0FBVDtRQUNELENBUEw7TUFRRCxDQVZMLEVBVU8sVUFBVUEsR0FBVixFQUFlO1FBQ2hCSCxTQUFTLENBQUNOLFdBQVcsQ0FBQ1csUUFBWixDQUFxQlgsV0FBVyxDQUFDWSxDQUFaLENBQWNDLFNBQWQsQ0FBd0JDLG1CQUE3QyxDQUFELEVBQW9FTCxHQUFwRSxDQUFUO01BQ0QsQ0FaTDtJQWFEO0VBQ0YsQ0F6QkQ7QUEwQkQsQ0EzQkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3JlbW92ZS1hbGwuanM/ZjY1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKCcuLi8uLi90cmFuc2xhdGlvbi9pbmRleCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdHNMaXN0V2l0aEluZm8oZnVuY3Rpb24gKGVyciwgbWFuaWZlc3RzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLlJFTU9WSU5HX0FMTF9GQUlMRUQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtYW5pZmVzdElkcyA9IG1hbmlmZXN0cy5tYXAoZnVuY3Rpb24gKG1hbmlmZXN0KSB7XG4gICAgICAgIHJldHVybiBtYW5pZmVzdC5tYW5pZmVzdEluZm8uaWQ7XG4gICAgICB9KTtcbiAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBtYW5pZmVzdElkcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChhcGkuZG93bmxvYWRzQ29udHJvbGxlci5yZW1vdmVQcm9taXNlKG1hbmlmZXN0SWRzW2ldKSk7XG4gICAgICB9XG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhcGkub2ZmbGluZUNvbnRyb2xsZXIucmVtb3ZlQWxsUHJvbWlzZSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgYXBpLnN1YnNjcmliZXJzQ29udHJvbGxlci51bnN1YnNjcmliZUFsbCgpO1xuICAgICAgICAgICAgICAgICAgYXBpLm1hbmlmZXN0Q29udHJvbGxlci5yZW1vdmVGcm9tQ2FjaGVBbGwoKTtcbiAgICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhtYW5pZmVzdHMpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5SRU1PVklOR19BTExfRkFJTEVEKSwgZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuUkVNT1ZJTkdfQUxMX0ZBSUxFRCksIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3RzTGlzdFdpdGhJbmZvIiwiZXJyIiwibWFuaWZlc3RzIiwiZ2V0RXJyb3IiLCJlIiwiZG93bmxvYWRzIiwiUkVNT1ZJTkdfQUxMX0ZBSUxFRCIsIm1hbmlmZXN0SWRzIiwibWFwIiwibWFuaWZlc3QiLCJtYW5pZmVzdEluZm8iLCJpZCIsInByb21pc2VzIiwiaSIsImoiLCJsZW5ndGgiLCJwdXNoIiwiZG93bmxvYWRzQ29udHJvbGxlciIsInJlbW92ZVByb21pc2UiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsInJlbW92ZUFsbFByb21pc2UiLCJzdWJzY3JpYmVyc0NvbnRyb2xsZXIiLCJ1bnN1YnNjcmliZUFsbCIsIm1hbmlmZXN0Q29udHJvbGxlciIsInJlbW92ZUZyb21DYWNoZUFsbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5058\n")},7552:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar appSettings = __webpack_require__(9277);\n\nvar translation = __webpack_require__(817);\n\nvar removeDir = __webpack_require__(6951);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.offlineController.getManifestInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId), err);\n    } else {\n      var file = appSettings.getSettings().settingsFolder + manifestId + "/" + appSettings.getSettings().stores.PERSISTENT + ".json";\n      removeDir(file, function (err) {\n        if (err && err.code !== "ENOENT") {\n          onFailure(translation.getError(translation.e.downloads.REMOVING_PERSISTENT_FAILED, manifestId), err);\n        } else {\n          onSuccess(info);\n        }\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzU1Mi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUEzQjs7QUFDQSxJQUFNQyxXQUFXLEdBQUdELG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFDQSxJQUFNRSxTQUFTLEdBQUdGLG1CQUFPLENBQUMsSUFBRCxDQUF6Qjs7QUFFQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxVQUE3QyxFQUF5RDtFQUN4RUosR0FBRyxDQUFDSyxpQkFBSixDQUFzQkMsZUFBdEIsQ0FBc0NGLFVBQXRDLEVBQWtELFVBQVVHLEdBQVYsRUFBZUMsSUFBZixFQUFxQjtJQUNyRSxJQUFJRCxHQUFKLEVBQVM7TUFDUEwsU0FBUyxDQUFDTixXQUFXLENBQUNhLFFBQVosQ0FBcUJiLFdBQVcsQ0FBQ2MsQ0FBWixDQUFjQyxTQUFkLENBQXdCQyxTQUE3QyxFQUF3RFIsVUFBeEQsQ0FBRCxFQUFzRUcsR0FBdEUsQ0FBVDtJQUNELENBRkQsTUFFTztNQUNMLElBQU1NLElBQUksR0FBR25CLFdBQVcsQ0FBQ29CLFdBQVosR0FBMEJDLGNBQTFCLEdBQTJDWCxVQUEzQyxHQUF3RCxHQUF4RCxHQUE4RFYsV0FBVyxDQUFDb0IsV0FBWixHQUEwQkUsTUFBMUIsQ0FBaUNDLFVBQS9GLEdBQTRHLE9BQXpIO01BRUFwQixTQUFTLENBQUNnQixJQUFELEVBQU8sVUFBVU4sR0FBVixFQUFlO1FBQzdCLElBQUlBLEdBQUcsSUFBSUEsR0FBRyxDQUFDVyxJQUFKLEtBQWEsUUFBeEIsRUFBa0M7VUFDaENoQixTQUFTLENBQUNOLFdBQVcsQ0FBQ2EsUUFBWixDQUFxQmIsV0FBVyxDQUFDYyxDQUFaLENBQWNTLFNBQWQsQ0FBd0JDLDBCQUE3QyxFQUF5RWhCLFVBQXpFLENBQUQsRUFBdUZHLEdBQXZGLENBQVQ7UUFDRCxDQUZELE1BRU87VUFDTE4sU0FBUyxDQUFDTyxJQUFELENBQVQ7UUFDRDtNQUNGLENBTlEsQ0FBVDtJQU9EO0VBQ0YsQ0FkRDtBQWdCRCxDQWpCRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9kb3dubG9hZHMvcmVtb3ZlLXBlcnNpc3RlbnQuanM/Nzc1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGFwcFNldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vYXBwLXNldHRpbmdzJyk7XG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5jb25zdCByZW1vdmVEaXIgPSByZXF1aXJlKFwiLi4vLi4vdXRpbC9yZW1vdmUtZGlyXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWQpIHtcbiAgYXBpLm9mZmxpbmVDb250cm9sbGVyLmdldE1hbmlmZXN0SW5mbyhtYW5pZmVzdElkLCBmdW5jdGlvbiAoZXJyLCBpbmZvKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLk5PVF9GT1VORCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZpbGUgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnNldHRpbmdzRm9sZGVyICsgbWFuaWZlc3RJZCArIFwiL1wiICsgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zdG9yZXMuUEVSU0lTVEVOVCArIFwiLmpzb25cIjtcblxuICAgICAgcmVtb3ZlRGlyKGZpbGUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciAmJiBlcnIuY29kZSAhPT0gXCJFTk9FTlRcIikge1xuICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5SRU1PVklOR19QRVJTSVNURU5UX0ZBSUxFRCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKGluZm8pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG59O1xuIl0sIm5hbWVzIjpbImFwcFNldHRpbmdzIiwicmVxdWlyZSIsInRyYW5zbGF0aW9uIiwicmVtb3ZlRGlyIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0SW5mbyIsImVyciIsImluZm8iLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJOT1RfRk9VTkQiLCJmaWxlIiwiZ2V0U2V0dGluZ3MiLCJzZXR0aW5nc0ZvbGRlciIsInN0b3JlcyIsIlBFUlNJU1RFTlQiLCJjb2RlIiwiZG93bmxvYWRzIiwiUkVNT1ZJTkdfUEVSU0lTVEVOVF9GQUlMRUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7552\n')},6128:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.offlineController.getManifestInfo(manifestId, function (err, info) {\n    api.downloadsController.removePromise(manifestId).then(function () {\n      api.offlineController.removePromise(manifestId).then(function () {\n        api.subscribersController.unsubscribe(manifestId);\n        api.manifestController.removeFromCache(manifestId);\n        onSuccess(info);\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.REMOVING_FAILED, manifestId), err);\n      });\n    }, function (err) {\n      onFailure(translation.getError(translation.e.downloads.REMOVING_FAILED, manifestId), err);\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjEyOC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxVQUE3QyxFQUF5RDtFQUN4RUosR0FBRyxDQUFDSyxpQkFBSixDQUFzQkMsZUFBdEIsQ0FBc0NGLFVBQXRDLEVBQWtELFVBQVVHLEdBQVYsRUFBZUMsSUFBZixFQUFxQjtJQUNyRVIsR0FBRyxDQUFDUyxtQkFBSixDQUF3QkMsYUFBeEIsQ0FBc0NOLFVBQXRDLEVBQ0tPLElBREwsQ0FDVSxZQUFZO01BQ2hCWCxHQUFHLENBQUNLLGlCQUFKLENBQXNCSyxhQUF0QixDQUFvQ04sVUFBcEMsRUFDS08sSUFETCxDQUNVLFlBQVk7UUFDaEJYLEdBQUcsQ0FBQ1kscUJBQUosQ0FBMEJDLFdBQTFCLENBQXNDVCxVQUF0QztRQUNBSixHQUFHLENBQUNjLGtCQUFKLENBQXVCQyxlQUF2QixDQUF1Q1gsVUFBdkM7UUFDQUgsU0FBUyxDQUFDTyxJQUFELENBQVQ7TUFDRCxDQUxMLEVBS08sVUFBVUQsR0FBVixFQUFlO1FBQ2hCTCxTQUFTLENBQUNOLFdBQVcsQ0FBQ29CLFFBQVosQ0FBcUJwQixXQUFXLENBQUNxQixDQUFaLENBQWNDLFNBQWQsQ0FBd0JDLGVBQTdDLEVBQThEZixVQUE5RCxDQUFELEVBQTRFRyxHQUE1RSxDQUFUO01BQ0QsQ0FQTDtJQVFELENBVkwsRUFVTyxVQUFVQSxHQUFWLEVBQWU7TUFDaEJMLFNBQVMsQ0FBQ04sV0FBVyxDQUFDb0IsUUFBWixDQUFxQnBCLFdBQVcsQ0FBQ3FCLENBQVosQ0FBY0MsU0FBZCxDQUF3QkMsZUFBN0MsRUFBOERmLFVBQTlELENBQUQsRUFBNEVHLEdBQTVFLENBQVQ7SUFDRCxDQVpMO0VBYUQsQ0FkRDtBQWVELENBaEJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9yZW1vdmUuanM/NDNhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKCcuLi8uLi90cmFuc2xhdGlvbi9pbmRleCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWQpIHtcbiAgYXBpLm9mZmxpbmVDb250cm9sbGVyLmdldE1hbmlmZXN0SW5mbyhtYW5pZmVzdElkLCBmdW5jdGlvbiAoZXJyLCBpbmZvKSB7XG4gICAgYXBpLmRvd25sb2Fkc0NvbnRyb2xsZXIucmVtb3ZlUHJvbWlzZShtYW5pZmVzdElkKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYXBpLm9mZmxpbmVDb250cm9sbGVyLnJlbW92ZVByb21pc2UobWFuaWZlc3RJZClcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFwaS5zdWJzY3JpYmVyc0NvbnRyb2xsZXIudW5zdWJzY3JpYmUobWFuaWZlc3RJZCk7XG4gICAgICAgICAgICAgICAgYXBpLm1hbmlmZXN0Q29udHJvbGxlci5yZW1vdmVGcm9tQ2FjaGUobWFuaWZlc3RJZCk7XG4gICAgICAgICAgICAgICAgb25TdWNjZXNzKGluZm8pO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLlJFTU9WSU5HX0ZBSUxFRCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLlJFTU9WSU5HX0ZBSUxFRCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgICAgIH0pO1xuICB9KTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0SW5mbyIsImVyciIsImluZm8iLCJkb3dubG9hZHNDb250cm9sbGVyIiwicmVtb3ZlUHJvbWlzZSIsInRoZW4iLCJzdWJzY3JpYmVyc0NvbnRyb2xsZXIiLCJ1bnN1YnNjcmliZSIsIm1hbmlmZXN0Q29udHJvbGxlciIsInJlbW92ZUZyb21DYWNoZSIsImdldEVycm9yIiwiZSIsImRvd25sb2FkcyIsIlJFTU9WSU5HX0ZBSUxFRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6128\n")},7560:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, representations) {\n  api.downloadsController.resume(manifestId, representations, onSuccess, onFailure);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzU2MC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxVQUE3QyxFQUF5REMsZUFBekQsRUFBMEU7RUFDekZMLEdBQUcsQ0FBQ00sbUJBQUosQ0FBd0JDLE1BQXhCLENBQStCSCxVQUEvQixFQUEyQ0MsZUFBM0MsRUFBNERKLFNBQTVELEVBQXVFQyxTQUF2RTtBQUNELENBRkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3Jlc3VtZS5qcz84Mzg5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWQsIHJlcHJlc2VudGF0aW9ucykge1xuICBhcGkuZG93bmxvYWRzQ29udHJvbGxlci5yZXN1bWUobWFuaWZlc3RJZCwgcmVwcmVzZW50YXRpb25zLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSk7XG59O1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJtYW5pZmVzdElkIiwicmVwcmVzZW50YXRpb25zIiwiZG93bmxvYWRzQ29udHJvbGxlciIsInJlc3VtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7560\n")},9463:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar appSettings = __webpack_require__(9277);\n\nvar translation = __webpack_require__(817);\n\nvar FlushItem = __webpack_require__(1789);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, data) {\n  api.offlineController.getManifestInfo(manifestId, function (err) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId), err);\n    } else {\n      var flushItem = new FlushItem(manifestId, appSettings.getSettings().stores.DATA, data);\n      flushItem.save().then(function () {\n        onSuccess();\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.SAVING_DATA_FAILED, manifestId), err);\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQ2My5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUEzQjs7QUFDQSxJQUFNQyxXQUFXLEdBQUdELG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFDQSxJQUFNRSxTQUFTLEdBQUdGLG1CQUFPLENBQUMsSUFBRCxDQUF6Qjs7QUFFQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxVQUE3QyxFQUF5REMsSUFBekQsRUFBK0Q7RUFDOUVMLEdBQUcsQ0FBQ00saUJBQUosQ0FBc0JDLGVBQXRCLENBQXNDSCxVQUF0QyxFQUFrRCxVQUFVSSxHQUFWLEVBQWU7SUFDL0QsSUFBSUEsR0FBSixFQUFTO01BQ1BOLFNBQVMsQ0FBQ04sV0FBVyxDQUFDYSxRQUFaLENBQXFCYixXQUFXLENBQUNjLENBQVosQ0FBY0MsU0FBZCxDQUF3QkMsU0FBN0MsRUFBd0RSLFVBQXhELENBQUQsRUFBc0VJLEdBQXRFLENBQVQ7SUFDRCxDQUZELE1BRU87TUFDTCxJQUFNSyxTQUFTLEdBQUcsSUFBSWhCLFNBQUosQ0FBY08sVUFBZCxFQUEwQlYsV0FBVyxDQUFDb0IsV0FBWixHQUEwQkMsTUFBMUIsQ0FBaUNDLElBQTNELEVBQWlFWCxJQUFqRSxDQUFsQjtNQUNBUSxTQUFTLENBQUNJLElBQVYsR0FDR0MsSUFESCxDQUNRLFlBQVk7UUFDaEJqQixTQUFTO01BQ1YsQ0FISCxFQUdLLFVBQVVPLEdBQVYsRUFBZTtRQUNoQk4sU0FBUyxDQUFDTixXQUFXLENBQUNhLFFBQVosQ0FBcUJiLFdBQVcsQ0FBQ2MsQ0FBWixDQUFjUyxTQUFkLENBQXdCQyxrQkFBN0MsRUFBaUVoQixVQUFqRSxDQUFELEVBQStFSSxHQUEvRSxDQUFUO01BQ0QsQ0FMSDtJQU1EO0VBQ0YsQ0FaRDtBQWNELENBZkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3NhdmUtZGF0YS5qcz84MGIxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9hcHAtc2V0dGluZ3MnKTtcbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vdHJhbnNsYXRpb24vaW5kZXgnKTtcbmNvbnN0IEZsdXNoSXRlbSA9IHJlcXVpcmUoXCIuLi8uLi9kb3dubG9hZHMvZmx1c2gtaXRlbVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkLCBkYXRhKSB7XG4gIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdEluZm8obWFuaWZlc3RJZCwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLm1hbmlmZXN0cy5OT1RfRk9VTkQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmbHVzaEl0ZW0gPSBuZXcgRmx1c2hJdGVtKG1hbmlmZXN0SWQsIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzLkRBVEEsIGRhdGEpO1xuICAgICAgZmx1c2hJdGVtLnNhdmUoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuU0FWSU5HX0RBVEFfRkFJTEVELCBtYW5pZmVzdElkKSwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxufTtcbiJdLCJuYW1lcyI6WyJhcHBTZXR0aW5ncyIsInJlcXVpcmUiLCJ0cmFuc2xhdGlvbiIsIkZsdXNoSXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJtYW5pZmVzdElkIiwiZGF0YSIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3RJbmZvIiwiZXJyIiwiZ2V0RXJyb3IiLCJlIiwibWFuaWZlc3RzIiwiTk9UX0ZPVU5EIiwiZmx1c2hJdGVtIiwiZ2V0U2V0dGluZ3MiLCJzdG9yZXMiLCJEQVRBIiwic2F2ZSIsInRoZW4iLCJkb3dubG9hZHMiLCJTQVZJTkdfREFUQV9GQUlMRUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9463\n")},3880:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar appSettings = __webpack_require__(9277);\n\nvar translation = __webpack_require__(817);\n\nvar FlushItem = __webpack_require__(1789);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, persistent) {\n  api.offlineController.getManifestInfo(manifestId, function (err) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId), err);\n    } else {\n      var flushItem = new FlushItem(manifestId, appSettings.getSettings().stores.PERSISTENT, persistent);\n      flushItem.save().then(function () {\n        onSuccess();\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.SAVING_PERSISTENT_FAILED, manifestId), err);\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg4MC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUEzQjs7QUFDQSxJQUFNQyxXQUFXLEdBQUdELG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFDQSxJQUFNRSxTQUFTLEdBQUdGLG1CQUFPLENBQUMsSUFBRCxDQUF6Qjs7QUFFQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxVQUE3QyxFQUF5REMsVUFBekQsRUFBcUU7RUFDcEZMLEdBQUcsQ0FBQ00saUJBQUosQ0FBc0JDLGVBQXRCLENBQXNDSCxVQUF0QyxFQUFrRCxVQUFVSSxHQUFWLEVBQWU7SUFDL0QsSUFBSUEsR0FBSixFQUFTO01BQ1BOLFNBQVMsQ0FBQ04sV0FBVyxDQUFDYSxRQUFaLENBQXFCYixXQUFXLENBQUNjLENBQVosQ0FBY0MsU0FBZCxDQUF3QkMsU0FBN0MsRUFBd0RSLFVBQXhELENBQUQsRUFBc0VJLEdBQXRFLENBQVQ7SUFDRCxDQUZELE1BRU87TUFDTCxJQUFNSyxTQUFTLEdBQUcsSUFBSWhCLFNBQUosQ0FBY08sVUFBZCxFQUEwQlYsV0FBVyxDQUFDb0IsV0FBWixHQUEwQkMsTUFBMUIsQ0FBaUNDLFVBQTNELEVBQXVFWCxVQUF2RSxDQUFsQjtNQUNBUSxTQUFTLENBQUNJLElBQVYsR0FDS0MsSUFETCxDQUNVLFlBQVk7UUFDaEJqQixTQUFTO01BQ1YsQ0FITCxFQUdPLFVBQVVPLEdBQVYsRUFBZTtRQUNoQk4sU0FBUyxDQUFDTixXQUFXLENBQUNhLFFBQVosQ0FBcUJiLFdBQVcsQ0FBQ2MsQ0FBWixDQUFjUyxTQUFkLENBQXdCQyx3QkFBN0MsRUFBdUVoQixVQUF2RSxDQUFELEVBQXFGSSxHQUFyRixDQUFUO01BQ0QsQ0FMTDtJQU1EO0VBQ0YsQ0FaRDtBQWNELENBZkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3NhdmUtcGVyc2lzdGVudC5qcz83MjUxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9hcHAtc2V0dGluZ3MnKTtcbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vdHJhbnNsYXRpb24vaW5kZXgnKTtcbmNvbnN0IEZsdXNoSXRlbSA9IHJlcXVpcmUoXCIuLi8uLi9kb3dubG9hZHMvZmx1c2gtaXRlbVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkLCBwZXJzaXN0ZW50KSB7XG4gIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdEluZm8obWFuaWZlc3RJZCwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLm1hbmlmZXN0cy5OT1RfRk9VTkQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmbHVzaEl0ZW0gPSBuZXcgRmx1c2hJdGVtKG1hbmlmZXN0SWQsIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzLlBFUlNJU1RFTlQsIHBlcnNpc3RlbnQpO1xuICAgICAgZmx1c2hJdGVtLnNhdmUoKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5TQVZJTkdfUEVSU0lTVEVOVF9GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbn07XG4iXSwibmFtZXMiOlsiYXBwU2V0dGluZ3MiLCJyZXF1aXJlIiwidHJhbnNsYXRpb24iLCJGbHVzaEl0ZW0iLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBpIiwib25TdWNjZXNzIiwib25GYWlsdXJlIiwidGFyZ2V0IiwibWFuaWZlc3RJZCIsInBlcnNpc3RlbnQiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0SW5mbyIsImVyciIsImdldEVycm9yIiwiZSIsIm1hbmlmZXN0cyIsIk5PVF9GT1VORCIsImZsdXNoSXRlbSIsImdldFNldHRpbmdzIiwic3RvcmVzIiwiUEVSU0lTVEVOVCIsInNhdmUiLCJ0aGVuIiwiZG93bmxvYWRzIiwiU0FWSU5HX1BFUlNJU1RFTlRfRkFJTEVEIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3880\n")},1792:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nvar canCreateManifest = __webpack_require__(5079);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, representations, downloadFolder) {\n  var manifest = api.manifestController.getManifestById(manifestId);\n\n  if (!manifest) {\n    onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n    return;\n  }\n\n  function start() {\n    api.downloadsController.storage.getItem(manifestId).then(function (result) {\n      if (result) {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_STARTED, manifestId));\n      } else {\n        api.downloadsController.start(manifestId, representations, downloadFolder, onSuccess, function (err) {\n          onFailure(translation.getError(translation.e.downloads._GENERAL), err);\n        });\n      }\n    }, function (err) {\n      onFailure(translation.getError(translation.e.downloads._GENERAL), err);\n    });\n  }\n\n  canCreateManifest(manifestId, downloadFolder).then(function () {\n    start();\n  }, function (errors) {\n    errors = errors || [];\n    var movieFolderError = errors[1];\n\n    if (errors.length) {\n      if (movieFolderError) {\n        // if movie folder has been already created the we can't start as it might be either different folder\n        // or simply the resume should be used\n        onFailure(translation.getError(translation.e.manifests.FOLDER_ALREADY_EXISTS, manifestId));\n        return;\n      }\n    } // if manifest exists physically on drive that means something is wrong and can't start the manifest\n    // the manifest is saved in method start so this cannot be overwritten here\n\n\n    api.offlineController.getManifestDataFile(manifestId, function (data) {\n      if (data) {\n        onFailure(translation.getError(translation.e.manifests.FOLDER_ALREADY_EXISTS, manifestId));\n      } else {\n        start();\n      }\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9zdGFydC5qcz8yZDdjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoXCIuLi8uLi90cmFuc2xhdGlvbi9pbmRleFwiKTtcbmNvbnN0IGNhbkNyZWF0ZU1hbmlmZXN0ID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvY2FuLWNyZWF0ZS1tYW5pZmVzdFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkLCByZXByZXNlbnRhdGlvbnMsIGRvd25sb2FkRm9sZGVyKSB7XG4gIGNvbnN0IG1hbmlmZXN0ID0gYXBpLm1hbmlmZXN0Q29udHJvbGxlci5nZXRNYW5pZmVzdEJ5SWQobWFuaWZlc3RJZCk7XG4gIGlmICghbWFuaWZlc3QpIHtcbiAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQgKCkge1xuICAgIGFwaS5kb3dubG9hZHNDb250cm9sbGVyLnN0b3JhZ2UuZ2V0SXRlbShtYW5pZmVzdElkKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLkFMUkVBRFlfU1RBUlRFRCwgbWFuaWZlc3RJZCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpLmRvd25sb2Fkc0NvbnRyb2xsZXIuc3RhcnQobWFuaWZlc3RJZCwgcmVwcmVzZW50YXRpb25zLCBkb3dubG9hZEZvbGRlciwgb25TdWNjZXNzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLl9HRU5FUkFMKSwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLl9HRU5FUkFMKSwgZXJyKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNhbkNyZWF0ZU1hbmlmZXN0KG1hbmlmZXN0SWQsIGRvd25sb2FkRm9sZGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBzdGFydCgpO1xuICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgIHZhciBtb3ZpZUZvbGRlckVycm9yID0gZXJyb3JzWzFdO1xuICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICBpZiAobW92aWVGb2xkZXJFcnJvcikge1xuICAgICAgICAvLyBpZiBtb3ZpZSBmb2xkZXIgaGFzIGJlZW4gYWxyZWFkeSBjcmVhdGVkIHRoZSB3ZSBjYW4ndCBzdGFydCBhcyBpdCBtaWdodCBiZSBlaXRoZXIgZGlmZmVyZW50IGZvbGRlclxuICAgICAgICAvLyBvciBzaW1wbHkgdGhlIHJlc3VtZSBzaG91bGQgYmUgdXNlZFxuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuRk9MREVSX0FMUkVBRFlfRVhJU1RTLCBtYW5pZmVzdElkKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgbWFuaWZlc3QgZXhpc3RzIHBoeXNpY2FsbHkgb24gZHJpdmUgdGhhdCBtZWFucyBzb21ldGhpbmcgaXMgd3JvbmcgYW5kIGNhbid0IHN0YXJ0IHRoZSBtYW5pZmVzdFxuICAgIC8vIHRoZSBtYW5pZmVzdCBpcyBzYXZlZCBpbiBtZXRob2Qgc3RhcnQgc28gdGhpcyBjYW5ub3QgYmUgb3ZlcndyaXR0ZW4gaGVyZVxuICAgIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdERhdGFGaWxlKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuRk9MREVSX0FMUkVBRFlfRVhJU1RTLCBtYW5pZmVzdElkKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxufTtcbiJdLCJuYW1lcyI6WyJ0cmFuc2xhdGlvbiIsInJlcXVpcmUiLCJjYW5DcmVhdGVNYW5pZmVzdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJtYW5pZmVzdElkIiwicmVwcmVzZW50YXRpb25zIiwiZG93bmxvYWRGb2xkZXIiLCJtYW5pZmVzdCIsIm1hbmlmZXN0Q29udHJvbGxlciIsImdldE1hbmlmZXN0QnlJZCIsImdldEVycm9yIiwiZSIsIm1hbmlmZXN0cyIsIk5PVF9GT1VORCIsInN0YXJ0IiwiZG93bmxvYWRzQ29udHJvbGxlciIsInN0b3JhZ2UiLCJnZXRJdGVtIiwidGhlbiIsInJlc3VsdCIsImRvd25sb2FkcyIsIkFMUkVBRFlfU1RBUlRFRCIsImVyciIsIl9HRU5FUkFMIiwiZXJyb3JzIiwibW92aWVGb2xkZXJFcnJvciIsImxlbmd0aCIsIkZPTERFUl9BTFJFQURZX0VYSVNUUyIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3REYXRhRmlsZSIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1792\n")},1120:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nvar STATUSES = __webpack_require__(8255);\n\nmodule.exports = function (api, onSuccess, onFailure) {\n  api.offlineController.getManifestsListWithInfo(function (err, results) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads.STOPPING_ALL_FAILED), err);\n    } else {\n      var promises = [];\n      var manifestIds = [];\n\n      for (var i = 0, j = results.length; i < j; i++) {\n        var status = results[i].status;\n        var manifestId = results[i].manifestInfo.id;\n\n        if (status !== STATUSES.FINISHED) {\n          manifestIds.push(manifestId);\n          promises.push(api.downloadsController.stopPromise(manifestId, true));\n        }\n      }\n\n      if (manifestIds.length > 0) {\n        Promise.all(promises).then(function () {\n          onSuccess(manifestIds);\n        }, function (err) {\n          onFailure(translation.getError(translation.e.downloads.STOPPING_ALL_FAILED), err);\n        });\n      } else {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_STOPPED_ALL));\n      }\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEyMC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFDQSxJQUFNQyxRQUFRLEdBQUdELG1CQUFPLENBQUMsSUFBRCxDQUF4Qjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUM7RUFDcERGLEdBQUcsQ0FBQ0csaUJBQUosQ0FBc0JDLHdCQUF0QixDQUErQyxVQUFVQyxHQUFWLEVBQWVDLE9BQWYsRUFBd0I7SUFDckUsSUFBSUQsR0FBSixFQUFTO01BQ1BILFNBQVMsQ0FBQ1AsV0FBVyxDQUFDWSxRQUFaLENBQXFCWixXQUFXLENBQUNhLENBQVosQ0FBY0MsU0FBZCxDQUF3QkMsbUJBQTdDLENBQUQsRUFBb0VMLEdBQXBFLENBQVQ7SUFDRCxDQUZELE1BRU87TUFDTCxJQUFJTSxRQUFRLEdBQUcsRUFBZjtNQUNBLElBQUlDLFdBQVcsR0FBRyxFQUFsQjs7TUFDQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFSLEVBQVdDLENBQUMsR0FBR1IsT0FBTyxDQUFDUyxNQUE1QixFQUFvQ0YsQ0FBQyxHQUFHQyxDQUF4QyxFQUEyQ0QsQ0FBQyxFQUE1QyxFQUFnRDtRQUM5QyxJQUFJRyxNQUFNLEdBQUdWLE9BQU8sQ0FBQ08sQ0FBRCxDQUFQLENBQVdHLE1BQXhCO1FBQ0EsSUFBSUMsVUFBVSxHQUFHWCxPQUFPLENBQUNPLENBQUQsQ0FBUCxDQUFXSyxZQUFYLENBQXdCQyxFQUF6Qzs7UUFDQSxJQUFJSCxNQUFNLEtBQUtuQixRQUFRLENBQUN1QixRQUF4QixFQUFrQztVQUNoQ1IsV0FBVyxDQUFDUyxJQUFaLENBQWlCSixVQUFqQjtVQUNBTixRQUFRLENBQUNVLElBQVQsQ0FBY3JCLEdBQUcsQ0FBQ3NCLG1CQUFKLENBQXdCQyxXQUF4QixDQUFvQ04sVUFBcEMsRUFBZ0QsSUFBaEQsQ0FBZDtRQUNEO01BQ0Y7O01BQ0QsSUFBSUwsV0FBVyxDQUFDRyxNQUFaLEdBQXFCLENBQXpCLEVBQTRCO1FBQzFCUyxPQUFPLENBQUNDLEdBQVIsQ0FBWWQsUUFBWixFQUNLZSxJQURMLENBQ1UsWUFBWTtVQUNoQnpCLFNBQVMsQ0FBQ1csV0FBRCxDQUFUO1FBQ0QsQ0FITCxFQUdPLFVBQVVQLEdBQVYsRUFBZTtVQUNoQkgsU0FBUyxDQUFDUCxXQUFXLENBQUNZLFFBQVosQ0FBcUJaLFdBQVcsQ0FBQ2EsQ0FBWixDQUFjQyxTQUFkLENBQXdCQyxtQkFBN0MsQ0FBRCxFQUFvRUwsR0FBcEUsQ0FBVDtRQUNELENBTEw7TUFNRCxDQVBELE1BT087UUFDTEgsU0FBUyxDQUFDUCxXQUFXLENBQUNZLFFBQVosQ0FBcUJaLFdBQVcsQ0FBQ2EsQ0FBWixDQUFjQyxTQUFkLENBQXdCa0IsbUJBQTdDLENBQUQsQ0FBVDtNQUNEO0lBQ0Y7RUFDRixDQXpCRDtBQTBCRCxDQTNCRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9kb3dubG9hZHMvc3RvcC1hbGwuanM/NzcwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKCcuLi8uLi90cmFuc2xhdGlvbi9pbmRleCcpO1xuY29uc3QgU1RBVFVTRVMgPSByZXF1aXJlKFwiLi4vLi4vZG93bmxvYWRzL3N0YXR1c2VzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdHNMaXN0V2l0aEluZm8oZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5TVE9QUElOR19BTExfRkFJTEVEKSwgZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHByb21pc2VzID0gW107XG4gICAgICBsZXQgbWFuaWZlc3RJZHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgbGV0IHN0YXR1cyA9IHJlc3VsdHNbaV0uc3RhdHVzO1xuICAgICAgICBsZXQgbWFuaWZlc3RJZCA9IHJlc3VsdHNbaV0ubWFuaWZlc3RJbmZvLmlkO1xuICAgICAgICBpZiAoc3RhdHVzICE9PSBTVEFUVVNFUy5GSU5JU0hFRCkge1xuICAgICAgICAgIG1hbmlmZXN0SWRzLnB1c2gobWFuaWZlc3RJZCk7XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChhcGkuZG93bmxvYWRzQ29udHJvbGxlci5zdG9wUHJvbWlzZShtYW5pZmVzdElkLCB0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtYW5pZmVzdElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBvblN1Y2Nlc3MobWFuaWZlc3RJZHMpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuU1RPUFBJTkdfQUxMX0ZBSUxFRCksIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5BTFJFQURZX1NUT1BQRURfQUxMKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwiU1RBVFVTRVMiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBpIiwib25TdWNjZXNzIiwib25GYWlsdXJlIiwib2ZmbGluZUNvbnRyb2xsZXIiLCJnZXRNYW5pZmVzdHNMaXN0V2l0aEluZm8iLCJlcnIiLCJyZXN1bHRzIiwiZ2V0RXJyb3IiLCJlIiwiZG93bmxvYWRzIiwiU1RPUFBJTkdfQUxMX0ZBSUxFRCIsInByb21pc2VzIiwibWFuaWZlc3RJZHMiLCJpIiwiaiIsImxlbmd0aCIsInN0YXR1cyIsIm1hbmlmZXN0SWQiLCJtYW5pZmVzdEluZm8iLCJpZCIsIkZJTklTSEVEIiwicHVzaCIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJzdG9wUHJvbWlzZSIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwiQUxSRUFEWV9TVE9QUEVEX0FMTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1120\n")},647:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.downloadsController.stop(manifestId, onSuccess, onFailure);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ3LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViQSxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBVUMsR0FBVixFQUFlQyxTQUFmLEVBQTBCQyxTQUExQixFQUFxQ0MsTUFBckMsRUFBNkNDLFVBQTdDLEVBQXlEO0VBQ3hFSixHQUFHLENBQUNLLG1CQUFKLENBQXdCQyxJQUF4QixDQUE2QkYsVUFBN0IsRUFBeUNILFNBQXpDLEVBQW9EQyxTQUFwRDtBQUNELENBRkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3N0b3AuanM/MzQ2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkKSB7XG4gIGFwaS5kb3dubG9hZHNDb250cm9sbGVyLnN0b3AobWFuaWZlc3RJZCwgb25TdWNjZXNzLCBvbkZhaWx1cmUpO1xufTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBpIiwib25TdWNjZXNzIiwib25GYWlsdXJlIiwidGFyZ2V0IiwibWFuaWZlc3RJZCIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJzdG9wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///647\n")},608:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nvar Subscriber = __webpack_require__(6137);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestIds, timeout) {\n  if (typeof manifestIds === 'string') {\n    subscribeSingle(api, onSuccess, onFailure, target, manifestIds, timeout);\n  } else {\n    subscribeMany(api, onSuccess, onFailure, target, manifestIds, timeout);\n  }\n};\n\nfunction subscribeMany(api, onSuccess, onFailure, target, manifestIds, timeout) {\n  var subscriber1, subscriber2, subscribersId;\n  var manifestId = manifestIds.sort().join(',');\n  subscribersId = []; // callbackOnProgress\n\n  subscriber1 = new Subscriber(function () {\n    return api.downloadsController.downloadStats.getStats(manifestIds);\n  }, api.processSubscriber, target, manifestId, timeout);\n  subscribersId.push(api.subscribersController.addSubscriber(subscriber1)); // callbackOnFinish\n\n  subscriber2 = new Subscriber(function () {\n    var result = true;\n\n    for (var i = 0, j = manifestIds.length; i < j; i++) {\n      result = result && api.downloadsController.isDownloadFinishedAndSynced(manifestIds[i]);\n    }\n\n    return result;\n  }, api.processSubscriber, target, manifestId, timeout, true);\n  subscriber2.onFinish(function (callback) {\n    subscriber1.remove();\n    var items = [];\n\n    for (var i = 0, j = manifestIds.length; i < j; i++) {\n      items.push(api.offlineController.getManifestInfoPromise(manifestIds[i]));\n    }\n\n    Promise.all(items).then(function (results) {\n      callback(null, results);\n    }, function (err) {\n      callback(err);\n    });\n  });\n  subscribersId.push(api.subscribersController.addSubscriber(subscriber2));\n  onSuccess(null, subscribersId);\n}\n\nfunction subscribeSingle(api, onSuccess, onFailure, target, manifestId, timeout) {\n  var manifest = api.manifestController.getManifestById(manifestId);\n  var subscriber1, subscriber2, subscribersId;\n\n  if (manifest) {\n    subscribersId = []; // callbackOnProgress\n\n    subscriber1 = new Subscriber(function () {\n      return api.downloadsController.downloadStats.getStats(manifestId);\n    }, api.processSubscriber, target, manifestId, timeout);\n    subscribersId.push(api.subscribersController.addSubscriber(subscriber1)); // callbackOnFinish\n\n    subscriber2 = new Subscriber(function () {\n      return api.downloadsController.isDownloadFinishedAndSynced(manifestId);\n    }, api.processSubscriber, target, manifestId, timeout, true);\n    subscriber2.onFinish(function (callback) {\n      subscriber1.remove();\n      api.offlineController.getManifestInfo(manifestId, function (err, result) {\n        callback(err, result);\n      });\n    });\n    subscribersId.push(api.subscribersController.addSubscriber(subscriber2));\n    onSuccess(manifest.getJsonInfo(), subscribersId);\n  } else {\n    onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFFWFgsR0FBRyxDQUFDaUIsaUJBRk8sRUFFWWQsTUFGWixFQUVvQlEsVUFGcEIsRUFFZ0NOLE9BRmhDLEVBRXlDLElBRnpDLENBQWQ7SUFJQUksV0FBVyxDQUFDaUIsUUFBWixDQUFxQixVQUFVQyxRQUFWLEVBQW9CO01BQ3ZDbkIsV0FBVyxDQUFDb0IsTUFBWjtNQUNBNUIsR0FBRyxDQUFDOEIsaUJBQUosQ0FBc0JVLGVBQXRCLENBQXNDN0IsVUFBdEMsRUFBa0QsVUFBVXlCLEdBQVYsRUFBZWYsTUFBZixFQUF1QjtRQUN2RU0sUUFBUSxDQUFDUyxHQUFELEVBQU1mLE1BQU4sQ0FBUjtNQUNELENBRkQ7SUFHRCxDQUxEO0lBTUFYLGFBQWEsQ0FBQ1EsSUFBZCxDQUFtQmxCLEdBQUcsQ0FBQ21CLHFCQUFKLENBQTBCQyxhQUExQixDQUF3Q1gsV0FBeEMsQ0FBbkI7SUFFQVIsU0FBUyxDQUFDb0MsUUFBUSxDQUFDSSxXQUFULEVBQUQsRUFBeUIvQixhQUF6QixDQUFUO0VBQ0QsQ0F2QkQsTUF1Qk87SUFDTFIsU0FBUyxDQUFDUCxXQUFXLENBQUMrQyxRQUFaLENBQXFCL0MsV0FBVyxDQUFDZ0QsQ0FBWixDQUFjQyxTQUFkLENBQXdCQyxTQUE3QyxFQUF3RGxDLFVBQXhELENBQUQsQ0FBVDtFQUNEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3N1YnNjcmliZS5qcz9iMDMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5jb25zdCBTdWJzY3JpYmVyID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvc3Vic2NyaWJlclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkcywgdGltZW91dCkge1xuICBpZiAodHlwZW9mIG1hbmlmZXN0SWRzID09PSAnc3RyaW5nJykge1xuICAgIHN1YnNjcmliZVNpbmdsZShhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWRzLCB0aW1lb3V0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmVNYW55KGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZHMsIHRpbWVvdXQpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdWJzY3JpYmVNYW55IChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWRzLCB0aW1lb3V0KSB7XG4gIGxldCBzdWJzY3JpYmVyMSwgc3Vic2NyaWJlcjIsIHN1YnNjcmliZXJzSWQ7XG4gIGNvbnN0IG1hbmlmZXN0SWQgPSBtYW5pZmVzdElkcy5zb3J0KCkuam9pbignLCcpO1xuXG4gIHN1YnNjcmliZXJzSWQgPSBbXTtcbiAgLy8gY2FsbGJhY2tPblByb2dyZXNzXG4gIHN1YnNjcmliZXIxID0gbmV3IFN1YnNjcmliZXIoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhcGkuZG93bmxvYWRzQ29udHJvbGxlci5kb3dubG9hZFN0YXRzLmdldFN0YXRzKG1hbmlmZXN0SWRzKTtcbiAgfSwgYXBpLnByb2Nlc3NTdWJzY3JpYmVyLCB0YXJnZXQsIG1hbmlmZXN0SWQsIHRpbWVvdXQpO1xuICBzdWJzY3JpYmVyc0lkLnB1c2goYXBpLnN1YnNjcmliZXJzQ29udHJvbGxlci5hZGRTdWJzY3JpYmVyKHN1YnNjcmliZXIxKSk7XG5cbiAgLy8gY2FsbGJhY2tPbkZpbmlzaFxuICBzdWJzY3JpYmVyMiA9IG5ldyBTdWJzY3JpYmVyKGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG1hbmlmZXN0SWRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ICYmIGFwaS5kb3dubG9hZHNDb250cm9sbGVyLmlzRG93bmxvYWRGaW5pc2hlZEFuZFN5bmNlZChtYW5pZmVzdElkc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIGFwaS5wcm9jZXNzU3Vic2NyaWJlciwgdGFyZ2V0LCBtYW5pZmVzdElkLCB0aW1lb3V0LCB0cnVlKTtcblxuICBzdWJzY3JpYmVyMi5vbkZpbmlzaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBzdWJzY3JpYmVyMS5yZW1vdmUoKTtcbiAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG1hbmlmZXN0SWRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgaXRlbXMucHVzaChhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RJbmZvUHJvbWlzZShtYW5pZmVzdElkc1tpXSkpO1xuICAgIH1cbiAgICBQcm9taXNlLmFsbChpdGVtcykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfSk7XG4gIHN1YnNjcmliZXJzSWQucHVzaChhcGkuc3Vic2NyaWJlcnNDb250cm9sbGVyLmFkZFN1YnNjcmliZXIoc3Vic2NyaWJlcjIpKTtcblxuICBvblN1Y2Nlc3MobnVsbCwgc3Vic2NyaWJlcnNJZCk7XG59XG5cbmZ1bmN0aW9uIHN1YnNjcmliZVNpbmdsZSAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkLCB0aW1lb3V0KSB7XG4gIGNvbnN0IG1hbmlmZXN0ID0gYXBpLm1hbmlmZXN0Q29udHJvbGxlci5nZXRNYW5pZmVzdEJ5SWQobWFuaWZlc3RJZCk7XG4gIGxldCBzdWJzY3JpYmVyMSwgc3Vic2NyaWJlcjIsIHN1YnNjcmliZXJzSWQ7XG4gIGlmIChtYW5pZmVzdCkge1xuICAgIHN1YnNjcmliZXJzSWQgPSBbXTtcblxuICAgIC8vIGNhbGxiYWNrT25Qcm9ncmVzc1xuICAgIHN1YnNjcmliZXIxID0gbmV3IFN1YnNjcmliZXIoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFwaS5kb3dubG9hZHNDb250cm9sbGVyLmRvd25sb2FkU3RhdHMuZ2V0U3RhdHMobWFuaWZlc3RJZCk7XG4gICAgfSwgYXBpLnByb2Nlc3NTdWJzY3JpYmVyLCB0YXJnZXQsIG1hbmlmZXN0SWQsIHRpbWVvdXQpO1xuICAgIHN1YnNjcmliZXJzSWQucHVzaChhcGkuc3Vic2NyaWJlcnNDb250cm9sbGVyLmFkZFN1YnNjcmliZXIoc3Vic2NyaWJlcjEpKTtcblxuICAgIC8vIGNhbGxiYWNrT25GaW5pc2hcbiAgICBzdWJzY3JpYmVyMiA9IG5ldyBTdWJzY3JpYmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhcGkuZG93bmxvYWRzQ29udHJvbGxlci5pc0Rvd25sb2FkRmluaXNoZWRBbmRTeW5jZWQobWFuaWZlc3RJZCk7XG4gICAgfSwgYXBpLnByb2Nlc3NTdWJzY3JpYmVyLCB0YXJnZXQsIG1hbmlmZXN0SWQsIHRpbWVvdXQsIHRydWUpO1xuXG4gICAgc3Vic2NyaWJlcjIub25GaW5pc2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICBzdWJzY3JpYmVyMS5yZW1vdmUoKTtcbiAgICAgIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdEluZm8obWFuaWZlc3RJZCwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN1YnNjcmliZXJzSWQucHVzaChhcGkuc3Vic2NyaWJlcnNDb250cm9sbGVyLmFkZFN1YnNjcmliZXIoc3Vic2NyaWJlcjIpKTtcblxuICAgIG9uU3VjY2VzcyhtYW5pZmVzdC5nZXRKc29uSW5mbygpLCBzdWJzY3JpYmVyc0lkKTtcbiAgfSBlbHNlIHtcbiAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJ0cmFuc2xhdGlvbiIsInJlcXVpcmUiLCJTdWJzY3JpYmVyIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWRzIiwidGltZW91dCIsInN1YnNjcmliZVNpbmdsZSIsInN1YnNjcmliZU1hbnkiLCJzdWJzY3JpYmVyMSIsInN1YnNjcmliZXIyIiwic3Vic2NyaWJlcnNJZCIsIm1hbmlmZXN0SWQiLCJzb3J0Iiwiam9pbiIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJkb3dubG9hZFN0YXRzIiwiZ2V0U3RhdHMiLCJwcm9jZXNzU3Vic2NyaWJlciIsInB1c2giLCJzdWJzY3JpYmVyc0NvbnRyb2xsZXIiLCJhZGRTdWJzY3JpYmVyIiwicmVzdWx0IiwiaSIsImoiLCJsZW5ndGgiLCJpc0Rvd25sb2FkRmluaXNoZWRBbmRTeW5jZWQiLCJvbkZpbmlzaCIsImNhbGxiYWNrIiwicmVtb3ZlIiwiaXRlbXMiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0SW5mb1Byb21pc2UiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsInJlc3VsdHMiLCJlcnIiLCJtYW5pZmVzdCIsIm1hbmlmZXN0Q29udHJvbGxlciIsImdldE1hbmlmZXN0QnlJZCIsImdldE1hbmlmZXN0SW5mbyIsImdldEpzb25JbmZvIiwiZ2V0RXJyb3IiLCJlIiwibWFuaWZlc3RzIiwiTk9UX0ZPVU5EIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///608\n")},6439:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestIds) {\n  if (typeof manifestIds === 'string') {\n    unsubscribeSingle(api, onSuccess, onFailure, target, manifestIds);\n  } else {\n    api.subscribersController.unsubscribe(manifestIds);\n    api.subscribersController.unsubscribe(manifestIds.sort().join(','));\n  }\n};\n\nfunction unsubscribeSingle(api, onSuccess, onFailure, target, manifestId) {\n  var manifest = api.manifestController.getManifestById(manifestId);\n\n  if (manifest) {\n    api.subscribersController.unsubscribe(manifestId);\n    onSuccess();\n  } else {\n    onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQzOS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBRCxDQUEzQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxXQUE3QyxFQUEwRDtFQUN6RSxJQUFJLE9BQU9BLFdBQVAsS0FBdUIsUUFBM0IsRUFBcUM7SUFDbkNDLGlCQUFpQixDQUFDTCxHQUFELEVBQU1DLFNBQU4sRUFBaUJDLFNBQWpCLEVBQTRCQyxNQUE1QixFQUFvQ0MsV0FBcEMsQ0FBakI7RUFDRCxDQUZELE1BRU87SUFDTEosR0FBRyxDQUFDTSxxQkFBSixDQUEwQkMsV0FBMUIsQ0FBc0NILFdBQXRDO0lBQ0FKLEdBQUcsQ0FBQ00scUJBQUosQ0FBMEJDLFdBQTFCLENBQXNDSCxXQUFXLENBQUNJLElBQVosR0FBbUJDLElBQW5CLENBQXdCLEdBQXhCLENBQXRDO0VBQ0Q7QUFDRixDQVBEOztBQVNBLFNBQVNKLGlCQUFULENBQTRCTCxHQUE1QixFQUFpQ0MsU0FBakMsRUFBNENDLFNBQTVDLEVBQXVEQyxNQUF2RCxFQUErRE8sVUFBL0QsRUFBMkU7RUFDekUsSUFBTUMsUUFBUSxHQUFHWCxHQUFHLENBQUNZLGtCQUFKLENBQXVCQyxlQUF2QixDQUF1Q0gsVUFBdkMsQ0FBakI7O0VBQ0EsSUFBSUMsUUFBSixFQUFjO0lBQ1pYLEdBQUcsQ0FBQ00scUJBQUosQ0FBMEJDLFdBQTFCLENBQXNDRyxVQUF0QztJQUNBVCxTQUFTO0VBQ1YsQ0FIRCxNQUdPO0lBQ0xDLFNBQVMsQ0FBQ04sV0FBVyxDQUFDa0IsUUFBWixDQUFxQmxCLFdBQVcsQ0FBQ21CLENBQVosQ0FBY0MsU0FBZCxDQUF3QkMsU0FBN0MsRUFBd0RQLFVBQXhELENBQUQsQ0FBVDtFQUNEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3Vuc3Vic2NyaWJlLmpzPzJkODEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vdHJhbnNsYXRpb24vaW5kZXgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkcykge1xuICBpZiAodHlwZW9mIG1hbmlmZXN0SWRzID09PSAnc3RyaW5nJykge1xuICAgIHVuc3Vic2NyaWJlU2luZ2xlKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZHMpO1xuICB9IGVsc2Uge1xuICAgIGFwaS5zdWJzY3JpYmVyc0NvbnRyb2xsZXIudW5zdWJzY3JpYmUobWFuaWZlc3RJZHMpO1xuICAgIGFwaS5zdWJzY3JpYmVyc0NvbnRyb2xsZXIudW5zdWJzY3JpYmUobWFuaWZlc3RJZHMuc29ydCgpLmpvaW4oJywnKSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHVuc3Vic2NyaWJlU2luZ2xlIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWQpIHtcbiAgY29uc3QgbWFuaWZlc3QgPSBhcGkubWFuaWZlc3RDb250cm9sbGVyLmdldE1hbmlmZXN0QnlJZChtYW5pZmVzdElkKTtcbiAgaWYgKG1hbmlmZXN0KSB7XG4gICAgYXBpLnN1YnNjcmliZXJzQ29udHJvbGxlci51bnN1YnNjcmliZShtYW5pZmVzdElkKTtcbiAgICBvblN1Y2Nlc3MoKTtcbiAgfSBlbHNlIHtcbiAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJ0cmFuc2xhdGlvbiIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBpIiwib25TdWNjZXNzIiwib25GYWlsdXJlIiwidGFyZ2V0IiwibWFuaWZlc3RJZHMiLCJ1bnN1YnNjcmliZVNpbmdsZSIsInN1YnNjcmliZXJzQ29udHJvbGxlciIsInVuc3Vic2NyaWJlIiwic29ydCIsImpvaW4iLCJtYW5pZmVzdElkIiwibWFuaWZlc3QiLCJtYW5pZmVzdENvbnRyb2xsZXIiLCJnZXRNYW5pZmVzdEJ5SWQiLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJOT1RfRk9VTkQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6439\n")},1052:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, downloadFolder) {\n  api.downloadsController.updateDownloadFolder(manifestId, downloadFolder, onSuccess, onFailure);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA1Mi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxVQUE3QyxFQUF5REMsY0FBekQsRUFBeUU7RUFDeEZMLEdBQUcsQ0FBQ00sbUJBQUosQ0FBd0JDLG9CQUF4QixDQUE2Q0gsVUFBN0MsRUFBeURDLGNBQXpELEVBQXlFSixTQUF6RSxFQUFvRkMsU0FBcEY7QUFDRCxDQUZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy91cGRhdGUtZG93bmxvYWQtZm9sZGVyLmpzPzMyM2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCwgZG93bmxvYWRGb2xkZXIpIHtcbiAgYXBpLmRvd25sb2Fkc0NvbnRyb2xsZXIudXBkYXRlRG93bmxvYWRGb2xkZXIobWFuaWZlc3RJZCwgZG93bmxvYWRGb2xkZXIsIG9uU3VjY2Vzcywgb25GYWlsdXJlKTtcbn07XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJkb3dubG9hZEZvbGRlciIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJ1cGRhdGVEb3dubG9hZEZvbGRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1052\n")},8105:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess, onFailure, target, subscribers) {\n  api.subscribersController.removeSubscribersById(subscribers);\n  onSuccess();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODEwNS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEdBQVYsRUFBZUMsU0FBZixFQUEwQkMsU0FBMUIsRUFBcUNDLE1BQXJDLEVBQTZDQyxXQUE3QyxFQUEwRDtFQUN6RUosR0FBRyxDQUFDSyxxQkFBSixDQUEwQkMscUJBQTFCLENBQWdERixXQUFoRDtFQUNBSCxTQUFTO0FBQ1YsQ0FIRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9yZW1vdmUtc3Vic2NyaWJlcnMuanM/NTMzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBzdWJzY3JpYmVycykge1xuICBhcGkuc3Vic2NyaWJlcnNDb250cm9sbGVyLnJlbW92ZVN1YnNjcmliZXJzQnlJZChzdWJzY3JpYmVycyk7XG4gIG9uU3VjY2VzcygpO1xufTtcblxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJzdWJzY3JpYmVycyIsInN1YnNjcmliZXJzQ29udHJvbGxlciIsInJlbW92ZVN1YnNjcmliZXJzQnlJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8105\n")},6953:module=>{"use strict";eval("\n\nmodule.exports = {\n  regexpProtocolRemove: /^https{0,1}\\:\\/\\//i\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjk1My5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZDLG9CQUFvQixFQUFFO0FBRFAsQ0FBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2NvbnN0YW50cy5qcz9kOTlhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVnZXhwUHJvdG9jb2xSZW1vdmU6IC9eaHR0cHN7MCwxfVxcOlxcL1xcLy9pXG59O1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZWdleHBQcm90b2NvbFJlbW92ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6953\n")},4612:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\n\n\nvar _ = __webpack_require__(4952);\n\nvar mkdirp = __webpack_require__(9526);\n\nvar appSettings = __webpack_require__(9277);\n\nvar translation = __webpack_require__(817);\n\nvar Download = __webpack_require__(8158);\n\nvar DownloadsStorageController = __webpack_require__(2381);\n\nvar downloadUtil = __webpack_require__(957);\n\nvar DownloadStats = __webpack_require__(2197);\n\nvar STATUSES = __webpack_require__(8255);\n\nvar CODES = __webpack_require__(6999);\n\nvar constants = __webpack_require__(6953);\n\nvar utilUrl = __webpack_require__(8279);\n\nvar path = __webpack_require__(1017);\n\nvar ReadItem = __webpack_require__(3812);\n\nvar FlushItem = __webpack_require__(1789);\n\nvar downloadFileUtil = __webpack_require__(2777);\n/**\n *\n * @param {ManifestController} manifestController - existing manifest controller\n * @param {OfflineController} offlineController - existing offline controller\n * @constructor\n */\n\n\nfunction DownloadsController(manifestController, offlineController) {\n  this._manifestsDownloadOrder = [];\n  this._manifestsDownloadOrderObj = {};\n  this._manifestController = manifestController;\n  this._offlineController = offlineController;\n  this.storage = new DownloadsStorageController();\n\n  this._offlineController.setDownloadStorage(this.storage);\n\n  this._names = {\n    downloadInProgress: "downloadInProgress",\n    options: "options",\n    maxDownloadInProgress: "maxDownloadInProgress"\n  };\n  this._STATS_TIME_GENERATION = 1000;\n  this.downloadStats = new DownloadStats(this.storage);\n\n  _.bindAll(this, "_onDownloadEnd", "_onDownloadError", "isDownloadFinished");\n}\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} videoLinks - video links to be downloaded\n * @param {Array} audioLinks - audio links to be downloaded\n * @param {Array} textLinks - text links to be downloaded\n * @returns {void}\n * @private\n */\n\n\nDownloadsController.prototype._addDownloads = function (manifestId, videoLinks, audioLinks, textLinks) {\n  var working = true;\n\n  this._prepareStartOptions(manifestId, videoLinks, audioLinks, textLinks);\n\n  while (working) {\n    var ratioAudioVideo = videoLinks.length ? Math.round(audioLinks.length / videoLinks.length) : 1;\n    var ratioTextVideo = videoLinks.length ? Math.round(textLinks.length / videoLinks.length) : 1;\n\n    this._addNextItemToQueue(manifestId, textLinks, ratioTextVideo);\n\n    this._addNextItemToQueue(manifestId, audioLinks, ratioAudioVideo);\n\n    this._addNextItemToQueue(manifestId, videoLinks);\n\n    working = !!(textLinks.length || videoLinks.length || audioLinks.length);\n  }\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} links - array of links to be downloaded\n * @param {number} nbItems - the rnumber of items to add to the queue\n * @private\n * @returns {void}\n */\n\n\nDownloadsController.prototype._addNextItemToQueue = function (manifestId, links, nbItems) {\n  var link;\n\n  if (!nbItems) {\n    nbItems = 1;\n  }\n\n  if (links.length) {\n    while (nbItems > 0) {\n      link = links.shift();\n      link.manifestId = manifestId;\n      this.storage.left.push(manifestId, link);\n      nbItems--;\n    }\n  }\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {boolean} asFirst - to force to download manifest without wiating in queue\n * @returns {boolean} - status if operation was successfully\n * @private\n */\n\n\nDownloadsController.prototype._downloadOrderAddManifest = function (manifestId, asFirst) {\n  if (!this._downloadOrderManifestExists(manifestId)) {\n    this._manifestsDownloadOrderObj[manifestId] = true;\n\n    if (asFirst) {\n      this._manifestsDownloadOrder.unshift(manifestId);\n    } else {\n      this._manifestsDownloadOrder.push(manifestId);\n    }\n\n    return true;\n  } else {\n    return false;\n  }\n};\n/**\n *\n * @param {number} nextManifestPositionInArray - index number from array _manifestsDownloadOrder\n * @returns {manifestId} - manifest identifier\n * @private\n */\n\n\nDownloadsController.prototype._downloadOrderGetManifestId = function (nextManifestPositionInArray) {\n  return this._manifestsDownloadOrder[nextManifestPositionInArray];\n};\n/**\n *\n * @param {manifestId} manifestId -  manifest identifier\n * @returns {number} index number from array _manifestsDownloadOrder\n * @private\n */\n\n\nDownloadsController.prototype._indexOfManifest = function (manifestId) {\n  return this._manifestsDownloadOrder.indexOf(manifestId);\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {*} - if manifest has been already added to the queue\n * @private\n */\n\n\nDownloadsController.prototype._downloadOrderManifestExists = function (manifestId) {\n  return this._manifestsDownloadOrderObj[manifestId];\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {boolean} - status if manifest has been removed from queue\n * @private\n */\n\n\nDownloadsController.prototype._downloadOrderRemoveManifest = function (manifestId) {\n  var found = false,\n      i,\n      j;\n  delete this._manifestsDownloadOrderObj[manifestId];\n\n  for (i = 0, j = this._manifestsDownloadOrder.length; i < j; i++) {\n    if (this._manifestsDownloadOrder[i] === manifestId) {\n      this._manifestsDownloadOrder.splice(i, 1);\n\n      found = true;\n      break;\n    }\n  }\n\n  return found;\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {function} onSuccess - callback to be invoked when download finishes with success\n * @param {function} onFailure - callback to be invoked when download failed\n * @private\n * @returns {void}\n */\n\n\nDownloadsController.prototype._finish = function (manifestId, onSuccess, onFailure) {\n  this.downloadStats.refresh();\n\n  this._downloadOrderRemoveManifest(manifestId);\n\n  if (!this._manifestsDownloadOrder.length) {\n    this.downloadStats.stop();\n  }\n\n  this.storage.removeItem(manifestId).then(onSuccess, onFailure);\n};\n/**\n *\n * @param {object} link - link object which consist remote and local url\n * @private\n * @returns {string} - unique hash for download file based on local and remote url\n */\n\n\nDownloadsController.prototype._getDownloadHash = function (link) {\n  return link.remoteUrl + "-" + link.localUrl;\n};\n/**\n *\n * @param {Download} download - download class to be marked either with success or with error\n * @private\n * @returns {void}\n */\n\n\nDownloadsController.prototype._markDownloadItem = function (download) {\n  var self = this;\n  var manifestId = download.manifestId;\n\n  var downloadHash = self._getDownloadHash(download);\n\n  var syncStorageKeys = [];\n  var lastItem;\n  download.events.removeListener("end", self._onDownloadEnd);\n  download.events.removeListener("error", self._onDownloadError); //refreshing stats for last time - to have correct stats for subscribers progress before it is removed\n\n  if (self.storage.downloading.count(manifestId) === 1 && self.storage.left.count(manifestId) === 0) {\n    this.downloadStats.refresh();\n    lastItem = true;\n  }\n\n  if (download.status === STATUSES.FINISHED) {\n    self.storage.downloaded.push(manifestId, download);\n    syncStorageKeys.push(this.storage.stores.DOWNLOADS.DOWNLOADED);\n  } else {\n    self.storage.errors.push(manifestId, download);\n  }\n\n  self.storage.downloading.removeItem(manifestId, downloadHash);\n\n  if (self.isDownloadFinished(manifestId)) {\n    if (self.storage.errors.count(manifestId) === 0) {\n      self.storage.status.setItem(manifestId, "status", STATUSES.FINISHED);\n    } else {\n      self.storage.status.setItem(manifestId, "status", STATUSES.ERROR);\n    }\n\n    syncStorageKeys.push(this.storage.stores.STATUS);\n  }\n\n  self.storage.sync(manifestId, syncStorageKeys).then(function () {\n    self.storage.params.decrease(manifestId, self._names.downloadInProgress);\n\n    if (lastItem) {\n      self._finish(manifestId, function () {\n        self.startQueue();\n        console.info("FINISHED", manifestId);\n      }, function () {\n        self.startQueue();\n      });\n    } else {\n      self.startQueue();\n    }\n  }, function (err) {\n    console.error("ERROR", err);\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {function} onSuccess - callback to be invoked when stop has been successfully\n * @param {function} onFailure - callback to be invoked when stop failed\n * @param {string} status - the status\n * @param {string} statusDetails - adds details about status (on errors for example)\n * @returns {void}\n */\n\n\nDownloadsController.prototype._stopWithStatus = function (manifestId, onSuccess, onFailure, status, statusDetails) {\n  var self = this;\n\n  self._downloadOrderRemoveManifest(manifestId);\n\n  self.storage.getItem(manifestId).then(function (result) {\n    if (!result) {\n      onFailure(translation.getError(translation.e.downloads.ALREADY_STOPPED, manifestId));\n      return;\n    }\n\n    var itemsToStop = self.storage.downloading.getKeys(manifestId);\n    var itemToStop;\n    console.info("STOPPING", manifestId, itemsToStop.length);\n    var promises = [];\n\n    for (var i = 0, j = itemsToStop.length; i < j; i++) {\n      itemToStop = self.storage.downloading.getItem(manifestId, itemsToStop[i]);\n      itemToStop.events.removeListener("end", self._onDownloadEnd);\n      itemToStop.events.removeListener("error", self._onDownloadError);\n      promises.push(itemToStop.stopPromise());\n    }\n\n    self.storage.status.setItem(manifestId, "status", status);\n\n    if (statusDetails) {\n      self.storage.status.setItem(manifestId, "details", statusDetails);\n    }\n\n    promises.push(self.storage.sync(manifestId, [self.storage.stores.DOWNLOADS.DOWNLOADED, self.storage.stores.STATUS]));\n    Promise.all(promises).then(function () {\n      self._finish(manifestId, onSuccess, onFailure);\n    }, function (err) {\n      onFailure(translation.getError(translation.e.downloads.STOPPING_FAILED, manifestId), err);\n    });\n  }, function (err) {\n    onFailure(translation.getError(translation.e.downloads.STOPPING_FAILED, manifestId), err);\n  });\n};\n/**\n * @param {Download} download - Download Class\n * @param {object} err - error object\n * @returns {void}\n * @private\n */\n\n\nDownloadsController.prototype._onDownloadError = function (download, err) {\n  console.error("ERROR", download.remoteUrl, err);\n\n  this._markDownloadItem(download);\n\n  if (err === downloadFileUtil.errors.NO_SPACE_LEFT_ERROR || appSettings.getSettings().stopOnError) {\n    // stop downloading => cannot write\n    this._stopWithStatus(download.manifestId, function () {\n      console.info(\'stopped\');\n    }, function (failure) {\n      console.info(failure);\n    }, STATUSES.ERROR, err);\n  }\n};\n/**\n *\n * @param {Download} download - Download Class\n * @returns {void}\n * @private\n */\n\n\nDownloadsController.prototype._onDownloadEnd = function (download) {\n  // console.log("FINISHED", download.remoteUrl, download.localUrl);\n  this._markDownloadItem(download);\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} videoLinks - video links to be downloaded\n * @param {Array} audioLinks - audio links to be downloaded\n * @param {Array} textLinks - text links to be downloaded\n * @returns {void}\n * @private\n */\n\n\nDownloadsController.prototype._prepareStartOptions = function (manifestId, videoLinks, audioLinks, textLinks) {\n  var count = videoLinks.length + audioLinks.length + textLinks.length;\n  console.info("ADDING ->>> ", manifestId + ",", count, "fragments");\n  var options = {};\n  this.storage.params.setItem(manifestId, this._names.downloadInProgress, 0);\n  var maxDownloadInProgress;\n  var threadRules = appSettings.getSettings().downloadingThreadsRules;\n\n  for (var i = 0, j = threadRules.items.length; i < j; i++) {\n    if (count <= threadRules.items[i].max) {\n      options[threadRules.threadName] = threadRules.items[i].threads;\n      maxDownloadInProgress = threadRules.items[i].files;\n      break;\n    }\n  }\n\n  this.storage.params.setItem(manifestId, this._names.options, options);\n  this.storage.params.setItem(manifestId, this._names.maxDownloadInProgress, maxDownloadInProgress); //download order can help to stop download one manifest and download another or download them in parallel\n\n  this._downloadOrderAddManifest(manifestId);\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {boolean} - if download is finished\n */\n\n\nDownloadsController.prototype.isDownloadFinished = function (manifestId) {\n  return !this.storage.left.count(manifestId) && !this.storage.downloading.count(manifestId);\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {boolean} - if download is finished and synced (info written on disk)\n */\n\n\nDownloadsController.prototype.isDownloadFinishedAndSynced = function (manifestId) {\n  return !this.storage.left.count(manifestId) && !this.storage.downloading.count(manifestId) && !this.storage.keyExists(manifestId);\n};\n\nDownloadsController.prototype.getDownloading = function (manifestId, localFile) {\n  var items = this.storage.downloading.getItems(manifestId);\n\n  if (!items) {\n    return null;\n  }\n\n  for (var link in items) {\n    if (items.hasOwnProperty(link)) {\n      var download = items[link];\n      var downloadPath = path.normalize(download.localUrl);\n      var local = path.normalize(localFile);\n\n      if (downloadPath === local) {\n        return download;\n      }\n    }\n  }\n\n  return null;\n};\n\nDownloadsController.prototype.waitForDownload = function (download, callback) {\n  var _onDownloadEnd;\n\n  var _onDownloadError;\n\n  var removeListener = function removeListener(download) {\n    download.events.removeListener("end", _onDownloadEnd);\n    download.events.removeListener("error", _onDownloadError);\n  };\n\n  _onDownloadEnd = function _onDownloadEnd(download) {\n    removeListener(download);\n    callback();\n  };\n\n  _onDownloadError = function _onDownloadError(download, err) {\n    removeListener(download);\n    callback(err);\n  };\n\n  download.events.on("end", _onDownloadEnd);\n  download.events.on("error", _onDownloadError);\n};\n/**\n* Perform a seek - this changes order of fragment download for a manifest\n* @param {string} manifestId - manifest identifier\n* @param {string} localFile - local file\n* @param {function} callback - callback to get result\n* @returns {void}\n*/\n\n\nDownloadsController.prototype.performSeek = function (manifestId, localFile, callback) {\n  var self = this;\n  var download;\n  download = self.getDownloading(manifestId, localFile);\n\n  if (download) {\n    self.waitForDownload(download, callback);\n    return;\n  }\n\n  var items = self.storage.left.getItems(manifestId);\n\n  if (!items) {\n    callback(\'No download found\');\n    return;\n  }\n\n  var index = items.findIndex(function (download) {\n    var downloadPath = path.normalize(download.localUrl);\n    var local = path.normalize(localFile);\n    return downloadPath === local;\n  });\n\n  if (index > -1) {\n    var part1 = items.slice(0, index);\n    var part2 = items.slice(index);\n    self.storage.left.clear(manifestId);\n    self.storage.left.concat(manifestId, part2);\n    self.storage.left.concat(manifestId, part1);\n    items = self.storage.left.getItems(manifestId);\n    self.startQueue(self._indexOfManifest(manifestId), true);\n    download = self.getDownloading(manifestId, localFile);\n\n    if (download) {\n      self.waitForDownload(download, callback);\n    } else {\n      // if not queued, return an error\n      callback(\'No download found\');\n    }\n  } else {\n    callback(\'No download found\');\n  }\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {object} representations - object containing video, audio and text representations ids\n * @param {string} downloadFolder - download folder for video. If undefined, then default download folder is used\n * @param {function} onSuccess - callback to be invoked when start has been successfully\n * @param {function} onFailure - callback to be invoked when start failed\n * @param {boolean} fromResumed - if start has been called from resume api method\n * @param {string} oldstatus - if from resumed, then indicates the old status of download\n * @returns {void}\n */\n\n\nDownloadsController.prototype.start = function (manifestId, representations, downloadFolder, onSuccess, onFailure, fromResumed, oldstatus) {\n  var self = this;\n  this.downloadStats.start();\n\n  var manifest = this._manifestController.getManifestById(manifestId);\n\n  if (!manifest) {\n    onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n    return;\n  }\n\n  representations = representations || {};\n  var video = representations.video || [];\n\n  if (!Array.isArray(video)) {\n    video = [video];\n  }\n\n  var audio = representations.audio || [];\n\n  if (!Array.isArray(audio)) {\n    audio = [audio];\n  }\n\n  var text = representations.text || [];\n\n  if (!Array.isArray(text)) {\n    text = [text];\n  }\n\n  var videoR = manifest.getVideoRepresentations();\n  var audioR = manifest.getAudioRepresentations();\n  var textR = manifest.getTextRepresentations();\n  var localDownloadFolder = path.resolve(appSettings.getSettings().downloadsFolderPath);\n\n  if (downloadFolder) {\n    localDownloadFolder = path.resolve(downloadFolder);\n  }\n\n  var localPath = path.resolve(localDownloadFolder + "/" + manifestId + "/");\n  var manifestUrl = manifest.getManifestUrl();\n  var manifestName = manifest.getManifestName();\n\n  function getManifestBaseUrl(xml, manifestUrlDomain) {\n    var manifestBaseUrl;\n    var MPD = xml.getElementsByTagName("MPD")[0];\n\n    if (MPD) {\n      for (var i = 0, j = MPD.childNodes.length; i < j; i++) {\n        if (MPD.childNodes[i].nodeName === "BaseURL") {\n          manifestBaseUrl = MPD.childNodes[i].textContent;\n\n          if (!manifestBaseUrl.match(constants.regexpProtocolRemove)) {\n            manifestBaseUrl = utilUrl.joinPath(manifestUrlDomain, manifestBaseUrl);\n          }\n\n          break;\n        }\n      }\n    }\n\n    if (!manifestBaseUrl) {\n      manifestBaseUrl = manifestUrlDomain;\n    }\n\n    return manifestBaseUrl;\n  }\n\n  Promise.all([this._offlineController.getManifestInfoPromise(manifestId, true), this.storage.getItem(manifestId), mkdirp(localPath)]).then(function (results) {\n    var info = results[0];\n    var storageItem = results[1];\n\n    if (storageItem && !self.isDownloadFinished(manifestId)) {\n      if (fromResumed) {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_RESUMED, manifestId));\n      } else {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_STARTED, manifestId));\n      }\n\n      return;\n    } //collect Links - start\n\n\n    if (info.manifest.video) {\n      video = _.union(video, info.manifest.video);\n    }\n\n    if (info.manifest.audio) {\n      audio = _.union(audio, info.manifest.audio);\n    }\n\n    if (info.manifest.text) {\n      text = _.union(text, info.manifest.text);\n    }\n\n    var downloaded = info.downloadedFiles || [];\n    var downloadedHash = {};\n\n    for (var i = 0, j = downloaded.length; i < j; i++) {\n      downloadedHash[downloaded[i].localUrl] = downloaded[i];\n    }\n\n    var remotePath = getManifestBaseUrl(manifest.manifestXML.xml, manifest.url_domain);\n    var videoLinks = downloadUtil.getDownloadLinks(manifestId, localPath, remotePath, video, videoR, downloadedHash);\n    var audioLinks = downloadUtil.getDownloadLinks(manifestId, localPath, remotePath, audio, audioR, downloadedHash);\n    var textLinks = downloadUtil.getDownloadLinks(manifestId, localPath, remotePath, text, textR, downloadedHash);\n    var allvideoLinks = downloadUtil.getAllLinks(manifestId, localPath, remotePath, video, videoR);\n    var allaudioLinks = downloadUtil.getAllLinks(manifestId, localPath, remotePath, audio, audioR);\n    var alltextLinks = downloadUtil.getAllLinks(manifestId, localPath, remotePath, text, textR);\n    var allFiles = allvideoLinks.concat(allaudioLinks, alltextLinks); //collect Links - end\n\n    self.storage.createIfNotExists(manifestId).then(function () {\n      self.storage.manifest.setItem(manifestId, "ts", new Date().getTime());\n      self.storage.manifest.setItem(manifestId, "url", manifestUrl);\n      self.storage.manifest.setItem(manifestId, "name", manifestName);\n      self.storage.manifest.setItem(manifestId, "video", video);\n      self.storage.manifest.setItem(manifestId, "audio", audio);\n      self.storage.manifest.setItem(manifestId, "text", text);\n      self.storage.manifest.setItem(manifestId, "files", allFiles);\n      self.storage.manifest.setItem(manifestId, "folder", localDownloadFolder);\n      self.storage.downloaded.clear(manifestId);\n      self.storage.downloaded.concat(manifestId, downloaded);\n      self.storage.errors.clear(manifestId);\n\n      if (!fromResumed) {\n        // do not initialise state of manifest is start is from resume\n        // state must stay the last one\n        self.storage.status.setItem(manifestId, "status", STATUSES.CREATED);\n      } else {\n        // init status with last status\n        self.storage.status.setItem(manifestId, "status", oldstatus);\n      }\n\n      Promise.all([self.storage.sync(manifestId, [self.storage.stores.MANIFEST, self.storage.stores.STATUS]), self._manifestController.saveOriginalManifestOnceOnly(manifestId), self._manifestController.saveManifestWithChosenRepresentations(manifestId, {\n        video: video,\n        audio: audio,\n        text: text\n      }, localPath)]).then(function () {\n        self._addDownloads(manifestId, videoLinks, audioLinks, textLinks);\n\n        if (self._indexOfManifest(manifestId) > appSettings.getSettings().numberOfManifestsInParallel - 1) {\n          self.storage.status.setItem(manifestId, "status", STATUSES.QUEUED);\n        } else {\n          self.storage.status.setItem(manifestId, "status", STATUSES.STARTED);\n        }\n\n        self.storage.status.setItem(manifestId, "left", self.storage.left.count(manifestId));\n        self.storage.sync(manifestId, [self.storage.stores.DOWNLOADS.DOWNLOADED, self.storage.stores.STATUS]).then(function () {\n          self.downloadStats.refresh();\n\n          if (self.isDownloadFinished(manifestId)) {\n            self.storage.status.setItem(manifestId, "status", STATUSES.FINISHED);\n            self.storage.sync(manifestId, self.storage.stores.STATUS).then(function () {\n              self._finish(manifestId, onSuccess, onFailure);\n            }, onFailure);\n          } else {\n            self.downloadStats.start();\n            self.startQueue();\n            onSuccess();\n          }\n        }, onFailure);\n      }, onFailure);\n    }, onFailure);\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {object} representations - object containing video, audio and text representations ids\n * @param {function} onSuccess - callback to be invoked when start has been successfully\n * @param {function} onFailure - callback to be invoked when start failed\n * @returns {void}\n */\n\n\nDownloadsController.prototype.resume = function (manifestId, representations, onSuccess, onFailure) {\n  var self = this;\n\n  this._offlineController.getManifestInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads.RESUMING_FAILED, manifestId), err);\n    } else {\n      var folder = info.manifest.folder;\n\n      if (!folder) {\n        // use default download folder path\n        folder = path.resolve(appSettings.getSettings().downloadsFolderPath);\n      }\n\n      self.start(manifestId, representations, folder, onSuccess, onFailure, true, info.status);\n    }\n  });\n};\n/**\n * Update download folder path\n * @param {string} manifestId - manifest identifier\n * @param {string} downloadFolder - new download folder\n * @param {function} onSuccess - callback to be invoked when start has been successfully\n * @param {function} onFailure - callback to be invoked when start failed\n * @returns {void}\n */\n\n\nDownloadsController.prototype.updateDownloadFolder = function (manifestId, downloadFolder, onSuccess, onFailure) {\n  Promise.all([new ReadItem(manifestId, appSettings.getSettings().stores.MANIFEST)]).then(function (results) {\n    var manifestSettings = results[0];\n\n    if (!manifestSettings) {\n      onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n      return;\n    }\n\n    manifestSettings.folder = downloadFolder;\n    var flushItem = new FlushItem(manifestId, appSettings.getSettings().stores.MANIFEST, manifestSettings);\n    flushItem.save().then(function () {\n      onSuccess();\n    }, function (err) {\n      onFailure(translation.getError(translation.e.downloads.SAVING_DATA_FAILED, manifestId), err);\n    });\n  }, function (err) {\n    onFailure(translation.getError(translation.e.downloads.UPDATE_DOWNLOAD_FOLDER_FAILED, manifestId), err);\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {function} onSuccess - callback to be invoked when stop has been successfully\n * @param {function} onFailure - callback to be invoked when stop failed\n * @returns {void}\n */\n\n\nDownloadsController.prototype.stop = function (manifestId, onSuccess, onFailure) {\n  this._stopWithStatus(manifestId, onSuccess, onFailure, STATUSES.STOPPED);\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {boolean} ignoreStopped - don\'t fail if download has been already stopped\n * @returns {Promise} - promise\n */\n\n\nDownloadsController.prototype.stopPromise = function (manifestId, ignoreStopped) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.stop(manifestId, resolve, function (err) {\n      if (err) {\n        if (ignoreStopped && err.code === CODES.ERRORS.STOPPED) {\n          resolve();\n          return;\n        }\n\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} - promise\n */\n\n\nDownloadsController.prototype.removePromise = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.stopPromise(manifestId).then(function () {\n      self.storage.removeItem(manifestId).then(resolve, reject);\n    }, function (err) {\n      //already stopped, continue\n      if (err && err.code === CODES.ERRORS.STOPPED) {\n        self.storage.removeItem(manifestId).then(resolve, reject);\n      } else {\n        reject(err);\n      }\n    });\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {object} link - object link to be downloaded\n * @private\n * @returns {void}\n */\n\n\nDownloadsController.prototype._addLinkToDownload = function (manifestId, link) {\n  var self = this;\n  var params = Object.assign({}, link);\n  var download = new Download(params, self.storage.params.getItem(manifestId, self._names.options));\n\n  var downloadHash = self._getDownloadHash(link);\n\n  self.storage.downloading.setItem(manifestId, downloadHash, download);\n  self.storage.status.setItem(manifestId, "left", self.storage.left.count(manifestId) + self.storage.errors.count(manifestId));\n  self.storage.sync(manifestId, self.storage.stores.STATUS);\n  download.events.on("end", self._onDownloadEnd);\n  download.events.on("error", self._onDownloadError);\n  download.start();\n  return download;\n};\n/**\n *\n * @param {number} [nextManifestPositionInArray] - index from array to decide which manifest should be downloaded next\n *   (queue)\n * @param {boolean} forceDownload true to force next download to be queued\n * @returns {void}\n */\n\n\nDownloadsController.prototype.startQueue = function (nextManifestPositionInArray, forceDownload) {\n  var count, downloadsInProgress, link, manifestId, maxDownloads;\n\n  if (typeof nextManifestPositionInArray === "undefined") {\n    nextManifestPositionInArray = 0;\n  }\n\n  manifestId = this._downloadOrderGetManifestId(nextManifestPositionInArray);\n\n  if (manifestId && this.isDownloadFinished(manifestId)) {\n    // the manifest id will be removed from queue, wait next time. Thus, do not change status\n    return;\n  }\n\n  if (nextManifestPositionInArray >= appSettings.getSettings().numberOfManifestsInParallel) {\n    if (manifestId) {\n      this.storage.status.setItem(manifestId, "status", STATUSES.QUEUED);\n    }\n\n    return;\n  } else {\n    this.storage.status.setItem(manifestId, "status", STATUSES.STARTED);\n  }\n\n  if (!manifestId) {\n    count = 0;\n    var i, j, items;\n    items = this.storage.getKeys();\n\n    for (i = 0, j = items.length; i < j; i++) {\n      count += this.storage.params.count(items[i], this._names.downloadInProgress);\n    }\n\n    if (count === 0) {\n      this.downloadStats.stop();\n    }\n\n    return;\n  }\n\n  downloadsInProgress = this.storage.params.getItem(manifestId, this._names.downloadInProgress);\n  maxDownloads = this.storage.params.getItem(manifestId, this._names.maxDownloadInProgress);\n\n  if (downloadsInProgress < maxDownloads - 1 || forceDownload) {\n    link = this.storage.left.shift(manifestId);\n\n    if (link) {\n      this.storage.params.increase(manifestId, this._names.downloadInProgress);\n\n      this._addLinkToDownload(manifestId, link);\n    } else {\n      //check next manifest\n      nextManifestPositionInArray++;\n    }\n\n    this.startQueue(nextManifestPositionInArray);\n  } else if (appSettings.getSettings().numberOfManifestsInParallel > 1 && nextManifestPositionInArray < appSettings.getSettings().numberOfManifestsInParallel) {\n    nextManifestPositionInArray++;\n    this.startQueue(nextManifestPositionInArray);\n  }\n};\n\nmodule.exports = DownloadsController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0QsQ0FBeEQsSUFBNkRoSywyQkFBMkIsR0FBR3ZELFdBQVcsQ0FBQ3lILFdBQVosR0FBMEI4RiwyQkFBekgsRUFBc0o7SUFDM0poSywyQkFBMkI7SUFDM0IsS0FBSzRDLFVBQUwsQ0FBZ0I1QywyQkFBaEI7RUFDRDtBQUNGLENBaEREOztBQWtEQTBMLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBPLG1CQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvY29udHJvbGxlcnMvZG93bmxvYWRzLWNvbnRyb2xsZXIuanM/ZDAwYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmVzbGludCBuby1jb25zb2xlOiBbXCJlcnJvclwiLCB7IGFsbG93OiBbXCJ3YXJuXCIsIFwiZXJyb3JcIiwgXCJpbmZvXCJdIH1dICovXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF8gPSByZXF1aXJlKFwidW5kZXJzY29yZVwiKTtcbmNvbnN0IG1rZGlycCA9IHJlcXVpcmUoXCJta2RpcnBcIik7XG5cbmNvbnN0IGFwcFNldHRpbmdzID0gcmVxdWlyZShcIi4uL2FwcC1zZXR0aW5nc1wiKTtcbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZShcIi4uL3RyYW5zbGF0aW9uL2luZGV4XCIpO1xuY29uc3QgRG93bmxvYWQgPSByZXF1aXJlKFwiLi4vZG93bmxvYWRzL2Rvd25sb2FkXCIpO1xuY29uc3QgRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi9kb3dubG9hZHMtc3RvcmFnZS1jb250cm9sbGVyXCIpO1xuY29uc3QgZG93bmxvYWRVdGlsID0gcmVxdWlyZShcIi4uL3V0aWwvZG93bmxvYWRzXCIpO1xuY29uc3QgRG93bmxvYWRTdGF0cyA9IHJlcXVpcmUoXCIuLi9zdGF0cy9kb3dubG9hZF9zdGF0c1wiKTtcbmNvbnN0IFNUQVRVU0VTID0gcmVxdWlyZShcIi4uL2Rvd25sb2Fkcy9zdGF0dXNlc1wiKTtcbmNvbnN0IENPREVTID0gcmVxdWlyZShcIi4uL2Rvd25sb2Fkcy9jb2Rlc1wiKTtcbmNvbnN0IGNvbnN0YW50cyA9IHJlcXVpcmUoXCIuLi9jb25zdGFudHNcIik7XG5jb25zdCB1dGlsVXJsID0gcmVxdWlyZShcIi4uL3V0aWwvdXJsXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgUmVhZEl0ZW0gPSByZXF1aXJlKFwiLi4vZG93bmxvYWRzL3JlYWQtaXRlbVwiKTtcbmNvbnN0IEZsdXNoSXRlbSA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvZmx1c2gtaXRlbVwiKTtcbmNvbnN0IGRvd25sb2FkRmlsZVV0aWwgPSByZXF1aXJlKFwiLi4vZG93bmxvYWRzL2Rvd25sb2FkLWZpbGUtdXRpbFwiKTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtNYW5pZmVzdENvbnRyb2xsZXJ9IG1hbmlmZXN0Q29udHJvbGxlciAtIGV4aXN0aW5nIG1hbmlmZXN0IGNvbnRyb2xsZXJcbiAqIEBwYXJhbSB7T2ZmbGluZUNvbnRyb2xsZXJ9IG9mZmxpbmVDb250cm9sbGVyIC0gZXhpc3Rpbmcgb2ZmbGluZSBjb250cm9sbGVyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gRG93bmxvYWRzQ29udHJvbGxlcihtYW5pZmVzdENvbnRyb2xsZXIsIG9mZmxpbmVDb250cm9sbGVyKSB7XG4gIHRoaXMuX21hbmlmZXN0c0Rvd25sb2FkT3JkZXIgPSBbXTtcbiAgdGhpcy5fbWFuaWZlc3RzRG93bmxvYWRPcmRlck9iaiA9IHt9O1xuICB0aGlzLl9tYW5pZmVzdENvbnRyb2xsZXIgPSBtYW5pZmVzdENvbnRyb2xsZXI7XG4gIHRoaXMuX29mZmxpbmVDb250cm9sbGVyID0gb2ZmbGluZUNvbnRyb2xsZXI7XG4gIHRoaXMuc3RvcmFnZSA9IG5ldyBEb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlcigpO1xuICB0aGlzLl9vZmZsaW5lQ29udHJvbGxlci5zZXREb3dubG9hZFN0b3JhZ2UodGhpcy5zdG9yYWdlKTtcbiAgdGhpcy5fbmFtZXMgPSB7XG4gICAgZG93bmxvYWRJblByb2dyZXNzOiBcImRvd25sb2FkSW5Qcm9ncmVzc1wiLFxuICAgIG9wdGlvbnM6IFwib3B0aW9uc1wiLFxuICAgIG1heERvd25sb2FkSW5Qcm9ncmVzczogXCJtYXhEb3dubG9hZEluUHJvZ3Jlc3NcIlxuICB9O1xuICB0aGlzLl9TVEFUU19USU1FX0dFTkVSQVRJT04gPSAxMDAwO1xuICB0aGlzLmRvd25sb2FkU3RhdHMgPSBuZXcgRG93bmxvYWRTdGF0cyh0aGlzLnN0b3JhZ2UpO1xuICBfLmJpbmRBbGwodGhpcywgXCJfb25Eb3dubG9hZEVuZFwiLCBcIl9vbkRvd25sb2FkRXJyb3JcIiwgXCJpc0Rvd25sb2FkRmluaXNoZWRcIik7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtBcnJheX0gdmlkZW9MaW5rcyAtIHZpZGVvIGxpbmtzIHRvIGJlIGRvd25sb2FkZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGF1ZGlvTGlua3MgLSBhdWRpbyBsaW5rcyB0byBiZSBkb3dubG9hZGVkXG4gKiBAcGFyYW0ge0FycmF5fSB0ZXh0TGlua3MgLSB0ZXh0IGxpbmtzIHRvIGJlIGRvd25sb2FkZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX2FkZERvd25sb2FkcyA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCB2aWRlb0xpbmtzLCBhdWRpb0xpbmtzLCB0ZXh0TGlua3MpIHtcbiAgbGV0IHdvcmtpbmcgPSB0cnVlO1xuICB0aGlzLl9wcmVwYXJlU3RhcnRPcHRpb25zKG1hbmlmZXN0SWQsIHZpZGVvTGlua3MsIGF1ZGlvTGlua3MsIHRleHRMaW5rcyk7XG4gIHdoaWxlICh3b3JraW5nKSB7XG4gICAgbGV0IHJhdGlvQXVkaW9WaWRlbyA9IHZpZGVvTGlua3MubGVuZ3RoID8gTWF0aC5yb3VuZChhdWRpb0xpbmtzLmxlbmd0aCAvIHZpZGVvTGlua3MubGVuZ3RoKSA6IDE7XG4gICAgbGV0IHJhdGlvVGV4dFZpZGVvID0gdmlkZW9MaW5rcy5sZW5ndGggPyBNYXRoLnJvdW5kKHRleHRMaW5rcy5sZW5ndGggLyB2aWRlb0xpbmtzLmxlbmd0aCkgOiAxO1xuICAgIHRoaXMuX2FkZE5leHRJdGVtVG9RdWV1ZShtYW5pZmVzdElkLCB0ZXh0TGlua3MsIHJhdGlvVGV4dFZpZGVvKTtcbiAgICB0aGlzLl9hZGROZXh0SXRlbVRvUXVldWUobWFuaWZlc3RJZCwgYXVkaW9MaW5rcywgcmF0aW9BdWRpb1ZpZGVvKTtcbiAgICB0aGlzLl9hZGROZXh0SXRlbVRvUXVldWUobWFuaWZlc3RJZCwgdmlkZW9MaW5rcyk7XG4gICAgd29ya2luZyA9ICEhKHRleHRMaW5rcy5sZW5ndGggfHwgdmlkZW9MaW5rcy5sZW5ndGggfHwgYXVkaW9MaW5rcy5sZW5ndGgpO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7QXJyYXl9IGxpbmtzIC0gYXJyYXkgb2YgbGlua3MgdG8gYmUgZG93bmxvYWRlZFxuICogQHBhcmFtIHtudW1iZXJ9IG5iSXRlbXMgLSB0aGUgcm51bWJlciBvZiBpdGVtcyB0byBhZGQgdG8gdGhlIHF1ZXVlXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9hZGROZXh0SXRlbVRvUXVldWUgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgbGlua3MsIG5iSXRlbXMpIHtcbiAgbGV0IGxpbms7XG4gIGlmICghbmJJdGVtcykge1xuICAgIG5iSXRlbXMgPSAxO1xuICB9XG4gIGlmIChsaW5rcy5sZW5ndGgpIHtcbiAgICB3aGlsZSAobmJJdGVtcyA+IDApIHtcbiAgICAgIGxpbmsgPSBsaW5rcy5zaGlmdCgpO1xuICAgICAgbGluay5tYW5pZmVzdElkID0gbWFuaWZlc3RJZDtcbiAgICAgIHRoaXMuc3RvcmFnZS5sZWZ0LnB1c2gobWFuaWZlc3RJZCwgbGluayk7XG4gICAgICBuYkl0ZW1zLS07XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYXNGaXJzdCAtIHRvIGZvcmNlIHRvIGRvd25sb2FkIG1hbmlmZXN0IHdpdGhvdXQgd2lhdGluZyBpbiBxdWV1ZVxuICogQHJldHVybnMge2Jvb2xlYW59IC0gc3RhdHVzIGlmIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bGx5XG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5fZG93bmxvYWRPcmRlckFkZE1hbmlmZXN0ID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGFzRmlyc3QpIHtcbiAgaWYgKCF0aGlzLl9kb3dubG9hZE9yZGVyTWFuaWZlc3RFeGlzdHMobWFuaWZlc3RJZCkpIHtcbiAgICB0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyT2JqW21hbmlmZXN0SWRdID0gdHJ1ZTtcbiAgICBpZiAoYXNGaXJzdCkge1xuICAgICAgdGhpcy5fbWFuaWZlc3RzRG93bmxvYWRPcmRlci51bnNoaWZ0KG1hbmlmZXN0SWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyLnB1c2gobWFuaWZlc3RJZCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG5leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheSAtIGluZGV4IG51bWJlciBmcm9tIGFycmF5IF9tYW5pZmVzdHNEb3dubG9hZE9yZGVyXG4gKiBAcmV0dXJucyB7bWFuaWZlc3RJZH0gLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5fZG93bmxvYWRPcmRlckdldE1hbmlmZXN0SWQgPSBmdW5jdGlvbiAobmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5KSB7XG4gIHJldHVybiB0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyW25leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheV07XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge21hbmlmZXN0SWR9IG1hbmlmZXN0SWQgLSAgbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge251bWJlcn0gaW5kZXggbnVtYmVyIGZyb20gYXJyYXkgX21hbmlmZXN0c0Rvd25sb2FkT3JkZXJcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9pbmRleE9mTWFuaWZlc3QgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICByZXR1cm4gdGhpcy5fbWFuaWZlc3RzRG93bmxvYWRPcmRlci5pbmRleE9mKG1hbmlmZXN0SWQpO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHsqfSAtIGlmIG1hbmlmZXN0IGhhcyBiZWVuIGFscmVhZHkgYWRkZWQgdG8gdGhlIHF1ZXVlXG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5fZG93bmxvYWRPcmRlck1hbmlmZXN0RXhpc3RzID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgcmV0dXJuIHRoaXMuX21hbmlmZXN0c0Rvd25sb2FkT3JkZXJPYmpbbWFuaWZlc3RJZF07XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIHN0YXR1cyBpZiBtYW5pZmVzdCBoYXMgYmVlbiByZW1vdmVkIGZyb20gcXVldWVcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9kb3dubG9hZE9yZGVyUmVtb3ZlTWFuaWZlc3QgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICBsZXQgZm91bmQgPSBmYWxzZSwgaSwgajtcbiAgZGVsZXRlIHRoaXMuX21hbmlmZXN0c0Rvd25sb2FkT3JkZXJPYmpbbWFuaWZlc3RJZF07XG4gIGZvciAoaSA9IDAsIGogPSB0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGlmICh0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyW2ldID09PSBtYW5pZmVzdElkKSB7XG4gICAgICB0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyLnNwbGljZShpLCAxKTtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZm91bmQ7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBkb3dubG9hZCBmaW5pc2hlcyB3aXRoIHN1Y2Nlc3NcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uRmFpbHVyZSAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBkb3dubG9hZCBmYWlsZWRcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX2ZpbmlzaCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICB0aGlzLmRvd25sb2FkU3RhdHMucmVmcmVzaCgpO1xuICB0aGlzLl9kb3dubG9hZE9yZGVyUmVtb3ZlTWFuaWZlc3QobWFuaWZlc3RJZCk7XG4gIGlmICghdGhpcy5fbWFuaWZlc3RzRG93bmxvYWRPcmRlci5sZW5ndGgpIHtcbiAgICB0aGlzLmRvd25sb2FkU3RhdHMuc3RvcCgpO1xuICB9XG4gIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKG1hbmlmZXN0SWQpXG4gICAgLnRoZW4ob25TdWNjZXNzLCBvbkZhaWx1cmUpO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGxpbmsgLSBsaW5rIG9iamVjdCB3aGljaCBjb25zaXN0IHJlbW90ZSBhbmQgbG9jYWwgdXJsXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3N0cmluZ30gLSB1bmlxdWUgaGFzaCBmb3IgZG93bmxvYWQgZmlsZSBiYXNlZCBvbiBsb2NhbCBhbmQgcmVtb3RlIHVybFxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5fZ2V0RG93bmxvYWRIYXNoID0gZnVuY3Rpb24gKGxpbmspIHtcbiAgcmV0dXJuIGxpbmsucmVtb3RlVXJsICsgXCItXCIgKyBsaW5rLmxvY2FsVXJsO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtEb3dubG9hZH0gZG93bmxvYWQgLSBkb3dubG9hZCBjbGFzcyB0byBiZSBtYXJrZWQgZWl0aGVyIHdpdGggc3VjY2VzcyBvciB3aXRoIGVycm9yXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9tYXJrRG93bmxvYWRJdGVtID0gZnVuY3Rpb24gKGRvd25sb2FkKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBjb25zdCBtYW5pZmVzdElkID0gZG93bmxvYWQubWFuaWZlc3RJZDtcbiAgY29uc3QgZG93bmxvYWRIYXNoID0gc2VsZi5fZ2V0RG93bmxvYWRIYXNoKGRvd25sb2FkKTtcbiAgbGV0IHN5bmNTdG9yYWdlS2V5cyA9IFtdO1xuICBsZXQgbGFzdEl0ZW07XG5cbiAgZG93bmxvYWQuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsIHNlbGYuX29uRG93bmxvYWRFbmQpO1xuICBkb3dubG9hZC5ldmVudHMucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCBzZWxmLl9vbkRvd25sb2FkRXJyb3IpO1xuXG4gIC8vcmVmcmVzaGluZyBzdGF0cyBmb3IgbGFzdCB0aW1lIC0gdG8gaGF2ZSBjb3JyZWN0IHN0YXRzIGZvciBzdWJzY3JpYmVycyBwcm9ncmVzcyBiZWZvcmUgaXQgaXMgcmVtb3ZlZFxuICBpZiAoc2VsZi5zdG9yYWdlLmRvd25sb2FkaW5nLmNvdW50KG1hbmlmZXN0SWQpID09PSAxICYmIHNlbGYuc3RvcmFnZS5sZWZ0LmNvdW50KG1hbmlmZXN0SWQpID09PSAwKSB7XG4gICAgdGhpcy5kb3dubG9hZFN0YXRzLnJlZnJlc2goKTtcbiAgICBsYXN0SXRlbSA9IHRydWU7XG4gIH1cblxuICBpZiAoZG93bmxvYWQuc3RhdHVzID09PSBTVEFUVVNFUy5GSU5JU0hFRCkge1xuICAgIHNlbGYuc3RvcmFnZS5kb3dubG9hZGVkLnB1c2gobWFuaWZlc3RJZCwgZG93bmxvYWQpO1xuICAgIHN5bmNTdG9yYWdlS2V5cy5wdXNoKHRoaXMuc3RvcmFnZS5zdG9yZXMuRE9XTkxPQURTLkRPV05MT0FERUQpO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuc3RvcmFnZS5lcnJvcnMucHVzaChtYW5pZmVzdElkLCBkb3dubG9hZCk7XG4gIH1cbiAgc2VsZi5zdG9yYWdlLmRvd25sb2FkaW5nLnJlbW92ZUl0ZW0obWFuaWZlc3RJZCwgZG93bmxvYWRIYXNoKTtcblxuICBpZiAoc2VsZi5pc0Rvd25sb2FkRmluaXNoZWQobWFuaWZlc3RJZCkpIHtcbiAgICBpZiAoc2VsZi5zdG9yYWdlLmVycm9ycy5jb3VudChtYW5pZmVzdElkKSA9PT0gMCkge1xuICAgICAgc2VsZi5zdG9yYWdlLnN0YXR1cy5zZXRJdGVtKG1hbmlmZXN0SWQsIFwic3RhdHVzXCIsIFNUQVRVU0VTLkZJTklTSEVEKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5zdG9yYWdlLnN0YXR1cy5zZXRJdGVtKG1hbmlmZXN0SWQsIFwic3RhdHVzXCIsIFNUQVRVU0VTLkVSUk9SKTtcbiAgICB9XG4gICAgc3luY1N0b3JhZ2VLZXlzLnB1c2godGhpcy5zdG9yYWdlLnN0b3Jlcy5TVEFUVVMpO1xuICB9XG5cbiAgc2VsZi5zdG9yYWdlLnN5bmMobWFuaWZlc3RJZCwgc3luY1N0b3JhZ2VLZXlzKVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuc3RvcmFnZS5wYXJhbXMuZGVjcmVhc2UobWFuaWZlc3RJZCwgc2VsZi5fbmFtZXMuZG93bmxvYWRJblByb2dyZXNzKTtcbiAgICAgIGlmIChsYXN0SXRlbSkge1xuICAgICAgICBzZWxmLl9maW5pc2gobWFuaWZlc3RJZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYuc3RhcnRRdWV1ZSgpO1xuICAgICAgICAgIGNvbnNvbGUuaW5mbyhcIkZJTklTSEVEXCIsIG1hbmlmZXN0SWQpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5zdGFydFF1ZXVlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5zdGFydFF1ZXVlKCk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SXCIsIGVycik7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBzdG9wIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0b3AgZmFpbGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzIC0gdGhlIHN0YXR1c1xuICogQHBhcmFtIHtzdHJpbmd9IHN0YXR1c0RldGFpbHMgLSBhZGRzIGRldGFpbHMgYWJvdXQgc3RhdHVzIChvbiBlcnJvcnMgZm9yIGV4YW1wbGUpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX3N0b3BXaXRoU3RhdHVzID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIG9uU3VjY2Vzcywgb25GYWlsdXJlLCBzdGF0dXMsIHN0YXR1c0RldGFpbHMpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHNlbGYuX2Rvd25sb2FkT3JkZXJSZW1vdmVNYW5pZmVzdChtYW5pZmVzdElkKTtcbiAgc2VsZi5zdG9yYWdlLmdldEl0ZW0obWFuaWZlc3RJZClcbiAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuQUxSRUFEWV9TVE9QUEVELCBtYW5pZmVzdElkKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGl0ZW1zVG9TdG9wID0gc2VsZi5zdG9yYWdlLmRvd25sb2FkaW5nLmdldEtleXMobWFuaWZlc3RJZCk7XG4gICAgICBsZXQgaXRlbVRvU3RvcDtcbiAgICAgIGNvbnNvbGUuaW5mbyhcIlNUT1BQSU5HXCIsIG1hbmlmZXN0SWQsIGl0ZW1zVG9TdG9wLmxlbmd0aCk7XG4gICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gaXRlbXNUb1N0b3AubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGl0ZW1Ub1N0b3AgPSBzZWxmLnN0b3JhZ2UuZG93bmxvYWRpbmcuZ2V0SXRlbShtYW5pZmVzdElkLCBpdGVtc1RvU3RvcFtpXSk7XG4gICAgICAgIGl0ZW1Ub1N0b3AuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsIHNlbGYuX29uRG93bmxvYWRFbmQpO1xuICAgICAgICBpdGVtVG9TdG9wLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIHNlbGYuX29uRG93bmxvYWRFcnJvcik7XG4gICAgICAgIHByb21pc2VzLnB1c2goaXRlbVRvU3RvcC5zdG9wUHJvbWlzZSgpKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5zdG9yYWdlLnN0YXR1cy5zZXRJdGVtKG1hbmlmZXN0SWQsIFwic3RhdHVzXCIsIHN0YXR1cyk7XG4gICAgICBpZiAoc3RhdHVzRGV0YWlscykge1xuICAgICAgICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJkZXRhaWxzXCIsIHN0YXR1c0RldGFpbHMpO1xuICAgICAgfVxuXG4gICAgICBwcm9taXNlcy5wdXNoKHNlbGYuc3RvcmFnZS5zeW5jKG1hbmlmZXN0SWQsIFtcbiAgICAgICAgc2VsZi5zdG9yYWdlLnN0b3Jlcy5ET1dOTE9BRFMuRE9XTkxPQURFRCxcbiAgICAgICAgc2VsZi5zdG9yYWdlLnN0b3Jlcy5TVEFUVVMsXG4gICAgICBdKSk7XG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYuX2ZpbmlzaChtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuU1RPUFBJTkdfRkFJTEVELCBtYW5pZmVzdElkKSwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLlNUT1BQSU5HX0ZBSUxFRCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgfSk7XG5cbn07XG4vKipcbiAqIEBwYXJhbSB7RG93bmxvYWR9IGRvd25sb2FkIC0gRG93bmxvYWQgQ2xhc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSBlcnIgLSBlcnJvciBvYmplY3RcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX29uRG93bmxvYWRFcnJvciA9IGZ1bmN0aW9uIChkb3dubG9hZCwgZXJyKSB7XG4gIGNvbnNvbGUuZXJyb3IoXCJFUlJPUlwiLCBkb3dubG9hZC5yZW1vdGVVcmwsIGVycik7XG4gIHRoaXMuX21hcmtEb3dubG9hZEl0ZW0oZG93bmxvYWQpO1xuICBpZiAoZXJyID09PSBkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5OT19TUEFDRV9MRUZUX0VSUk9SIHx8IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcE9uRXJyb3IpIHtcbiAgICAvLyBzdG9wIGRvd25sb2FkaW5nID0+IGNhbm5vdCB3cml0ZVxuICAgIHRoaXMuX3N0b3BXaXRoU3RhdHVzKGRvd25sb2FkLm1hbmlmZXN0SWQsICgpID0+IHtcbiAgICAgIGNvbnNvbGUuaW5mbygnc3RvcHBlZCcpO1xuICAgIH0sIChmYWlsdXJlKSA9PiB7XG4gICAgICBjb25zb2xlLmluZm8oZmFpbHVyZSk7XG4gICAgfSwgU1RBVFVTRVMuRVJST1IsIGVycik7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7RG93bmxvYWR9IGRvd25sb2FkIC0gRG93bmxvYWQgQ2xhc3NcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX29uRG93bmxvYWRFbmQgPSBmdW5jdGlvbiAoZG93bmxvYWQpIHtcbiAgLy8gY29uc29sZS5sb2coXCJGSU5JU0hFRFwiLCBkb3dubG9hZC5yZW1vdGVVcmwsIGRvd25sb2FkLmxvY2FsVXJsKTtcbiAgdGhpcy5fbWFya0Rvd25sb2FkSXRlbShkb3dubG9hZCk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7QXJyYXl9IHZpZGVvTGlua3MgLSB2aWRlbyBsaW5rcyB0byBiZSBkb3dubG9hZGVkXG4gKiBAcGFyYW0ge0FycmF5fSBhdWRpb0xpbmtzIC0gYXVkaW8gbGlua3MgdG8gYmUgZG93bmxvYWRlZFxuICogQHBhcmFtIHtBcnJheX0gdGV4dExpbmtzIC0gdGV4dCBsaW5rcyB0byBiZSBkb3dubG9hZGVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9wcmVwYXJlU3RhcnRPcHRpb25zID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIHZpZGVvTGlua3MsIGF1ZGlvTGlua3MsIHRleHRMaW5rcykge1xuICBjb25zdCBjb3VudCA9IHZpZGVvTGlua3MubGVuZ3RoICsgYXVkaW9MaW5rcy5sZW5ndGggKyB0ZXh0TGlua3MubGVuZ3RoO1xuICBjb25zb2xlLmluZm8oXCJBRERJTkcgLT4+PiBcIiwgbWFuaWZlc3RJZCArIFwiLFwiLCBjb3VudCwgXCJmcmFnbWVudHNcIik7XG4gIGxldCBvcHRpb25zID0ge307XG4gIHRoaXMuc3RvcmFnZS5wYXJhbXMuc2V0SXRlbShtYW5pZmVzdElkLCB0aGlzLl9uYW1lcy5kb3dubG9hZEluUHJvZ3Jlc3MsIDApO1xuICBsZXQgbWF4RG93bmxvYWRJblByb2dyZXNzO1xuICBjb25zdCB0aHJlYWRSdWxlcyA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZG93bmxvYWRpbmdUaHJlYWRzUnVsZXM7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGogPSB0aHJlYWRSdWxlcy5pdGVtcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBpZiAoY291bnQgPD0gdGhyZWFkUnVsZXMuaXRlbXNbaV0ubWF4KSB7XG4gICAgICBvcHRpb25zW3RocmVhZFJ1bGVzLnRocmVhZE5hbWVdID0gdGhyZWFkUnVsZXMuaXRlbXNbaV0udGhyZWFkcztcbiAgICAgIG1heERvd25sb2FkSW5Qcm9ncmVzcyA9IHRocmVhZFJ1bGVzLml0ZW1zW2ldLmZpbGVzO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5zdG9yYWdlLnBhcmFtcy5zZXRJdGVtKG1hbmlmZXN0SWQsIHRoaXMuX25hbWVzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICB0aGlzLnN0b3JhZ2UucGFyYW1zLnNldEl0ZW0obWFuaWZlc3RJZCwgdGhpcy5fbmFtZXMubWF4RG93bmxvYWRJblByb2dyZXNzLCBtYXhEb3dubG9hZEluUHJvZ3Jlc3MpO1xuXG4gIC8vZG93bmxvYWQgb3JkZXIgY2FuIGhlbHAgdG8gc3RvcCBkb3dubG9hZCBvbmUgbWFuaWZlc3QgYW5kIGRvd25sb2FkIGFub3RoZXIgb3IgZG93bmxvYWQgdGhlbSBpbiBwYXJhbGxlbFxuICB0aGlzLl9kb3dubG9hZE9yZGVyQWRkTWFuaWZlc3QobWFuaWZlc3RJZCk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIGlmIGRvd25sb2FkIGlzIGZpbmlzaGVkXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLmlzRG93bmxvYWRGaW5pc2hlZCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIHJldHVybiAhdGhpcy5zdG9yYWdlLmxlZnQuY291bnQobWFuaWZlc3RJZCkgJiYgIXRoaXMuc3RvcmFnZS5kb3dubG9hZGluZy5jb3VudChtYW5pZmVzdElkKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge2Jvb2xlYW59IC0gaWYgZG93bmxvYWQgaXMgZmluaXNoZWQgYW5kIHN5bmNlZCAoaW5mbyB3cml0dGVuIG9uIGRpc2spXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLmlzRG93bmxvYWRGaW5pc2hlZEFuZFN5bmNlZCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIHJldHVybiAhdGhpcy5zdG9yYWdlLmxlZnQuY291bnQobWFuaWZlc3RJZCkgJiYgIXRoaXMuc3RvcmFnZS5kb3dubG9hZGluZy5jb3VudChtYW5pZmVzdElkKSAmJiAhdGhpcy5zdG9yYWdlLmtleUV4aXN0cyhtYW5pZmVzdElkKTtcbn07XG5cblxuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0RG93bmxvYWRpbmcgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgbG9jYWxGaWxlKSB7XG4gIGxldCBpdGVtcyA9IHRoaXMuc3RvcmFnZS5kb3dubG9hZGluZy5nZXRJdGVtcyhtYW5pZmVzdElkKTtcbiAgaWYgKCFpdGVtcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZm9yICh2YXIgbGluayBpbiBpdGVtcykge1xuICAgIGlmIChpdGVtcy5oYXNPd25Qcm9wZXJ0eShsaW5rKSkge1xuICAgICAgbGV0IGRvd25sb2FkID0gaXRlbXNbbGlua107XG4gICAgICBsZXQgZG93bmxvYWRQYXRoID0gcGF0aC5ub3JtYWxpemUoZG93bmxvYWQubG9jYWxVcmwpO1xuICAgICAgbGV0IGxvY2FsID0gcGF0aC5ub3JtYWxpemUobG9jYWxGaWxlKTtcbiAgICAgIGlmIChkb3dubG9hZFBhdGggPT09IGxvY2FsKSB7XG4gICAgICAgIHJldHVybiBkb3dubG9hZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLndhaXRGb3JEb3dubG9hZCA9IGZ1bmN0aW9uIChkb3dubG9hZCwgY2FsbGJhY2spIHtcbiAgbGV0IF9vbkRvd25sb2FkRW5kO1xuICBsZXQgX29uRG93bmxvYWRFcnJvcjtcblxuICBsZXQgcmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZG93bmxvYWQpIHtcbiAgICBkb3dubG9hZC5ldmVudHMucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIiwgX29uRG93bmxvYWRFbmQpO1xuICAgIGRvd25sb2FkLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIF9vbkRvd25sb2FkRXJyb3IpO1xuICB9XG5cbiAgX29uRG93bmxvYWRFbmQgPSBmdW5jdGlvbiAoZG93bmxvYWQpIHtcbiAgICByZW1vdmVMaXN0ZW5lcihkb3dubG9hZCk7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuXG4gIF9vbkRvd25sb2FkRXJyb3IgPSBmdW5jdGlvbiAoZG93bmxvYWQsIGVycikge1xuICAgIHJlbW92ZUxpc3RlbmVyKGRvd25sb2FkKTtcbiAgICBjYWxsYmFjayhlcnIpO1xuICB9XG5cbiAgZG93bmxvYWQuZXZlbnRzLm9uKFwiZW5kXCIsIF9vbkRvd25sb2FkRW5kKTtcbiAgZG93bmxvYWQuZXZlbnRzLm9uKFwiZXJyb3JcIiwgX29uRG93bmxvYWRFcnJvcik7XG59XG5cbi8qKlxuKiBQZXJmb3JtIGEgc2VlayAtIHRoaXMgY2hhbmdlcyBvcmRlciBvZiBmcmFnbWVudCBkb3dubG9hZCBmb3IgYSBtYW5pZmVzdFxuKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiogQHBhcmFtIHtzdHJpbmd9IGxvY2FsRmlsZSAtIGxvY2FsIGZpbGVcbiogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBnZXQgcmVzdWx0XG4qIEByZXR1cm5zIHt2b2lkfVxuKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLnBlcmZvcm1TZWVrID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGxvY2FsRmlsZSwgY2FsbGJhY2spIHtcbiAgbGV0IHNlbGYgPSB0aGlzO1xuICBsZXQgZG93bmxvYWQ7XG5cbiAgZG93bmxvYWQgPSBzZWxmLmdldERvd25sb2FkaW5nKG1hbmlmZXN0SWQsIGxvY2FsRmlsZSk7XG4gIGlmIChkb3dubG9hZCkge1xuICAgIHNlbGYud2FpdEZvckRvd25sb2FkKGRvd25sb2FkLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGl0ZW1zID0gc2VsZi5zdG9yYWdlLmxlZnQuZ2V0SXRlbXMobWFuaWZlc3RJZCk7XG4gIGlmICghaXRlbXMpIHtcbiAgICBjYWxsYmFjaygnTm8gZG93bmxvYWQgZm91bmQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaW5kZXggPSBpdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGRvd25sb2FkKSB7XG4gICAgbGV0IGRvd25sb2FkUGF0aCA9IHBhdGgubm9ybWFsaXplKGRvd25sb2FkLmxvY2FsVXJsKTtcbiAgICBsZXQgbG9jYWwgPSBwYXRoLm5vcm1hbGl6ZShsb2NhbEZpbGUpO1xuICAgIHJldHVybiAoZG93bmxvYWRQYXRoID09PSBsb2NhbClcbiAgfSk7XG4gIGlmIChpbmRleCA+IC0xKSB7XG5cbiAgICBsZXQgcGFydDEgPSBpdGVtcy5zbGljZSgwLCBpbmRleCk7XG4gICAgbGV0IHBhcnQyID0gaXRlbXMuc2xpY2UoaW5kZXgpO1xuXG4gICAgc2VsZi5zdG9yYWdlLmxlZnQuY2xlYXIobWFuaWZlc3RJZCk7XG4gICAgc2VsZi5zdG9yYWdlLmxlZnQuY29uY2F0KG1hbmlmZXN0SWQsIHBhcnQyKTtcbiAgICBzZWxmLnN0b3JhZ2UubGVmdC5jb25jYXQobWFuaWZlc3RJZCwgcGFydDEpO1xuXG4gICAgaXRlbXMgPSBzZWxmLnN0b3JhZ2UubGVmdC5nZXRJdGVtcyhtYW5pZmVzdElkKTtcbiAgICBzZWxmLnN0YXJ0UXVldWUoc2VsZi5faW5kZXhPZk1hbmlmZXN0KG1hbmlmZXN0SWQpLCB0cnVlKTtcbiAgICBkb3dubG9hZCA9IHNlbGYuZ2V0RG93bmxvYWRpbmcobWFuaWZlc3RJZCwgbG9jYWxGaWxlKTtcbiAgICBpZiAoZG93bmxvYWQpIHtcbiAgICAgIHNlbGYud2FpdEZvckRvd25sb2FkKGRvd25sb2FkLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIG5vdCBxdWV1ZWQsIHJldHVybiBhbiBlcnJvclxuICAgICAgY2FsbGJhY2soJ05vIGRvd25sb2FkIGZvdW5kJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNhbGxiYWNrKCdObyBkb3dubG9hZCBmb3VuZCcpO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXByZXNlbnRhdGlvbnMgLSBvYmplY3QgY29udGFpbmluZyB2aWRlbywgYXVkaW8gYW5kIHRleHQgcmVwcmVzZW50YXRpb25zIGlkc1xuICogQHBhcmFtIHtzdHJpbmd9IGRvd25sb2FkRm9sZGVyIC0gZG93bmxvYWQgZm9sZGVyIGZvciB2aWRlby4gSWYgdW5kZWZpbmVkLCB0aGVuIGRlZmF1bHQgZG93bmxvYWQgZm9sZGVyIGlzIHVzZWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBzdGFydCBoYXMgYmVlbiBzdWNjZXNzZnVsbHlcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uRmFpbHVyZSAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBzdGFydCBmYWlsZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZnJvbVJlc3VtZWQgLSBpZiBzdGFydCBoYXMgYmVlbiBjYWxsZWQgZnJvbSByZXN1bWUgYXBpIG1ldGhvZFxuICogQHBhcmFtIHtzdHJpbmd9IG9sZHN0YXR1cyAtIGlmIGZyb20gcmVzdW1lZCwgdGhlbiBpbmRpY2F0ZXMgdGhlIG9sZCBzdGF0dXMgb2YgZG93bmxvYWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCByZXByZXNlbnRhdGlvbnMsIGRvd25sb2FkRm9sZGVyLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgZnJvbVJlc3VtZWQsIG9sZHN0YXR1cykge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgdGhpcy5kb3dubG9hZFN0YXRzLnN0YXJ0KCk7XG4gIGNvbnN0IG1hbmlmZXN0ID0gdGhpcy5fbWFuaWZlc3RDb250cm9sbGVyLmdldE1hbmlmZXN0QnlJZChtYW5pZmVzdElkKTtcblxuICBpZiAoIW1hbmlmZXN0KSB7XG4gICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLk5PVF9GT1VORCwgbWFuaWZlc3RJZCkpO1xuICAgIHJldHVybjtcbiAgfVxuICByZXByZXNlbnRhdGlvbnMgPSByZXByZXNlbnRhdGlvbnMgfHwge307XG4gIGxldCB2aWRlbyA9IHJlcHJlc2VudGF0aW9ucy52aWRlbyB8fCBbXTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHZpZGVvKSkge1xuICAgIHZpZGVvID0gW3ZpZGVvXTtcbiAgfVxuXG4gIGxldCBhdWRpbyA9IHJlcHJlc2VudGF0aW9ucy5hdWRpbyB8fCBbXTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGF1ZGlvKSkge1xuICAgIGF1ZGlvID0gW2F1ZGlvXTtcbiAgfVxuXG4gIGxldCB0ZXh0ID0gcmVwcmVzZW50YXRpb25zLnRleHQgfHwgW107XG4gIGlmICghQXJyYXkuaXNBcnJheSh0ZXh0KSkge1xuICAgIHRleHQgPSBbdGV4dF07XG4gIH1cblxuICBjb25zdCB2aWRlb1IgPSBtYW5pZmVzdC5nZXRWaWRlb1JlcHJlc2VudGF0aW9ucygpO1xuICBjb25zdCBhdWRpb1IgPSBtYW5pZmVzdC5nZXRBdWRpb1JlcHJlc2VudGF0aW9ucygpO1xuICBjb25zdCB0ZXh0UiA9IG1hbmlmZXN0LmdldFRleHRSZXByZXNlbnRhdGlvbnMoKTtcblxuICBsZXQgbG9jYWxEb3dubG9hZEZvbGRlciA9IHBhdGgucmVzb2x2ZShhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLmRvd25sb2Fkc0ZvbGRlclBhdGgpXG4gIGlmIChkb3dubG9hZEZvbGRlcikge1xuICAgIGxvY2FsRG93bmxvYWRGb2xkZXIgPSBwYXRoLnJlc29sdmUoZG93bmxvYWRGb2xkZXIpO1xuICB9XG4gIGNvbnN0IGxvY2FsUGF0aCA9IHBhdGgucmVzb2x2ZShsb2NhbERvd25sb2FkRm9sZGVyICsgXCIvXCIgKyBtYW5pZmVzdElkICsgXCIvXCIpO1xuICBjb25zdCBtYW5pZmVzdFVybCA9IG1hbmlmZXN0LmdldE1hbmlmZXN0VXJsKCk7XG4gIGNvbnN0IG1hbmlmZXN0TmFtZSA9IG1hbmlmZXN0LmdldE1hbmlmZXN0TmFtZSgpO1xuXG4gIGZ1bmN0aW9uIGdldE1hbmlmZXN0QmFzZVVybCh4bWwsIG1hbmlmZXN0VXJsRG9tYWluKSB7XG4gICAgbGV0IG1hbmlmZXN0QmFzZVVybDtcbiAgICBjb25zdCBNUEQgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJNUERcIilbMF07XG4gICAgaWYgKE1QRCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBNUEQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgaWYgKE1QRC5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lID09PSBcIkJhc2VVUkxcIikge1xuICAgICAgICAgIG1hbmlmZXN0QmFzZVVybCA9IE1QRC5jaGlsZE5vZGVzW2ldLnRleHRDb250ZW50O1xuICAgICAgICAgIGlmICghbWFuaWZlc3RCYXNlVXJsLm1hdGNoKGNvbnN0YW50cy5yZWdleHBQcm90b2NvbFJlbW92ZSkpIHtcbiAgICAgICAgICAgIG1hbmlmZXN0QmFzZVVybCA9IHV0aWxVcmwuam9pblBhdGgobWFuaWZlc3RVcmxEb21haW4sIG1hbmlmZXN0QmFzZVVybCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbWFuaWZlc3RCYXNlVXJsKSB7XG4gICAgICBtYW5pZmVzdEJhc2VVcmwgPSBtYW5pZmVzdFVybERvbWFpbjtcbiAgICB9XG4gICAgcmV0dXJuIG1hbmlmZXN0QmFzZVVybDtcbiAgfVxuXG4gIFByb21pc2UuYWxsKFtcbiAgICB0aGlzLl9vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdEluZm9Qcm9taXNlKG1hbmlmZXN0SWQsIHRydWUpLFxuICAgIHRoaXMuc3RvcmFnZS5nZXRJdGVtKG1hbmlmZXN0SWQpLFxuICAgIG1rZGlycChsb2NhbFBhdGgpLFxuICBdKVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICBjb25zdCBpbmZvID0gcmVzdWx0c1swXTtcbiAgICAgIGNvbnN0IHN0b3JhZ2VJdGVtID0gcmVzdWx0c1sxXTtcbiAgICAgIGlmIChzdG9yYWdlSXRlbSAmJiAhc2VsZi5pc0Rvd25sb2FkRmluaXNoZWQobWFuaWZlc3RJZCkpIHtcbiAgICAgICAgaWYgKGZyb21SZXN1bWVkKSB7XG4gICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLkFMUkVBRFlfUkVTVU1FRCwgbWFuaWZlc3RJZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5BTFJFQURZX1NUQVJURUQsIG1hbmlmZXN0SWQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vY29sbGVjdCBMaW5rcyAtIHN0YXJ0XG4gICAgICBpZiAoaW5mby5tYW5pZmVzdC52aWRlbykge1xuICAgICAgICB2aWRlbyA9IF8udW5pb24odmlkZW8sIGluZm8ubWFuaWZlc3QudmlkZW8pO1xuICAgICAgfVxuICAgICAgaWYgKGluZm8ubWFuaWZlc3QuYXVkaW8pIHtcbiAgICAgICAgYXVkaW8gPSBfLnVuaW9uKGF1ZGlvLCBpbmZvLm1hbmlmZXN0LmF1ZGlvKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmZvLm1hbmlmZXN0LnRleHQpIHtcbiAgICAgICAgdGV4dCA9IF8udW5pb24odGV4dCwgaW5mby5tYW5pZmVzdC50ZXh0KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvd25sb2FkZWQgPSBpbmZvLmRvd25sb2FkZWRGaWxlcyB8fCBbXTtcbiAgICAgIGxldCBkb3dubG9hZGVkSGFzaCA9IHt9O1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBkb3dubG9hZGVkLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBkb3dubG9hZGVkSGFzaFtkb3dubG9hZGVkW2ldLmxvY2FsVXJsXSA9IGRvd25sb2FkZWRbaV07XG4gICAgICB9XG5cbiAgICAgIGxldCByZW1vdGVQYXRoID0gZ2V0TWFuaWZlc3RCYXNlVXJsKG1hbmlmZXN0Lm1hbmlmZXN0WE1MLnhtbCwgbWFuaWZlc3QudXJsX2RvbWFpbik7XG4gICAgICBjb25zdCB2aWRlb0xpbmtzID0gZG93bmxvYWRVdGlsLmdldERvd25sb2FkTGlua3MobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCB2aWRlbywgdmlkZW9SLCBkb3dubG9hZGVkSGFzaCk7XG4gICAgICBjb25zdCBhdWRpb0xpbmtzID0gZG93bmxvYWRVdGlsLmdldERvd25sb2FkTGlua3MobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCBhdWRpbywgYXVkaW9SLCBkb3dubG9hZGVkSGFzaCk7XG4gICAgICBjb25zdCB0ZXh0TGlua3MgPSBkb3dubG9hZFV0aWwuZ2V0RG93bmxvYWRMaW5rcyhtYW5pZmVzdElkLCBsb2NhbFBhdGgsIHJlbW90ZVBhdGgsIHRleHQsIHRleHRSLCBkb3dubG9hZGVkSGFzaCk7XG5cbiAgICAgIGNvbnN0IGFsbHZpZGVvTGlua3MgPSBkb3dubG9hZFV0aWwuZ2V0QWxsTGlua3MobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCB2aWRlbywgdmlkZW9SKTtcbiAgICAgIGNvbnN0IGFsbGF1ZGlvTGlua3MgPSBkb3dubG9hZFV0aWwuZ2V0QWxsTGlua3MobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCBhdWRpbywgYXVkaW9SKTtcbiAgICAgIGNvbnN0IGFsbHRleHRMaW5rcyA9IGRvd25sb2FkVXRpbC5nZXRBbGxMaW5rcyhtYW5pZmVzdElkLCBsb2NhbFBhdGgsIHJlbW90ZVBhdGgsIHRleHQsIHRleHRSKTtcbiAgICAgIGNvbnN0IGFsbEZpbGVzID0gYWxsdmlkZW9MaW5rcy5jb25jYXQoYWxsYXVkaW9MaW5rcywgYWxsdGV4dExpbmtzKTtcblxuICAgICAgLy9jb2xsZWN0IExpbmtzIC0gZW5kXG5cbiAgICAgIHNlbGYuc3RvcmFnZS5jcmVhdGVJZk5vdEV4aXN0cyhtYW5pZmVzdElkKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICBzZWxmLnN0b3JhZ2UubWFuaWZlc3Quc2V0SXRlbShtYW5pZmVzdElkLCBcInRzXCIsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgICBzZWxmLnN0b3JhZ2UubWFuaWZlc3Quc2V0SXRlbShtYW5pZmVzdElkLCBcInVybFwiLCBtYW5pZmVzdFVybCk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLm1hbmlmZXN0LnNldEl0ZW0obWFuaWZlc3RJZCwgXCJuYW1lXCIsIG1hbmlmZXN0TmFtZSk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLm1hbmlmZXN0LnNldEl0ZW0obWFuaWZlc3RJZCwgXCJ2aWRlb1wiLCB2aWRlbyk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLm1hbmlmZXN0LnNldEl0ZW0obWFuaWZlc3RJZCwgXCJhdWRpb1wiLCBhdWRpbyk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLm1hbmlmZXN0LnNldEl0ZW0obWFuaWZlc3RJZCwgXCJ0ZXh0XCIsIHRleHQpO1xuICAgICAgICAgIHNlbGYuc3RvcmFnZS5tYW5pZmVzdC5zZXRJdGVtKG1hbmlmZXN0SWQsIFwiZmlsZXNcIiwgYWxsRmlsZXMpO1xuICAgICAgICAgIHNlbGYuc3RvcmFnZS5tYW5pZmVzdC5zZXRJdGVtKG1hbmlmZXN0SWQsIFwiZm9sZGVyXCIsIGxvY2FsRG93bmxvYWRGb2xkZXIpO1xuXG4gICAgICAgICAgc2VsZi5zdG9yYWdlLmRvd25sb2FkZWQuY2xlYXIobWFuaWZlc3RJZCk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLmRvd25sb2FkZWQuY29uY2F0KG1hbmlmZXN0SWQsIGRvd25sb2FkZWQpO1xuICAgICAgICAgIHNlbGYuc3RvcmFnZS5lcnJvcnMuY2xlYXIobWFuaWZlc3RJZCk7XG5cbiAgICAgICAgICBpZiAoIWZyb21SZXN1bWVkKSB7XG4gICAgICAgICAgICAvLyBkbyBub3QgaW5pdGlhbGlzZSBzdGF0ZSBvZiBtYW5pZmVzdCBpcyBzdGFydCBpcyBmcm9tIHJlc3VtZVxuICAgICAgICAgICAgLy8gc3RhdGUgbXVzdCBzdGF5IHRoZSBsYXN0IG9uZVxuICAgICAgICAgICAgc2VsZi5zdG9yYWdlLnN0YXR1cy5zZXRJdGVtKG1hbmlmZXN0SWQsIFwic3RhdHVzXCIsIFNUQVRVU0VTLkNSRUFURUQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpbml0IHN0YXR1cyB3aXRoIGxhc3Qgc3RhdHVzXG4gICAgICAgICAgICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJzdGF0dXNcIiwgb2xkc3RhdHVzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBzZWxmLnN0b3JhZ2Uuc3luYyhtYW5pZmVzdElkLCBbXG4gICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdG9yZXMuTUFOSUZFU1QsXG4gICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdG9yZXMuU1RBVFVTXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHNlbGYuX21hbmlmZXN0Q29udHJvbGxlci5zYXZlT3JpZ2luYWxNYW5pZmVzdE9uY2VPbmx5KG1hbmlmZXN0SWQpLFxuICAgICAgICAgICAgc2VsZi5fbWFuaWZlc3RDb250cm9sbGVyLnNhdmVNYW5pZmVzdFdpdGhDaG9zZW5SZXByZXNlbnRhdGlvbnMobWFuaWZlc3RJZCwge1xuICAgICAgICAgICAgICB2aWRlbzogdmlkZW8sXG4gICAgICAgICAgICAgIGF1ZGlvOiBhdWRpbyxcbiAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGxvY2FsUGF0aClcbiAgICAgICAgICBdKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzZWxmLl9hZGREb3dubG9hZHMobWFuaWZlc3RJZCwgdmlkZW9MaW5rcywgYXVkaW9MaW5rcywgdGV4dExpbmtzKTtcbiAgICAgICAgICAgICAgaWYgKHNlbGYuX2luZGV4T2ZNYW5pZmVzdChtYW5pZmVzdElkKSA+IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkubnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsIC0gMSkge1xuICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBcInN0YXR1c1wiLCBTVEFUVVNFUy5RVUVVRUQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBcInN0YXR1c1wiLCBTVEFUVVNFUy5TVEFSVEVEKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJsZWZ0XCIsIHNlbGYuc3RvcmFnZS5sZWZ0LmNvdW50KG1hbmlmZXN0SWQpKTtcbiAgICAgICAgICAgICAgc2VsZi5zdG9yYWdlLnN5bmMobWFuaWZlc3RJZCwgW1xuICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdG9yZXMuRE9XTkxPQURTLkRPV05MT0FERUQsXG4gICAgICAgICAgICAgICAgc2VsZi5zdG9yYWdlLnN0b3Jlcy5TVEFUVVNcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLmRvd25sb2FkU3RhdHMucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNEb3dubG9hZEZpbmlzaGVkKG1hbmlmZXN0SWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBcInN0YXR1c1wiLCBTVEFUVVNFUy5GSU5JU0hFRCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zeW5jKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmFnZS5zdG9yZXMuU1RBVFVTKVxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2ZpbmlzaChtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSwgb25GYWlsdXJlKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZG93bmxvYWRTdGF0cy5zdGFydCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0UXVldWUoKTtcbiAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgb25GYWlsdXJlKTtcbiAgICAgICAgICAgIH0sIG9uRmFpbHVyZSk7XG4gICAgICAgIH0sIG9uRmFpbHVyZSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXByZXNlbnRhdGlvbnMgLSBvYmplY3QgY29udGFpbmluZyB2aWRlbywgYXVkaW8gYW5kIHRleHQgcmVwcmVzZW50YXRpb25zIGlkc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gb25TdWNjZXNzIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGZhaWxlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCByZXByZXNlbnRhdGlvbnMsIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLl9vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdEluZm8obWFuaWZlc3RJZCwgZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5SRVNVTUlOR19GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZm9sZGVyID0gaW5mby5tYW5pZmVzdC5mb2xkZXI7XG4gICAgICBpZiAoIWZvbGRlcikge1xuICAgICAgICAvLyB1c2UgZGVmYXVsdCBkb3dubG9hZCBmb2xkZXIgcGF0aFxuICAgICAgICBmb2xkZXIgPSBwYXRoLnJlc29sdmUoYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kb3dubG9hZHNGb2xkZXJQYXRoKVxuICAgICAgfVxuICAgICAgc2VsZi5zdGFydChtYW5pZmVzdElkLCByZXByZXNlbnRhdGlvbnMsIGZvbGRlciwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRydWUsIGluZm8uc3RhdHVzKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgZG93bmxvYWQgZm9sZGVyIHBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtzdHJpbmd9IGRvd25sb2FkRm9sZGVyIC0gbmV3IGRvd25sb2FkIGZvbGRlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25TdWNjZXNzIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGZhaWxlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZURvd25sb2FkRm9sZGVyID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGRvd25sb2FkRm9sZGVyLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBQcm9taXNlLmFsbChbXG4gICAgbmV3IFJlYWRJdGVtKG1hbmlmZXN0SWQsIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzLk1BTklGRVNUKSxcbiAgXSlcbiAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgY29uc3QgbWFuaWZlc3RTZXR0aW5ncyA9IHJlc3VsdHNbMF1cbiAgICAgIGlmICghbWFuaWZlc3RTZXR0aW5ncykge1xuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbWFuaWZlc3RTZXR0aW5ncy5mb2xkZXIgPSBkb3dubG9hZEZvbGRlclxuICAgICAgY29uc3QgZmx1c2hJdGVtID0gbmV3IEZsdXNoSXRlbShtYW5pZmVzdElkLCBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnN0b3Jlcy5NQU5JRkVTVCwgbWFuaWZlc3RTZXR0aW5ncyk7XG4gICAgICBmbHVzaEl0ZW0uc2F2ZSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5TQVZJTkdfREFUQV9GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuVVBEQVRFX0RPV05MT0FEX0ZPTERFUl9GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0pXG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBzdG9wIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0b3AgZmFpbGVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICB0aGlzLl9zdG9wV2l0aFN0YXR1cyhtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgU1RBVFVTRVMuU1RPUFBFRClcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtib29sZWFufSBpZ25vcmVTdG9wcGVkIC0gZG9uJ3QgZmFpbCBpZiBkb3dubG9hZCBoYXMgYmVlbiBhbHJlYWR5IHN0b3BwZWRcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuc3RvcFByb21pc2UgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgaWdub3JlU3RvcHBlZCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBzZWxmLnN0b3AobWFuaWZlc3RJZCwgcmVzb2x2ZSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBpZiAoaWdub3JlU3RvcHBlZCAmJiBlcnIuY29kZSA9PT0gQ09ERVMuRVJST1JTLlNUT1BQRUQpIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZVByb21pc2UgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBzZWxmLnN0b3BQcm9taXNlKG1hbmlmZXN0SWQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuc3RvcmFnZS5yZW1vdmVJdGVtKG1hbmlmZXN0SWQpXG4gICAgICAgICAgLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgLy9hbHJlYWR5IHN0b3BwZWQsIGNvbnRpbnVlXG4gICAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgPT09IENPREVTLkVSUk9SUy5TVE9QUEVEKSB7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLnJlbW92ZUl0ZW0obWFuaWZlc3RJZClcbiAgICAgICAgICAgIC50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtvYmplY3R9IGxpbmsgLSBvYmplY3QgbGluayB0byBiZSBkb3dubG9hZGVkXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9hZGRMaW5rVG9Eb3dubG9hZCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBsaW5rKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBjb25zdCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBsaW5rKTtcbiAgY29uc3QgZG93bmxvYWQgPSBuZXcgRG93bmxvYWQocGFyYW1zLCBzZWxmLnN0b3JhZ2UucGFyYW1zLmdldEl0ZW0obWFuaWZlc3RJZCwgc2VsZi5fbmFtZXMub3B0aW9ucykpO1xuICBjb25zdCBkb3dubG9hZEhhc2ggPSBzZWxmLl9nZXREb3dubG9hZEhhc2gobGluayk7XG4gIHNlbGYuc3RvcmFnZS5kb3dubG9hZGluZy5zZXRJdGVtKG1hbmlmZXN0SWQsIGRvd25sb2FkSGFzaCwgZG93bmxvYWQpO1xuICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJsZWZ0XCIsIHNlbGYuc3RvcmFnZS5sZWZ0LmNvdW50KG1hbmlmZXN0SWQpICsgc2VsZi5zdG9yYWdlLmVycm9ycy5jb3VudChtYW5pZmVzdElkKSk7XG4gIHNlbGYuc3RvcmFnZS5zeW5jKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmFnZS5zdG9yZXMuU1RBVFVTKTtcbiAgZG93bmxvYWQuZXZlbnRzLm9uKFwiZW5kXCIsIHNlbGYuX29uRG93bmxvYWRFbmQpO1xuICBkb3dubG9hZC5ldmVudHMub24oXCJlcnJvclwiLCBzZWxmLl9vbkRvd25sb2FkRXJyb3IpO1xuICBkb3dubG9hZC5zdGFydCgpO1xuXG4gIHJldHVybiBkb3dubG9hZDtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5XSAtIGluZGV4IGZyb20gYXJyYXkgdG8gZGVjaWRlIHdoaWNoIG1hbmlmZXN0IHNob3VsZCBiZSBkb3dubG9hZGVkIG5leHRcbiAqICAgKHF1ZXVlKVxuICogQHBhcmFtIHtib29sZWFufSBmb3JjZURvd25sb2FkIHRydWUgdG8gZm9yY2UgbmV4dCBkb3dubG9hZCB0byBiZSBxdWV1ZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5zdGFydFF1ZXVlID0gZnVuY3Rpb24gKG5leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheSwgZm9yY2VEb3dubG9hZCkge1xuICBsZXQgY291bnQsIGRvd25sb2Fkc0luUHJvZ3Jlc3MsIGxpbmssIG1hbmlmZXN0SWQsIG1heERvd25sb2FkcztcbiAgaWYgKHR5cGVvZiBuZXh0TWFuaWZlc3RQb3NpdGlvbkluQXJyYXkgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBuZXh0TWFuaWZlc3RQb3NpdGlvbkluQXJyYXkgPSAwO1xuICB9XG5cbiAgbWFuaWZlc3RJZCA9IHRoaXMuX2Rvd25sb2FkT3JkZXJHZXRNYW5pZmVzdElkKG5leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheSk7XG4gIGlmIChtYW5pZmVzdElkICYmIHRoaXMuaXNEb3dubG9hZEZpbmlzaGVkKG1hbmlmZXN0SWQpKSB7XG4gICAgLy8gdGhlIG1hbmlmZXN0IGlkIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHF1ZXVlLCB3YWl0IG5leHQgdGltZS4gVGh1cywgZG8gbm90IGNoYW5nZSBzdGF0dXNcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG5leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheSA+PSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbCkge1xuICAgIGlmIChtYW5pZmVzdElkKSB7XG4gICAgICB0aGlzLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJzdGF0dXNcIiwgU1RBVFVTRVMuUVVFVUVEKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBcInN0YXR1c1wiLCBTVEFUVVNFUy5TVEFSVEVEKTtcbiAgfVxuXG4gIGlmICghbWFuaWZlc3RJZCkge1xuICAgIGNvdW50ID0gMDtcbiAgICBsZXQgaSwgaiwgaXRlbXM7XG4gICAgaXRlbXMgPSB0aGlzLnN0b3JhZ2UuZ2V0S2V5cygpO1xuICAgIGZvciAoaSA9IDAsIGogPSBpdGVtcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGNvdW50ICs9IHRoaXMuc3RvcmFnZS5wYXJhbXMuY291bnQoaXRlbXNbaV0sIHRoaXMuX25hbWVzLmRvd25sb2FkSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5kb3dubG9hZFN0YXRzLnN0b3AoKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGRvd25sb2Fkc0luUHJvZ3Jlc3MgPSB0aGlzLnN0b3JhZ2UucGFyYW1zLmdldEl0ZW0obWFuaWZlc3RJZCwgdGhpcy5fbmFtZXMuZG93bmxvYWRJblByb2dyZXNzKTtcbiAgbWF4RG93bmxvYWRzID0gdGhpcy5zdG9yYWdlLnBhcmFtcy5nZXRJdGVtKG1hbmlmZXN0SWQsIHRoaXMuX25hbWVzLm1heERvd25sb2FkSW5Qcm9ncmVzcyk7XG4gIGlmICgoZG93bmxvYWRzSW5Qcm9ncmVzcyA8IG1heERvd25sb2FkcyAtIDEpIHx8IGZvcmNlRG93bmxvYWQpIHtcbiAgICBsaW5rID0gdGhpcy5zdG9yYWdlLmxlZnQuc2hpZnQobWFuaWZlc3RJZCk7XG4gICAgaWYgKGxpbmspIHtcbiAgICAgIHRoaXMuc3RvcmFnZS5wYXJhbXMuaW5jcmVhc2UobWFuaWZlc3RJZCwgdGhpcy5fbmFtZXMuZG93bmxvYWRJblByb2dyZXNzKTtcbiAgICAgIHRoaXMuX2FkZExpbmtUb0Rvd25sb2FkKG1hbmlmZXN0SWQsIGxpbmspO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL2NoZWNrIG5leHQgbWFuaWZlc3RcbiAgICAgIG5leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheSsrO1xuICAgIH1cbiAgICB0aGlzLnN0YXJ0UXVldWUobmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5KTtcbiAgfSBlbHNlIGlmIChhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbCA+IDEgJiYgbmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5IDwgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5udW1iZXJPZk1hbmlmZXN0c0luUGFyYWxsZWwpIHtcbiAgICBuZXh0TWFuaWZlc3RQb3NpdGlvbkluQXJyYXkrKztcbiAgICB0aGlzLnN0YXJ0UXVldWUobmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5KTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb3dubG9hZHNDb250cm9sbGVyO1xuIl0sIm5hbWVzIjpbIl8iLCJyZXF1aXJlIiwibWtkaXJwIiwiYXBwU2V0dGluZ3MiLCJ0cmFuc2xhdGlvbiIsIkRvd25sb2FkIiwiRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIiLCJkb3dubG9hZFV0aWwiLCJEb3dubG9hZFN0YXRzIiwiU1RBVFVTRVMiLCJDT0RFUyIsImNvbnN0YW50cyIsInV0aWxVcmwiLCJwYXRoIiwiUmVhZEl0ZW0iLCJGbHVzaEl0ZW0iLCJkb3dubG9hZEZpbGVVdGlsIiwiRG93bmxvYWRzQ29udHJvbGxlciIsIm1hbmlmZXN0Q29udHJvbGxlciIsIm9mZmxpbmVDb250cm9sbGVyIiwiX21hbmlmZXN0c0Rvd25sb2FkT3JkZXIiLCJfbWFuaWZlc3RzRG93bmxvYWRPcmRlck9iaiIsIl9tYW5pZmVzdENvbnRyb2xsZXIiLCJfb2ZmbGluZUNvbnRyb2xsZXIiLCJzdG9yYWdlIiwic2V0RG93bmxvYWRTdG9yYWdlIiwiX25hbWVzIiwiZG93bmxvYWRJblByb2dyZXNzIiwib3B0aW9ucyIsIm1heERvd25sb2FkSW5Qcm9ncmVzcyIsIl9TVEFUU19USU1FX0dFTkVSQVRJT04iLCJkb3dubG9hZFN0YXRzIiwiYmluZEFsbCIsInByb3RvdHlwZSIsIl9hZGREb3dubG9hZHMiLCJtYW5pZmVzdElkIiwidmlkZW9MaW5rcyIsImF1ZGlvTGlua3MiLCJ0ZXh0TGlua3MiLCJ3b3JraW5nIiwiX3ByZXBhcmVTdGFydE9wdGlvbnMiLCJyYXRpb0F1ZGlvVmlkZW8iLCJsZW5ndGgiLCJNYXRoIiwicm91bmQiLCJyYXRpb1RleHRWaWRlbyIsIl9hZGROZXh0SXRlbVRvUXVldWUiLCJsaW5rcyIsIm5iSXRlbXMiLCJsaW5rIiwic2hpZnQiLCJsZWZ0IiwicHVzaCIsIl9kb3dubG9hZE9yZGVyQWRkTWFuaWZlc3QiLCJhc0ZpcnN0IiwiX2Rvd25sb2FkT3JkZXJNYW5pZmVzdEV4aXN0cyIsInVuc2hpZnQiLCJfZG93bmxvYWRPcmRlckdldE1hbmlmZXN0SWQiLCJuZXh0TWFuaWZlc3RQb3NpdGlvbkluQXJyYXkiLCJfaW5kZXhPZk1hbmlmZXN0IiwiaW5kZXhPZiIsIl9kb3dubG9hZE9yZGVyUmVtb3ZlTWFuaWZlc3QiLCJmb3VuZCIsImkiLCJqIiwic3BsaWNlIiwiX2ZpbmlzaCIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInJlZnJlc2giLCJzdG9wIiwicmVtb3ZlSXRlbSIsInRoZW4iLCJfZ2V0RG93bmxvYWRIYXNoIiwicmVtb3RlVXJsIiwibG9jYWxVcmwiLCJfbWFya0Rvd25sb2FkSXRlbSIsImRvd25sb2FkIiwic2VsZiIsImRvd25sb2FkSGFzaCIsInN5bmNTdG9yYWdlS2V5cyIsImxhc3RJdGVtIiwiZXZlbnRzIiwicmVtb3ZlTGlzdGVuZXIiLCJfb25Eb3dubG9hZEVuZCIsIl9vbkRvd25sb2FkRXJyb3IiLCJkb3dubG9hZGluZyIsImNvdW50Iiwic3RhdHVzIiwiRklOSVNIRUQiLCJkb3dubG9hZGVkIiwic3RvcmVzIiwiRE9XTkxPQURTIiwiRE9XTkxPQURFRCIsImVycm9ycyIsImlzRG93bmxvYWRGaW5pc2hlZCIsInNldEl0ZW0iLCJFUlJPUiIsIlNUQVRVUyIsInN5bmMiLCJwYXJhbXMiLCJkZWNyZWFzZSIsInN0YXJ0UXVldWUiLCJjb25zb2xlIiwiaW5mbyIsImVyciIsImVycm9yIiwiX3N0b3BXaXRoU3RhdHVzIiwic3RhdHVzRGV0YWlscyIsImdldEl0ZW0iLCJyZXN1bHQiLCJnZXRFcnJvciIsImUiLCJkb3dubG9hZHMiLCJBTFJFQURZX1NUT1BQRUQiLCJpdGVtc1RvU3RvcCIsImdldEtleXMiLCJpdGVtVG9TdG9wIiwicHJvbWlzZXMiLCJzdG9wUHJvbWlzZSIsIlByb21pc2UiLCJhbGwiLCJTVE9QUElOR19GQUlMRUQiLCJOT19TUEFDRV9MRUZUX0VSUk9SIiwiZ2V0U2V0dGluZ3MiLCJzdG9wT25FcnJvciIsImZhaWx1cmUiLCJ0aHJlYWRSdWxlcyIsImRvd25sb2FkaW5nVGhyZWFkc1J1bGVzIiwiaXRlbXMiLCJtYXgiLCJ0aHJlYWROYW1lIiwidGhyZWFkcyIsImZpbGVzIiwiaXNEb3dubG9hZEZpbmlzaGVkQW5kU3luY2VkIiwia2V5RXhpc3RzIiwiZ2V0RG93bmxvYWRpbmciLCJsb2NhbEZpbGUiLCJnZXRJdGVtcyIsImhhc093blByb3BlcnR5IiwiZG93bmxvYWRQYXRoIiwibm9ybWFsaXplIiwibG9jYWwiLCJ3YWl0Rm9yRG93bmxvYWQiLCJjYWxsYmFjayIsIm9uIiwicGVyZm9ybVNlZWsiLCJpbmRleCIsImZpbmRJbmRleCIsInBhcnQxIiwic2xpY2UiLCJwYXJ0MiIsImNsZWFyIiwiY29uY2F0Iiwic3RhcnQiLCJyZXByZXNlbnRhdGlvbnMiLCJkb3dubG9hZEZvbGRlciIsImZyb21SZXN1bWVkIiwib2xkc3RhdHVzIiwibWFuaWZlc3QiLCJnZXRNYW5pZmVzdEJ5SWQiLCJtYW5pZmVzdHMiLCJOT1RfRk9VTkQiLCJ2aWRlbyIsIkFycmF5IiwiaXNBcnJheSIsImF1ZGlvIiwidGV4dCIsInZpZGVvUiIsImdldFZpZGVvUmVwcmVzZW50YXRpb25zIiwiYXVkaW9SIiwiZ2V0QXVkaW9SZXByZXNlbnRhdGlvbnMiLCJ0ZXh0UiIsImdldFRleHRSZXByZXNlbnRhdGlvbnMiLCJsb2NhbERvd25sb2FkRm9sZGVyIiwicmVzb2x2ZSIsImRvd25sb2Fkc0ZvbGRlclBhdGgiLCJsb2NhbFBhdGgiLCJtYW5pZmVzdFVybCIsImdldE1hbmlmZXN0VXJsIiwibWFuaWZlc3ROYW1lIiwiZ2V0TWFuaWZlc3ROYW1lIiwiZ2V0TWFuaWZlc3RCYXNlVXJsIiwieG1sIiwibWFuaWZlc3RVcmxEb21haW4iLCJtYW5pZmVzdEJhc2VVcmwiLCJNUEQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNoaWxkTm9kZXMiLCJub2RlTmFtZSIsInRleHRDb250ZW50IiwibWF0Y2giLCJyZWdleHBQcm90b2NvbFJlbW92ZSIsImpvaW5QYXRoIiwiZ2V0TWFuaWZlc3RJbmZvUHJvbWlzZSIsInJlc3VsdHMiLCJzdG9yYWdlSXRlbSIsIkFMUkVBRFlfUkVTVU1FRCIsIkFMUkVBRFlfU1RBUlRFRCIsInVuaW9uIiwiZG93bmxvYWRlZEZpbGVzIiwiZG93bmxvYWRlZEhhc2giLCJyZW1vdGVQYXRoIiwibWFuaWZlc3RYTUwiLCJ1cmxfZG9tYWluIiwiZ2V0RG93bmxvYWRMaW5rcyIsImFsbHZpZGVvTGlua3MiLCJnZXRBbGxMaW5rcyIsImFsbGF1ZGlvTGlua3MiLCJhbGx0ZXh0TGlua3MiLCJhbGxGaWxlcyIsImNyZWF0ZUlmTm90RXhpc3RzIiwiRGF0ZSIsImdldFRpbWUiLCJDUkVBVEVEIiwiTUFOSUZFU1QiLCJzYXZlT3JpZ2luYWxNYW5pZmVzdE9uY2VPbmx5Iiwic2F2ZU1hbmlmZXN0V2l0aENob3NlblJlcHJlc2VudGF0aW9ucyIsIm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbCIsIlFVRVVFRCIsIlNUQVJURUQiLCJyZXN1bWUiLCJnZXRNYW5pZmVzdEluZm8iLCJSRVNVTUlOR19GQUlMRUQiLCJmb2xkZXIiLCJ1cGRhdGVEb3dubG9hZEZvbGRlciIsIm1hbmlmZXN0U2V0dGluZ3MiLCJmbHVzaEl0ZW0iLCJzYXZlIiwiU0FWSU5HX0RBVEFfRkFJTEVEIiwiVVBEQVRFX0RPV05MT0FEX0ZPTERFUl9GQUlMRUQiLCJTVE9QUEVEIiwiaWdub3JlU3RvcHBlZCIsInJlamVjdCIsImNvZGUiLCJFUlJPUlMiLCJyZW1vdmVQcm9taXNlIiwiX2FkZExpbmtUb0Rvd25sb2FkIiwiT2JqZWN0IiwiYXNzaWduIiwiZm9yY2VEb3dubG9hZCIsImRvd25sb2Fkc0luUHJvZ3Jlc3MiLCJtYXhEb3dubG9hZHMiLCJpbmNyZWFzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4612\n')},2381:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\n\n\nvar _ = __webpack_require__(4952);\n\nvar appSettings = __webpack_require__(9277);\n\nvar ArrayStorage = __webpack_require__(9567);\n\nvar ArrayStorageBridge = __webpack_require__(8048);\n\nvar FlushItem = __webpack_require__(1789);\n\nvar Storage = __webpack_require__(1396);\n\nvar StorageBridge = __webpack_require__(3890);\n\nvar SyncItem = __webpack_require__(6716);\n/**\n *\n * @constructor\n */\n\n\nfunction DownloadsStorageController() {\n  this.stores = appSettings.getSettings().stores;\n  this._items = {};\n  this._syncItems = [];\n  this._FLUSH_TIME = 50; //in miliseconds\n\n  this._flushThrottled = _.throttle(this._flush, this._FLUSH_TIME, {\n    leading: false\n  });\n\n  this._createDummyStorageBridge();\n}\n/**\n *\n * @private\n * @param {string} manifestId - manifest identifier\n * @param {string} key - key identifier\n * @returns {void}\n */\n\n\nDownloadsStorageController.prototype._createArrayStorage = function (manifestId, key) {\n  if (!this[key]) {\n    this._createArrayStorageBridge(key);\n  }\n\n  this._items[manifestId][key] = new ArrayStorage();\n};\n/**\n *\n * @private\n * @param {string} key - key identifier\n * @returns {void}\n */\n\n\nDownloadsStorageController.prototype._createArrayStorageBridge = function (key) {\n  this[key] = new ArrayStorageBridge(this, key);\n};\n\nDownloadsStorageController.prototype._createDummyStorageBridge = function () {\n  this._createArrayStorageBridge(this.stores.DOWNLOADS.LEFT);\n\n  this._createArrayStorageBridge(this.stores.DOWNLOADS.DOWNLOADED);\n\n  this._createStorageBridge(this.stores.DOWNLOADS.DOWNLOADING);\n\n  this._createArrayStorageBridge(this.stores.DOWNLOADS.ERRORS);\n\n  this._createStorageBridge(this.stores.PARAMS);\n\n  this._createStorageBridge(this.stores.MANIFEST);\n\n  this._createStorageBridge(this.stores.STATUS);\n};\n/**\n *\n * @private\n * @param {string} manifestId - manifest identifier\n * @param {string} key - key identifier\n * @returns {void}\n */\n\n\nDownloadsStorageController.prototype._createStorage = function (manifestId, key) {\n  if (!this[key]) {\n    this._createStorageBridge(key);\n  }\n\n  this._items[manifestId][key] = new Storage();\n};\n/**\n *\n * @private\n * @param {string} key - key identifier\n * @returns {void}\n */\n\n\nDownloadsStorageController.prototype._createStorageBridge = function (key) {\n  this[key] = new StorageBridge(this, key);\n};\n/**\n *\n * @private\n * @returns {void}\n */\n\n\nDownloadsStorageController.prototype._flush = function () {\n  var self = this;\n\n  var items = this._syncItems.splice(0, this._syncItems.length);\n\n  var flushItem, flushItems, i, item, j, k, l, manifestId, storageKey, storageKeys, storagesToFlush;\n  storagesToFlush = {};\n\n  function getItems(manifestId, storageKey) {\n    if (self._items[manifestId] && self._items[manifestId][storageKey]) {\n      return self._items[manifestId][storageKey].getItems();\n    } else {\n      return [];\n    }\n  } //collect information which storages needs to be saved\n\n\n  for (i = 0, j = items.length; i < j; i++) {\n    item = items[i];\n    storagesToFlush[item.manifestId] = storagesToFlush[item.manifestId] || {};\n\n    for (k = 0, l = item.storageKeys.length; k < l; k++) {\n      storagesToFlush[item.manifestId][item.storageKeys[k]] = true;\n    }\n  }\n\n  flushItems = []; //create flush items - promises that needs to be resolved together in parallel\n\n  for (manifestId in storagesToFlush) {\n    storageKeys = storagesToFlush[manifestId];\n\n    for (storageKey in storageKeys) {\n      try {\n        flushItem = new FlushItem(manifestId, storageKey, getItems(manifestId, storageKey));\n        flushItems.push(flushItem.save());\n      } catch (e) {\n        console.error("ERROR", storageKey);\n      }\n    }\n  }\n\n  Promise.all(flushItems).then(function () {\n    var i, j;\n\n    for (i = 0, j = items.length; i < j; i++) {\n      items[i].resolve();\n    }\n  }, function () {\n    var i, j;\n\n    for (i = 0, j = items.length; i < j; i++) {\n      items[i].reject();\n    }\n  });\n};\n/**\n *\n * @private\n * @param {Array} [storageKey] storage key\n * @returns {Array} keys for all storages\n */\n\n\nDownloadsStorageController.prototype._getAllStorageKeys = function (storageKey) {\n  var keys = [];\n  storageKey = storageKey || this.stores;\n\n  for (var key in storageKey) {\n    if (storageKey.hasOwnProperty(key)) {\n      if (typeof storageKey[key] === "string") {\n        //params don\'t need to be stored to disk\n        if (key !== this.stores.PARAMS) {\n          keys.push(storageKey[key]);\n        }\n      } else {\n        keys = keys.concat(this._getAllStorageKeys(storageKey[key]));\n      }\n    }\n  }\n\n  return keys;\n};\n/**\n *\n * @private\n * @param {string} storageKey storage key identifier\n * @param {string} bridgeMethodName method name to be called\n * @param {string} manifestId - manifest identifier\n * @returns {*} items\n */\n\n\nDownloadsStorageController.prototype._itemAction = function (storageKey, bridgeMethodName, manifestId) {\n  var args = [],\n      i,\n      j; //collect all other parameters except those already listed\n\n  for (i = 3, j = arguments.length; i < j; i++) {\n    args.push(arguments[i]);\n  }\n\n  if (this._items[manifestId] && this._items[manifestId][storageKey] && this._items[manifestId][storageKey][bridgeMethodName]) {\n    return this._items[manifestId][storageKey][bridgeMethodName].apply(this._items[manifestId][storageKey], args);\n  } else {\n    //if manifest still exists\n    if (this._items[manifestId]) {\n      console.error("ERROR", manifestId, storageKey, bridgeMethodName, args);\n    }\n\n    return undefined;\n  }\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} [storageKeys] storage keys that will be cleared\n * @returns {Promise} promise\n */\n\n\nDownloadsStorageController.prototype.clear = function (manifestId, storageKeys) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    storageKeys = storageKeys || self._getAllStorageKeys();\n\n    if (self._items[manifestId]) {\n      for (var i = 0, j = storageKeys.length; i < j; i++) {\n        var storage = self._items[manifestId][storageKeys[i]];\n\n        if (storage) {\n          storage.clear();\n        }\n      }\n    }\n\n    delete self._items[manifestId];\n    self.sync(manifestId, storageKeys).then(resolve, reject);\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\n\n\nDownloadsStorageController.prototype.create = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self._items[manifestId] = {};\n\n    self._createArrayStorage(manifestId, self.stores.DOWNLOADS.LEFT);\n\n    self._createArrayStorage(manifestId, self.stores.DOWNLOADS.DOWNLOADED);\n\n    self._createStorage(manifestId, self.stores.DOWNLOADS.DOWNLOADING);\n\n    self._createArrayStorage(manifestId, self.stores.DOWNLOADS.ERRORS);\n\n    self._createStorage(manifestId, self.stores.PARAMS);\n\n    self._createStorage(manifestId, self.stores.MANIFEST);\n\n    self._createStorage(manifestId, self.stores.STATUS);\n\n    self.sync(manifestId, [self.stores.DOWNLOADS.DOWNLOADED, self.stores.MANIFEST, self.stores.STATUS]).then(resolve, reject);\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\n\n\nDownloadsStorageController.prototype.createIfNotExists = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.getItem(manifestId).then(function (result) {\n      if (result) {\n        resolve();\n      } else {\n        self.create(manifestId).then(resolve, reject);\n      }\n    }, reject);\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\n\n\nDownloadsStorageController.prototype.getItem = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve) {\n    resolve(self._items[manifestId]);\n  });\n};\n/**\n *\n * @returns {string[]} keys of all items\n */\n\n\nDownloadsStorageController.prototype.getKeys = function () {\n  return Object.keys(this._items);\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {boolean} if certain manifest id exists\n */\n\n\nDownloadsStorageController.prototype.keyExists = function (manifestId) {\n  return !!this._items[manifestId];\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\n\n\nDownloadsStorageController.prototype.removeItem = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve) {\n    delete self._items[manifestId];\n    resolve();\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} [storageKeys] storage keys that will be synced\n * @returns {Promise} promise\n */\n\n\nDownloadsStorageController.prototype.sync = function (manifestId, storageKeys) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    if (typeof storageKeys === "undefined") {\n      reject("Storage key is missing");\n      return;\n    }\n\n    if (typeof storageKeys === "string") {\n      storageKeys = [storageKeys];\n    }\n\n    if (appSettings.getSettings().saveToDisk) {\n      self._syncItems.push(new SyncItem(resolve, reject, manifestId, storageKeys));\n\n      self._flushThrottled();\n    } else {\n      resolve();\n    }\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\n\n\nDownloadsStorageController.prototype.syncAll = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    if (appSettings.getSettings().saveToDisk) {\n      var storageKeys = self._getAllStorageKeys();\n\n      self._syncItems.push(new SyncItem(resolve, reject, manifestId, storageKeys));\n\n      self._flushThrottled();\n    } else {\n      resolve();\n    }\n  });\n};\n\nmodule.exports = DownloadsStorageController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBakQsMEJBQTBCLENBQUNXLFNBQTNCLENBQXFDOEQsT0FBckMsR0FBK0MsVUFBVTVELFVBQVYsRUFBc0I7RUFDbkUsSUFBTWEsSUFBSSxHQUFHLElBQWI7RUFDQSxPQUFPLElBQUlvQixPQUFKLENBQVksVUFBVUcsT0FBVixFQUFtQkMsTUFBbkIsRUFBMkI7SUFDNUMsSUFBSXpELFdBQVcsQ0FBQ1MsV0FBWixHQUEwQnNFLFVBQTlCLEVBQTBDO01BQ3hDLElBQUlsQyxXQUFXLEdBQUdaLElBQUksQ0FBQ3lCLGtCQUFMLEVBQWxCOztNQUNBekIsSUFBSSxDQUFDdEIsVUFBTCxDQUFnQnFDLElBQWhCLENBQXFCLElBQUkxQyxRQUFKLENBQWFrRCxPQUFiLEVBQXNCQyxNQUF0QixFQUE4QnJDLFVBQTlCLEVBQTBDeUIsV0FBMUMsQ0FBckI7O01BQ0FaLElBQUksQ0FBQ3BCLGVBQUw7SUFDRCxDQUpELE1BSU87TUFDTDJDLE9BQU87SUFDUjtFQUNGLENBUk0sQ0FBUDtBQVNELENBWEQ7O0FBYUF5QixNQUFNLENBQUNDLE9BQVAsR0FBaUIzRSwwQkFBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2NvbnRyb2xsZXJzL2Rvd25sb2Fkcy1zdG9yYWdlLWNvbnRyb2xsZXIuanM/NjUzNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmVzbGludCBuby1jb25zb2xlOiBbXCJlcnJvclwiLCB7IGFsbG93OiBbXCJ3YXJuXCIsIFwiZXJyb3JcIiwgXCJpbmZvXCJdIH1dICovXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF8gPSByZXF1aXJlKFwidW5kZXJzY29yZVwiKTtcblxuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKCcuLi9hcHAtc2V0dGluZ3MnKTtcbmNvbnN0IEFycmF5U3RvcmFnZSA9IHJlcXVpcmUoXCIuLy4uL3V0aWwvYXJyYXktc3RvcmFnZVwiKTtcbmNvbnN0IEFycmF5U3RvcmFnZUJyaWRnZSA9IHJlcXVpcmUoXCIuLy4uL3V0aWwvYXJyYXktc3RvcmFnZS1icmlkZ2VcIik7XG5jb25zdCBGbHVzaEl0ZW0gPSByZXF1aXJlKFwiLi4vZG93bmxvYWRzL2ZsdXNoLWl0ZW1cIik7XG5jb25zdCBTdG9yYWdlID0gcmVxdWlyZShcIi4vLi4vdXRpbC9zdG9yYWdlXCIpO1xuY29uc3QgU3RvcmFnZUJyaWRnZSA9IHJlcXVpcmUoXCIuLy4uL3V0aWwvc3RvcmFnZS1icmlkZ2VcIik7XG5jb25zdCBTeW5jSXRlbSA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvc3luYy1pdGVtXCIpO1xuXG4vKipcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIgKCkge1xuICB0aGlzLnN0b3JlcyA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzO1xuICB0aGlzLl9pdGVtcyA9IHt9O1xuICB0aGlzLl9zeW5jSXRlbXMgPSBbXTtcbiAgdGhpcy5fRkxVU0hfVElNRSA9IDUwOy8vaW4gbWlsaXNlY29uZHNcbiAgdGhpcy5fZmx1c2hUaHJvdHRsZWQgPSBfLnRocm90dGxlKHRoaXMuX2ZsdXNoLCB0aGlzLl9GTFVTSF9USU1FLCB7bGVhZGluZzogZmFsc2V9KTtcbiAgdGhpcy5fY3JlYXRlRHVtbXlTdG9yYWdlQnJpZGdlKCk7XG59XG5cbi8qKlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBrZXkgaWRlbnRpZmllclxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5fY3JlYXRlQXJyYXlTdG9yYWdlID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGtleSkge1xuICBpZiAoIXRoaXNba2V5XSkge1xuICAgIHRoaXMuX2NyZWF0ZUFycmF5U3RvcmFnZUJyaWRnZShrZXkpO1xuICB9XG4gIHRoaXMuX2l0ZW1zW21hbmlmZXN0SWRdW2tleV0gPSBuZXcgQXJyYXlTdG9yYWdlKCk7XG59O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIGtleSBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLl9jcmVhdGVBcnJheVN0b3JhZ2VCcmlkZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHRoaXNba2V5XSA9IG5ldyBBcnJheVN0b3JhZ2VCcmlkZ2UodGhpcywga2V5KTtcbn07XG5cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5fY3JlYXRlRHVtbXlTdG9yYWdlQnJpZGdlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9jcmVhdGVBcnJheVN0b3JhZ2VCcmlkZ2UodGhpcy5zdG9yZXMuRE9XTkxPQURTLkxFRlQpO1xuICB0aGlzLl9jcmVhdGVBcnJheVN0b3JhZ2VCcmlkZ2UodGhpcy5zdG9yZXMuRE9XTkxPQURTLkRPV05MT0FERUQpO1xuICB0aGlzLl9jcmVhdGVTdG9yYWdlQnJpZGdlKHRoaXMuc3RvcmVzLkRPV05MT0FEUy5ET1dOTE9BRElORyk7XG4gIHRoaXMuX2NyZWF0ZUFycmF5U3RvcmFnZUJyaWRnZSh0aGlzLnN0b3Jlcy5ET1dOTE9BRFMuRVJST1JTKTtcbiAgdGhpcy5fY3JlYXRlU3RvcmFnZUJyaWRnZSh0aGlzLnN0b3Jlcy5QQVJBTVMpO1xuICB0aGlzLl9jcmVhdGVTdG9yYWdlQnJpZGdlKHRoaXMuc3RvcmVzLk1BTklGRVNUKTtcbiAgdGhpcy5fY3JlYXRlU3RvcmFnZUJyaWRnZSh0aGlzLnN0b3Jlcy5TVEFUVVMpO1xufTtcblxuLyoqXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIGtleSBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLl9jcmVhdGVTdG9yYWdlID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGtleSkge1xuICBpZiAoIXRoaXNba2V5XSkge1xuICAgIHRoaXMuX2NyZWF0ZVN0b3JhZ2VCcmlkZ2Uoa2V5KTtcbiAgfVxuICB0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtrZXldID0gbmV3IFN0b3JhZ2UoKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0ga2V5IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlci5wcm90b3R5cGUuX2NyZWF0ZVN0b3JhZ2VCcmlkZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHRoaXNba2V5XSA9IG5ldyBTdG9yYWdlQnJpZGdlKHRoaXMsIGtleSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5fZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBjb25zdCBpdGVtcyA9IHRoaXMuX3N5bmNJdGVtcy5zcGxpY2UoMCwgdGhpcy5fc3luY0l0ZW1zLmxlbmd0aCk7XG4gIGxldCBmbHVzaEl0ZW0sIGZsdXNoSXRlbXMsIGksIGl0ZW0sIGosIGssIGwsIG1hbmlmZXN0SWQsIHN0b3JhZ2VLZXksIHN0b3JhZ2VLZXlzLCBzdG9yYWdlc1RvRmx1c2g7XG4gIHN0b3JhZ2VzVG9GbHVzaCA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldEl0ZW1zIChtYW5pZmVzdElkLCBzdG9yYWdlS2V5KSB7XG4gICAgaWYgKHNlbGYuX2l0ZW1zW21hbmlmZXN0SWRdICYmIHNlbGYuX2l0ZW1zW21hbmlmZXN0SWRdW3N0b3JhZ2VLZXldKSB7XG4gICAgICByZXR1cm4gc2VsZi5faXRlbXNbbWFuaWZlc3RJZF1bc3RvcmFnZUtleV0uZ2V0SXRlbXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIC8vY29sbGVjdCBpbmZvcm1hdGlvbiB3aGljaCBzdG9yYWdlcyBuZWVkcyB0byBiZSBzYXZlZFxuICBmb3IgKGkgPSAwLCBqID0gaXRlbXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgaXRlbSA9IGl0ZW1zW2ldO1xuICAgIHN0b3JhZ2VzVG9GbHVzaFtpdGVtLm1hbmlmZXN0SWRdID0gc3RvcmFnZXNUb0ZsdXNoW2l0ZW0ubWFuaWZlc3RJZF0gfHwge307XG4gICAgZm9yIChrID0gMCwgbCA9IGl0ZW0uc3RvcmFnZUtleXMubGVuZ3RoOyBrIDwgbDsgaysrKSB7XG4gICAgICBzdG9yYWdlc1RvRmx1c2hbaXRlbS5tYW5pZmVzdElkXVtpdGVtLnN0b3JhZ2VLZXlzW2tdXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGZsdXNoSXRlbXMgPSBbXTtcblxuICAvL2NyZWF0ZSBmbHVzaCBpdGVtcyAtIHByb21pc2VzIHRoYXQgbmVlZHMgdG8gYmUgcmVzb2x2ZWQgdG9nZXRoZXIgaW4gcGFyYWxsZWxcbiAgZm9yIChtYW5pZmVzdElkIGluIHN0b3JhZ2VzVG9GbHVzaCkge1xuICAgIHN0b3JhZ2VLZXlzID0gc3RvcmFnZXNUb0ZsdXNoW21hbmlmZXN0SWRdO1xuICAgIGZvciAoc3RvcmFnZUtleSBpbiBzdG9yYWdlS2V5cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmx1c2hJdGVtID0gbmV3IEZsdXNoSXRlbShtYW5pZmVzdElkLCBzdG9yYWdlS2V5LCBnZXRJdGVtcyhtYW5pZmVzdElkLCBzdG9yYWdlS2V5KSk7XG4gICAgICAgIGZsdXNoSXRlbXMucHVzaChmbHVzaEl0ZW0uc2F2ZSgpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SXCIsIHN0b3JhZ2VLZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIFByb21pc2UuYWxsKGZsdXNoSXRlbXMpXG4gICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBpLCBqO1xuICAgICAgICBmb3IgKGkgPSAwLCBqID0gaXRlbXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgaXRlbXNbaV0ucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBpLCBqO1xuICAgICAgICBmb3IgKGkgPSAwLCBqID0gaXRlbXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgaXRlbXNbaV0ucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG59O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW3N0b3JhZ2VLZXldIHN0b3JhZ2Uga2V5XG4gKiBAcmV0dXJucyB7QXJyYXl9IGtleXMgZm9yIGFsbCBzdG9yYWdlc1xuICovXG5Eb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlci5wcm90b3R5cGUuX2dldEFsbFN0b3JhZ2VLZXlzID0gZnVuY3Rpb24gKHN0b3JhZ2VLZXkpIHtcbiAgbGV0IGtleXMgPSBbXTtcbiAgc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXkgfHwgdGhpcy5zdG9yZXM7XG4gIGZvciAobGV0IGtleSBpbiBzdG9yYWdlS2V5KSB7XG4gICAgaWYgKHN0b3JhZ2VLZXkuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgaWYgKHR5cGVvZiBzdG9yYWdlS2V5W2tleV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgLy9wYXJhbXMgZG9uJ3QgbmVlZCB0byBiZSBzdG9yZWQgdG8gZGlza1xuICAgICAgICBpZiAoa2V5ICE9PSB0aGlzLnN0b3Jlcy5QQVJBTVMpIHtcbiAgICAgICAgICBrZXlzLnB1c2goc3RvcmFnZUtleVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5cyA9IGtleXMuY29uY2F0KHRoaXMuX2dldEFsbFN0b3JhZ2VLZXlzKHN0b3JhZ2VLZXlba2V5XSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ga2V5cztcbn07XG5cbi8qKlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RvcmFnZUtleSBzdG9yYWdlIGtleSBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnJpZGdlTWV0aG9kTmFtZSBtZXRob2QgbmFtZSB0byBiZSBjYWxsZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMgeyp9IGl0ZW1zXG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5faXRlbUFjdGlvbiA9IGZ1bmN0aW9uIChzdG9yYWdlS2V5LCBicmlkZ2VNZXRob2ROYW1lLCBtYW5pZmVzdElkKSB7XG4gIGxldCBhcmdzID0gW10sIGksIGo7XG5cbiAgLy9jb2xsZWN0IGFsbCBvdGhlciBwYXJhbWV0ZXJzIGV4Y2VwdCB0aG9zZSBhbHJlYWR5IGxpc3RlZFxuICBmb3IgKGkgPSAzLCBqID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB9XG4gIGlmICh0aGlzLl9pdGVtc1ttYW5pZmVzdElkXSAmJiB0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtzdG9yYWdlS2V5XSAmJiB0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtzdG9yYWdlS2V5XVticmlkZ2VNZXRob2ROYW1lXSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtzdG9yYWdlS2V5XVticmlkZ2VNZXRob2ROYW1lXS5hcHBseSh0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtzdG9yYWdlS2V5XSwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgLy9pZiBtYW5pZmVzdCBzdGlsbCBleGlzdHNcbiAgICBpZiAodGhpcy5faXRlbXNbbWFuaWZlc3RJZF0pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUlwiLCBtYW5pZmVzdElkLCBzdG9yYWdlS2V5LCBicmlkZ2VNZXRob2ROYW1lLCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge0FycmF5fSBbc3RvcmFnZUtleXNdIHN0b3JhZ2Uga2V5cyB0aGF0IHdpbGwgYmUgY2xlYXJlZFxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIHN0b3JhZ2VLZXlzKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHN0b3JhZ2VLZXlzID0gc3RvcmFnZUtleXMgfHwgc2VsZi5fZ2V0QWxsU3RvcmFnZUtleXMoKTtcbiAgICBpZiAoc2VsZi5faXRlbXNbbWFuaWZlc3RJZF0pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gc3RvcmFnZUtleXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGxldCBzdG9yYWdlID0gc2VsZi5faXRlbXNbbWFuaWZlc3RJZF1bc3RvcmFnZUtleXNbaV1dO1xuICAgICAgICBpZiAoc3RvcmFnZSkge1xuICAgICAgICAgIHN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUoc2VsZi5faXRlbXNbbWFuaWZlc3RJZF0pO1xuICAgIHNlbGYuc3luYyhtYW5pZmVzdElkLCBzdG9yYWdlS2V5cylcbiAgICAgICAgLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBzZWxmLl9pdGVtc1ttYW5pZmVzdElkXSA9IHt9O1xuICAgIHNlbGYuX2NyZWF0ZUFycmF5U3RvcmFnZShtYW5pZmVzdElkLCBzZWxmLnN0b3Jlcy5ET1dOTE9BRFMuTEVGVCk7XG4gICAgc2VsZi5fY3JlYXRlQXJyYXlTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLkRPV05MT0FEUy5ET1dOTE9BREVEKTtcbiAgICBzZWxmLl9jcmVhdGVTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLkRPV05MT0FEUy5ET1dOTE9BRElORyk7XG4gICAgc2VsZi5fY3JlYXRlQXJyYXlTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLkRPV05MT0FEUy5FUlJPUlMpO1xuICAgIHNlbGYuX2NyZWF0ZVN0b3JhZ2UobWFuaWZlc3RJZCwgc2VsZi5zdG9yZXMuUEFSQU1TKTtcbiAgICBzZWxmLl9jcmVhdGVTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLk1BTklGRVNUKTtcbiAgICBzZWxmLl9jcmVhdGVTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLlNUQVRVUyk7XG4gICAgc2VsZi5zeW5jKG1hbmlmZXN0SWQsIFtcbiAgICAgICAgICBzZWxmLnN0b3Jlcy5ET1dOTE9BRFMuRE9XTkxPQURFRCxcbiAgICAgICAgICBzZWxmLnN0b3Jlcy5NQU5JRkVTVCxcbiAgICAgICAgICBzZWxmLnN0b3Jlcy5TVEFUVVMsXG4gICAgICAgIF0pXG4gICAgICAgIC50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gIH0pO1xufTtcbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLmNyZWF0ZUlmTm90RXhpc3RzID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc2VsZi5nZXRJdGVtKG1hbmlmZXN0SWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5jcmVhdGUobWFuaWZlc3RJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIHJlc29sdmUoc2VsZi5faXRlbXNbbWFuaWZlc3RJZF0pO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX0ga2V5cyBvZiBhbGwgaXRlbXNcbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9pdGVtcyk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtib29sZWFufSBpZiBjZXJ0YWluIG1hbmlmZXN0IGlkIGV4aXN0c1xuICovXG5Eb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlci5wcm90b3R5cGUua2V5RXhpc3RzID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgcmV0dXJuICEhdGhpcy5faXRlbXNbbWFuaWZlc3RJZF07XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIGRlbGV0ZSBzZWxmLl9pdGVtc1ttYW5pZmVzdElkXTtcbiAgICByZXNvbHZlKCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge0FycmF5fSBbc3RvcmFnZUtleXNdIHN0b3JhZ2Uga2V5cyB0aGF0IHdpbGwgYmUgc3luY2VkXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gcHJvbWlzZVxuICovXG5Eb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlci5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBzdG9yYWdlS2V5cykge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAodHlwZW9mIHN0b3JhZ2VLZXlzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZWplY3QoXCJTdG9yYWdlIGtleSBpcyBtaXNzaW5nXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHN0b3JhZ2VLZXlzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBzdG9yYWdlS2V5cyA9IFtzdG9yYWdlS2V5c107XG4gICAgfVxuICAgIGlmIChhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnNhdmVUb0Rpc2spIHtcbiAgICAgIHNlbGYuX3N5bmNJdGVtcy5wdXNoKG5ldyBTeW5jSXRlbShyZXNvbHZlLCByZWplY3QsIG1hbmlmZXN0SWQsIHN0b3JhZ2VLZXlzKSk7XG4gICAgICBzZWxmLl9mbHVzaFRocm90dGxlZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLnN5bmNBbGwgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zYXZlVG9EaXNrKSB7XG4gICAgICBsZXQgc3RvcmFnZUtleXMgPSBzZWxmLl9nZXRBbGxTdG9yYWdlS2V5cygpO1xuICAgICAgc2VsZi5fc3luY0l0ZW1zLnB1c2gobmV3IFN5bmNJdGVtKHJlc29sdmUsIHJlamVjdCwgbWFuaWZlc3RJZCwgc3RvcmFnZUtleXMpKTtcbiAgICAgIHNlbGYuX2ZsdXNoVGhyb3R0bGVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlcjsiXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJhcHBTZXR0aW5ncyIsIkFycmF5U3RvcmFnZSIsIkFycmF5U3RvcmFnZUJyaWRnZSIsIkZsdXNoSXRlbSIsIlN0b3JhZ2UiLCJTdG9yYWdlQnJpZGdlIiwiU3luY0l0ZW0iLCJEb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlciIsInN0b3JlcyIsImdldFNldHRpbmdzIiwiX2l0ZW1zIiwiX3N5bmNJdGVtcyIsIl9GTFVTSF9USU1FIiwiX2ZsdXNoVGhyb3R0bGVkIiwidGhyb3R0bGUiLCJfZmx1c2giLCJsZWFkaW5nIiwiX2NyZWF0ZUR1bW15U3RvcmFnZUJyaWRnZSIsInByb3RvdHlwZSIsIl9jcmVhdGVBcnJheVN0b3JhZ2UiLCJtYW5pZmVzdElkIiwia2V5IiwiX2NyZWF0ZUFycmF5U3RvcmFnZUJyaWRnZSIsIkRPV05MT0FEUyIsIkxFRlQiLCJET1dOTE9BREVEIiwiX2NyZWF0ZVN0b3JhZ2VCcmlkZ2UiLCJET1dOTE9BRElORyIsIkVSUk9SUyIsIlBBUkFNUyIsIk1BTklGRVNUIiwiU1RBVFVTIiwiX2NyZWF0ZVN0b3JhZ2UiLCJzZWxmIiwiaXRlbXMiLCJzcGxpY2UiLCJsZW5ndGgiLCJmbHVzaEl0ZW0iLCJmbHVzaEl0ZW1zIiwiaSIsIml0ZW0iLCJqIiwiayIsImwiLCJzdG9yYWdlS2V5Iiwic3RvcmFnZUtleXMiLCJzdG9yYWdlc1RvRmx1c2giLCJnZXRJdGVtcyIsInB1c2giLCJzYXZlIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwicmVzb2x2ZSIsInJlamVjdCIsIl9nZXRBbGxTdG9yYWdlS2V5cyIsImtleXMiLCJoYXNPd25Qcm9wZXJ0eSIsImNvbmNhdCIsIl9pdGVtQWN0aW9uIiwiYnJpZGdlTWV0aG9kTmFtZSIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsInVuZGVmaW5lZCIsImNsZWFyIiwic3RvcmFnZSIsInN5bmMiLCJjcmVhdGUiLCJjcmVhdGVJZk5vdEV4aXN0cyIsImdldEl0ZW0iLCJyZXN1bHQiLCJnZXRLZXlzIiwiT2JqZWN0Iiwia2V5RXhpc3RzIiwicmVtb3ZlSXRlbSIsInNhdmVUb0Rpc2siLCJzeW5jQWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2381\n')},42:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar XMLSerializer = (__webpack_require__(678).XMLSerializer);\n\nvar appSettings = __webpack_require__(9277);\n\nvar parseManifestWithChoosenRepresentations = __webpack_require__(4803);\n\nvar downloadFileUtil = __webpack_require__(2777);\n\nvar saveFile = __webpack_require__(1349);\n\nvar translation = __webpack_require__(817);\n/**\n *\n * @constructor\n */\n\n\nfunction ManifestController() {\n  this._manifests = {};\n}\n/**\n *\n * @param {object} manifest manifest object\n * @returns {void}\n */\n\n\nManifestController.prototype.cacheManifest = function (manifest) {\n  this._manifests[manifest.id] = manifest;\n};\n/**\n *\n * @param {Array|number|string} [manifestIds] manifests identifiers\n * @returns {*} manifests\n */\n\n\nManifestController.prototype.getManifests = function (manifestIds) {\n  var selectedManifests;\n\n  if (typeof manifestIds === "undefined") {\n    selectedManifests = this._manifests;\n  } else if (typeof manifestIds === "number" || typeof manifestIds === "string") {\n    selectedManifests = [this._manifests[String(manifestIds)]];\n  } else {\n    selectedManifests = [];\n\n    for (var i = 0, j = manifestIds.length; i < j; i++) {\n      if (this._manifests[manifestIds[i]]) {\n        selectedManifests.push(this._manifests[manifestIds[i]]);\n      }\n    }\n  }\n\n  return selectedManifests;\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {*} manifest\n */\n\n\nManifestController.prototype.getManifestById = function (manifestId) {\n  if (typeof manifestId === "number" || typeof manifestId === "string") {\n    return this._manifests[String(manifestId)];\n  }\n};\n/**\n *\n * @param {Array|number|string} [manifestIds] manifests identifiers\n * @returns {Array} manifests infomrations\n */\n\n\nManifestController.prototype.getManifestsInfo = function (manifestIds) {\n  var manifests = [];\n  var selectedManifests = this.getManifests(manifestIds);\n\n  for (var i = 0, j = selectedManifests.length; i < j; i++) {\n    manifests.push(selectedManifests[i].getJsonInfo());\n  }\n\n  return manifests;\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {string} local path for manifest files\n */\n\n\nManifestController.prototype.getOriginalManifestLocalPath = function (manifestId) {\n  return appSettings.getSettings().settingsFolder + manifestId + "/";\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {*} manifest info\n */\n\n\nManifestController.prototype.getManifestInfoById = function (manifestId) {\n  var manifest = this.getManifestById(manifestId);\n\n  if (manifest) {\n    return manifest.getJsonInfo();\n  }\n};\n/**\n *\n * @param {Array|number|string} [manifestIds] manifests identifiers\n * @returns {void}\n */\n\n\nManifestController.prototype.removeFromCache = function (manifestIds) {\n  if (typeof manifestIds === "number" || typeof manifestIds === "string") {\n    manifestIds = [String(manifestIds)];\n  }\n\n  manifestIds = manifestIds || [];\n\n  for (var i = 0, j = manifestIds.length; i < j; i++) {\n    delete this._manifests[manifestIds[i]];\n  }\n};\n\nManifestController.prototype.removeFromCacheAll = function () {\n  this._manifests = [];\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\n\n\nManifestController.prototype.saveOriginalManifestOnceOnly = function (manifestId) {\n  var localPath = this.getOriginalManifestLocalPath(manifestId);\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    var manifest = self.getManifestById(manifestId);\n\n    if (!manifest) {\n      reject(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n      return;\n    }\n\n    downloadFileUtil.checkForLocalFile(localPath + manifest.getManifestName(), function (exists) {\n      if (exists) {\n        resolve();\n      } else {\n        var xmlSerializer = new XMLSerializer();\n        var manifestString;\n\n        try {\n          manifestString = xmlSerializer.serializeToString(manifest.getManifestXML());\n        } catch (err) {\n          reject(err);\n          return;\n        }\n\n        saveFile(localPath, manifest.getManifestName(), manifestString, function (err) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve();\n          }\n        });\n      }\n    });\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {object} representations representations to be saved\n * @param {string} downloadFolder - folder where all fragments are downloaded\n * @returns {Promise} promise\n */\n\n\nManifestController.prototype.saveManifestWithChosenRepresentations = function (manifestId, representations, downloadFolder) {\n  var localPath = downloadFolder;\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    var manifest = self.getManifestById(manifestId);\n\n    if (!manifest) {\n      reject(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n      return;\n    }\n\n    var manifestString;\n\n    try {\n      manifestString = parseManifestWithChoosenRepresentations(manifest, representations);\n    } catch (err) {\n      reject(err);\n      return;\n    }\n\n    saveFile(localPath, manifest.getManifestName(), manifestString, function (err) {\n      if (err) {\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n};\n\nmodule.exports = ManifestController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNSO0lBQ0YsQ0FOTyxDQUFSO0VBT0QsQ0FwQk0sQ0FBUDtBQXFCRCxDQXhCRDs7QUEwQkFnQixNQUFNLENBQUNDLE9BQVAsR0FBaUI5QyxrQkFBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2NvbnRyb2xsZXJzL21hbmlmZXN0LWNvbnRyb2xsZXIuanM/Y2QyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgWE1MU2VyaWFsaXplciA9IHJlcXVpcmUoJ3htbGRvbScpLlhNTFNlcmlhbGl6ZXI7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi9hcHAtc2V0dGluZ3NcIik7XG5jb25zdCBwYXJzZU1hbmlmZXN0V2l0aENob29zZW5SZXByZXNlbnRhdGlvbnMgPSByZXF1aXJlKFwiLi4vdXRpbC9wYXJzZS1tYW5pZmVzdC13aXRoLWNob29zZW4tcmVwcmVzZW50YXRpb25zXCIpO1xuY29uc3QgZG93bmxvYWRGaWxlVXRpbCA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvZG93bmxvYWQtZmlsZS11dGlsXCIpO1xuY29uc3Qgc2F2ZUZpbGUgPSByZXF1aXJlKFwiLi4vdXRpbC9zYXZlLWZpbGVcIik7XG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5cbi8qKlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYW5pZmVzdENvbnRyb2xsZXIgKCkge1xuICB0aGlzLl9tYW5pZmVzdHMgPSB7fTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG1hbmlmZXN0IG1hbmlmZXN0IG9iamVjdFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuY2FjaGVNYW5pZmVzdCA9IGZ1bmN0aW9uIChtYW5pZmVzdCkge1xuICB0aGlzLl9tYW5pZmVzdHNbbWFuaWZlc3QuaWRdID0gbWFuaWZlc3Q7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0FycmF5fG51bWJlcnxzdHJpbmd9IFttYW5pZmVzdElkc10gbWFuaWZlc3RzIGlkZW50aWZpZXJzXG4gKiBAcmV0dXJucyB7Kn0gbWFuaWZlc3RzXG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RzID0gZnVuY3Rpb24gKG1hbmlmZXN0SWRzKSB7XG4gIGxldCBzZWxlY3RlZE1hbmlmZXN0cztcbiAgaWYgKHR5cGVvZiBtYW5pZmVzdElkcyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHNlbGVjdGVkTWFuaWZlc3RzID0gdGhpcy5fbWFuaWZlc3RzO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtYW5pZmVzdElkcyA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgbWFuaWZlc3RJZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICBzZWxlY3RlZE1hbmlmZXN0cyA9IFt0aGlzLl9tYW5pZmVzdHNbU3RyaW5nKG1hbmlmZXN0SWRzKV1dO1xuICB9IGVsc2Uge1xuICAgIHNlbGVjdGVkTWFuaWZlc3RzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBtYW5pZmVzdElkcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9tYW5pZmVzdHNbbWFuaWZlc3RJZHNbaV1dKSB7XG4gICAgICAgIHNlbGVjdGVkTWFuaWZlc3RzLnB1c2godGhpcy5fbWFuaWZlc3RzW21hbmlmZXN0SWRzW2ldXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBzZWxlY3RlZE1hbmlmZXN0cztcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMgeyp9IG1hbmlmZXN0XG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RCeUlkID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgaWYgKHR5cGVvZiBtYW5pZmVzdElkID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiBtYW5pZmVzdElkID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hbmlmZXN0c1tTdHJpbmcobWFuaWZlc3RJZCldO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0FycmF5fG51bWJlcnxzdHJpbmd9IFttYW5pZmVzdElkc10gbWFuaWZlc3RzIGlkZW50aWZpZXJzXG4gKiBAcmV0dXJucyB7QXJyYXl9IG1hbmlmZXN0cyBpbmZvbXJhdGlvbnNcbiAqL1xuTWFuaWZlc3RDb250cm9sbGVyLnByb3RvdHlwZS5nZXRNYW5pZmVzdHNJbmZvID0gZnVuY3Rpb24gKG1hbmlmZXN0SWRzKSB7XG4gIGxldCBtYW5pZmVzdHMgPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWRNYW5pZmVzdHMgPSB0aGlzLmdldE1hbmlmZXN0cyhtYW5pZmVzdElkcyk7XG4gIGZvciAobGV0IGkgPSAwLCBqID0gc2VsZWN0ZWRNYW5pZmVzdHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgbWFuaWZlc3RzLnB1c2goc2VsZWN0ZWRNYW5pZmVzdHNbaV0uZ2V0SnNvbkluZm8oKSk7XG4gIH1cbiAgcmV0dXJuIG1hbmlmZXN0cztcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge3N0cmluZ30gbG9jYWwgcGF0aCBmb3IgbWFuaWZlc3QgZmlsZXNcbiAqL1xuTWFuaWZlc3RDb250cm9sbGVyLnByb3RvdHlwZS5nZXRPcmlnaW5hbE1hbmlmZXN0TG9jYWxQYXRoID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgcmV0dXJuIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc2V0dGluZ3NGb2xkZXIgKyBtYW5pZmVzdElkICsgXCIvXCI7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHsqfSBtYW5pZmVzdCBpbmZvXG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RJbmZvQnlJZCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIGNvbnN0IG1hbmlmZXN0ID0gdGhpcy5nZXRNYW5pZmVzdEJ5SWQobWFuaWZlc3RJZCk7XG4gIGlmIChtYW5pZmVzdCkge1xuICAgIHJldHVybiBtYW5pZmVzdC5nZXRKc29uSW5mbygpO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0FycmF5fG51bWJlcnxzdHJpbmd9IFttYW5pZmVzdElkc10gbWFuaWZlc3RzIGlkZW50aWZpZXJzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuTWFuaWZlc3RDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAobWFuaWZlc3RJZHMpIHtcbiAgaWYgKHR5cGVvZiBtYW5pZmVzdElkcyA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgbWFuaWZlc3RJZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICBtYW5pZmVzdElkcyA9IFtTdHJpbmcobWFuaWZlc3RJZHMpXTtcbiAgfVxuXG4gIG1hbmlmZXN0SWRzID0gbWFuaWZlc3RJZHMgfHwgW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gbWFuaWZlc3RJZHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgZGVsZXRlKHRoaXMuX21hbmlmZXN0c1ttYW5pZmVzdElkc1tpXV0pO1xuICB9XG59O1xuXG5NYW5pZmVzdENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUZyb21DYWNoZUFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fbWFuaWZlc3RzID0gW107XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuc2F2ZU9yaWdpbmFsTWFuaWZlc3RPbmNlT25seSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIGNvbnN0IGxvY2FsUGF0aCA9IHRoaXMuZ2V0T3JpZ2luYWxNYW5pZmVzdExvY2FsUGF0aChtYW5pZmVzdElkKTtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgbWFuaWZlc3QgPSBzZWxmLmdldE1hbmlmZXN0QnlJZChtYW5pZmVzdElkKTtcbiAgICBpZiAoIW1hbmlmZXN0KSB7XG4gICAgICByZWplY3QodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvd25sb2FkRmlsZVV0aWwuY2hlY2tGb3JMb2NhbEZpbGUoKGxvY2FsUGF0aCArIG1hbmlmZXN0LmdldE1hbmlmZXN0TmFtZSgpKSwgZnVuY3Rpb24gKGV4aXN0cykge1xuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB4bWxTZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgbGV0IG1hbmlmZXN0U3RyaW5nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG1hbmlmZXN0U3RyaW5nID0geG1sU2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtYW5pZmVzdC5nZXRNYW5pZmVzdFhNTCgpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVGaWxlKGxvY2FsUGF0aCwgbWFuaWZlc3QuZ2V0TWFuaWZlc3ROYW1lKCksIG1hbmlmZXN0U3RyaW5nLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtvYmplY3R9IHJlcHJlc2VudGF0aW9ucyByZXByZXNlbnRhdGlvbnMgdG8gYmUgc2F2ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3dubG9hZEZvbGRlciAtIGZvbGRlciB3aGVyZSBhbGwgZnJhZ21lbnRzIGFyZSBkb3dubG9hZGVkXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gcHJvbWlzZVxuICovXG5NYW5pZmVzdENvbnRyb2xsZXIucHJvdG90eXBlLnNhdmVNYW5pZmVzdFdpdGhDaG9zZW5SZXByZXNlbnRhdGlvbnMgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgcmVwcmVzZW50YXRpb25zLCBkb3dubG9hZEZvbGRlcikge1xuICBjb25zdCBsb2NhbFBhdGggPSBkb3dubG9hZEZvbGRlcjtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgbWFuaWZlc3QgPSBzZWxmLmdldE1hbmlmZXN0QnlJZChtYW5pZmVzdElkKTtcbiAgICBpZiAoIW1hbmlmZXN0KSB7XG4gICAgICByZWplY3QodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBtYW5pZmVzdFN0cmluZztcbiAgICB0cnkge1xuICAgICAgbWFuaWZlc3RTdHJpbmcgPSBwYXJzZU1hbmlmZXN0V2l0aENob29zZW5SZXByZXNlbnRhdGlvbnMobWFuaWZlc3QsIHJlcHJlc2VudGF0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2F2ZUZpbGUobG9jYWxQYXRoLCBtYW5pZmVzdC5nZXRNYW5pZmVzdE5hbWUoKSwgbWFuaWZlc3RTdHJpbmcsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYW5pZmVzdENvbnRyb2xsZXI7XG4iXSwibmFtZXMiOlsiWE1MU2VyaWFsaXplciIsInJlcXVpcmUiLCJhcHBTZXR0aW5ncyIsInBhcnNlTWFuaWZlc3RXaXRoQ2hvb3NlblJlcHJlc2VudGF0aW9ucyIsImRvd25sb2FkRmlsZVV0aWwiLCJzYXZlRmlsZSIsInRyYW5zbGF0aW9uIiwiTWFuaWZlc3RDb250cm9sbGVyIiwiX21hbmlmZXN0cyIsInByb3RvdHlwZSIsImNhY2hlTWFuaWZlc3QiLCJtYW5pZmVzdCIsImlkIiwiZ2V0TWFuaWZlc3RzIiwibWFuaWZlc3RJZHMiLCJzZWxlY3RlZE1hbmlmZXN0cyIsIlN0cmluZyIsImkiLCJqIiwibGVuZ3RoIiwicHVzaCIsImdldE1hbmlmZXN0QnlJZCIsIm1hbmlmZXN0SWQiLCJnZXRNYW5pZmVzdHNJbmZvIiwibWFuaWZlc3RzIiwiZ2V0SnNvbkluZm8iLCJnZXRPcmlnaW5hbE1hbmlmZXN0TG9jYWxQYXRoIiwiZ2V0U2V0dGluZ3MiLCJzZXR0aW5nc0ZvbGRlciIsImdldE1hbmlmZXN0SW5mb0J5SWQiLCJyZW1vdmVGcm9tQ2FjaGUiLCJyZW1vdmVGcm9tQ2FjaGVBbGwiLCJzYXZlT3JpZ2luYWxNYW5pZmVzdE9uY2VPbmx5IiwibG9jYWxQYXRoIiwic2VsZiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZ2V0RXJyb3IiLCJlIiwiTk9UX0ZPVU5EIiwiY2hlY2tGb3JMb2NhbEZpbGUiLCJnZXRNYW5pZmVzdE5hbWUiLCJleGlzdHMiLCJ4bWxTZXJpYWxpemVyIiwibWFuaWZlc3RTdHJpbmciLCJzZXJpYWxpemVUb1N0cmluZyIsImdldE1hbmlmZXN0WE1MIiwiZXJyIiwic2F2ZU1hbmlmZXN0V2l0aENob3NlblJlcHJlc2VudGF0aW9ucyIsInJlcHJlc2VudGF0aW9ucyIsImRvd25sb2FkRm9sZGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///42\n')},7094:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar path = __webpack_require__(1017);\n\nvar getSize = __webpack_require__(6838);\n\nvar rmdir = __webpack_require__(6951);\n\nvar appSettings = __webpack_require__(9277);\n\nvar ReadItem = __webpack_require__(3812);\n\nvar dirList = __webpack_require__(8494);\n\nvar Manifest = (__webpack_require__(1269)/* .Manifest */ .G);\n\nvar STATUSES = __webpack_require__(8255);\n/**\n *\n * @param {ManifestController} manifestController - reference to existing manifest controller\n * @constructor\n */\n\n\nfunction OfflineController(manifestController) {\n  this._manifestController = manifestController;\n}\n/**\n *\n * @param {Function} callback - function to be called when list is ready\n * @returns {void}\n */\n\n\nOfflineController.prototype.getManifestsList = function (callback) {\n  dirList(appSettings.getSettings().settingsFolder, true, false).then(function (settingsFolderList) {\n    var manifestList = [];\n\n    for (var i = 0, j = settingsFolderList.length; i < j; i++) {\n      manifestList.push(settingsFolderList[i]);\n    }\n\n    callback(null, manifestList);\n  }, function (err) {\n    callback(err);\n  });\n};\n/**\n *\n * @param {Function} callback - function to be called when list with info is ready\n * @param {Boolean} full - if downloaded info should contain all items or only the length\n * @returns {void}\n */\n\n\nOfflineController.prototype.getManifestsListWithInfo = function (callback, full) {\n  var self = this;\n  this.getManifestsList(function (err, list) {\n    if (err) {\n      callback(err);\n    } else {\n      var infoP = [];\n\n      for (var i = 0, j = list.length; i < j; i++) {\n        infoP.push(self.getManifestInfoPromise(list[i], full));\n      }\n\n      Promise.all(infoP).then(function (results) {\n        var newResults = [];\n\n        for (var _i = 0, _j = results.length; _i < _j; _i++) {\n          if (results[_i]) {\n            newResults.push(results[_i]);\n          }\n        }\n\n        callback(null, newResults);\n      }, function (promisesError) {\n        callback(promisesError);\n      });\n    }\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} callback - function to be called when info for manifest is ready\n * @param {Boolean} full - if downloaded info should contain all items or only the length\n * @returns {void}\n */\n\n\nOfflineController.prototype.getManifestInfo = function (manifestId, callback, full) {\n  var self = this;\n\n  function addManifestInfoAndContinue(info) {\n    var manifestName = info.manifest.name;\n    var manifestUrl = info.manifest.url;\n    var manifestLocalUrl = path.resolve(appSettings.getSettings().settingsFolder + "/" + manifestId + "/" + manifestName);\n\n    var manifest = self._manifestController.getManifestById(manifestId);\n\n    if (manifest) {\n      info.manifestInfo = manifest.getJsonInfo();\n      callback(null, info);\n    } else {\n      manifest = new Manifest(manifestId);\n      manifest.loadFromLocal(manifestLocalUrl, manifestUrl).then(function () {\n        self._manifestController.cacheManifest(manifest);\n\n        info.manifestInfo = manifest.getJsonInfo();\n        callback(null, info);\n      }, function (err) {\n        if (err && err.code === "ENOENT") {\n          callback();\n        } else {\n          callback(err);\n        }\n      });\n    }\n  }\n\n  Promise.all([new ReadItem(manifestId, appSettings.getSettings().stores.MANIFEST), new ReadItem(manifestId, appSettings.getSettings().stores.DOWNLOADS.DOWNLOADED), new ReadItem(manifestId, appSettings.getSettings().stores.STATUS), new ReadItem(manifestId, appSettings.getSettings().stores.PERSISTENT), new ReadItem(manifestId, appSettings.getSettings().stores.DATA)]).then(function (results) {\n    var info = {};\n    var manifestSettings = results[0] || {};\n    var downloaded = results[1] || [];\n    var status = results[2] || {};\n    var persistent = results[3] || \'\';\n    var data = results[4] || \'\';\n    info.status = status.status || STATUSES.BROKEN;\n    info.details = status.details || undefined;\n\n    if (!self.downloadStorage.keyExists(manifestId) && info.status === STATUSES.STARTED) {\n      info.status = STATUSES.BROKEN;\n    }\n\n    info.manifest = manifestSettings;\n\n    if (info.manifest.files) {\n      info.manifest.totalFiles = info.manifest.files.length;\n\n      if (full === false) {\n        delete info.manifest.files;\n      }\n    }\n\n    info.left = status.left || 0;\n    info.persistent = persistent;\n    info.downloaded = downloaded.length;\n\n    if (full) {\n      info.downloadedFiles = downloaded;\n    }\n\n    info.data = data;\n    addManifestInfoAndContinue(info);\n  }, callback);\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} callback - function to be called when info for manifest is ready\n * @returns {void}\n */\n\n\nOfflineController.prototype.getManifestFolderInfo = function (manifestId, callback) {\n  Promise.all([new ReadItem(manifestId, appSettings.getSettings().stores.MANIFEST)]).then(function (results) {\n    var info = {};\n    var manifestSettings = results[0] || {};\n    var downloadFolder = manifestSettings.folder;\n\n    if (!downloadFolder) {\n      // try to serve from default download folder\n      downloadFolder = appSettings.getSettings().downloadsFolderPath;\n    }\n\n    var videoFolder = path.join(downloadFolder, manifestId);\n    info.folder = videoFolder; // get size of folder\n\n    getSize(videoFolder, function (err, size) {\n      if (err) {\n        info.size = 0;\n      } else {\n        info.size = size;\n      }\n\n      callback(null, info);\n    });\n  }, callback);\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Boolean} full - if downloaded info should contain all items or only the length\n * @returns {Promise} - promise\n */\n\n\nOfflineController.prototype.getManifestInfoPromise = function (manifestId, full) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.getManifestInfo(manifestId, function (err, result) {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(result);\n      }\n    }, full);\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} callback - callback with resolved info data about manifest - if such exists\n * @returns {void}\n */\n\n\nOfflineController.prototype.getManifestDataFile = function (manifestId, callback) {\n  new ReadItem(manifestId, appSettings.getSettings().stores.MANIFEST).then(function (data) {\n    callback(data);\n  }, function () {\n    callback();\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} onSuccess - callback to be invoked when remove has been successfully\n * @param {Function} onFailure - callback to be invoked when remove failed\n * @returns {void}\n */\n\n\nOfflineController.prototype.remove = function (manifestId, onSuccess, onFailure) {\n  var settingsFolder = appSettings.getSettings().settingsFolder + manifestId;\n  this.getManifestDataFile(manifestId, function (info) {\n    if (!info) {\n      // no manifest data found for manifest, the download has not been started => just remove settings\n      rmdir(settingsFolder, function (err) {\n        if (err && err.code !== "ENOENT") {\n          onFailure(err);\n        } else {\n          onSuccess();\n        }\n      });\n    } else {\n      var folder = info.folder;\n\n      if (!folder) {\n        // use default download folder path\n        folder = path.resolve(appSettings.getSettings().downloadsFolderPath);\n      }\n\n      var downloadsFolder = folder + \'/\' + manifestId;\n      rmdir(downloadsFolder, function (err) {\n        if (err && err.code !== "ENOENT") {\n          onFailure(err);\n        } else {\n          rmdir(settingsFolder, function (err) {\n            if (err && err.code !== "ENOENT") {\n              onFailure(err);\n            } else {\n              onSuccess();\n            }\n          });\n        }\n      });\n    }\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} - promise\n */\n\n\nOfflineController.prototype.removePromise = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.remove(manifestId, resolve, reject);\n  });\n};\n/**\n *\n * @returns {Promise} - promise\n */\n\n\nOfflineController.prototype.removeAllPromise = function () {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    var settingsFolder = appSettings.getSettings().settingsFolder;\n    self.getManifestsList(function (err, list) {\n      if (err) {\n        reject(err);\n      } else {\n        var removeP = [];\n\n        for (var i = 0, j = list.length; i < j; i++) {\n          removeP.push(self.removePromise(list[i]));\n        }\n\n        Promise.all(removeP).then(function () {\n          rmdir(settingsFolder, function (err) {\n            if (err && err.code !== "ENOENT") {\n              reject(err);\n            } else {\n              resolve();\n            }\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n    });\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} onSuccess - callback to be invoked when restore has been successfully\n * @param {Function} onFailure - callback to be invoked when restore failed\n * @returns {void}\n */\n\n\nOfflineController.prototype.restoreLocalManifest = function (manifestId, onSuccess, onFailure) {\n  var self = this;\n  this.getManifestInfo(manifestId, function (err, info) {\n    var representations = {};\n    representations.video = info.manifest.video;\n    representations.audio = info.manifest.audio;\n    representations.text = info.manifest.text;\n\n    self._manifestController.saveManifestWithChosenRepresentations(manifestId, representations).then(onSuccess, onFailure);\n  });\n};\n/**\n *\n * @param {DownloadsStorageController} storage - downloads storage controller\n * @returns {void}\n */\n\n\nOfflineController.prototype.setDownloadStorage = function (storage) {\n  this.downloadStorage = storage;\n};\n\nmodule.exports = OfflineController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxVQUEvRCxFQUEyRXdELGVBQTNFLEVBQ0c1RSxJQURILENBQ1FxRSxTQURSLEVBQ21CQyxTQURuQjtFQUVELENBUEQ7QUFRRCxDQVZEO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E5RSxpQkFBaUIsQ0FBQ0csU0FBbEIsQ0FBNEJzRixrQkFBNUIsR0FBaUQsVUFBVUMsT0FBVixFQUFtQjtFQUNsRSxLQUFLL0IsZUFBTCxHQUF1QitCLE9BQXZCO0FBQ0QsQ0FGRDs7QUFJQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCNUYsaUJBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9jb250cm9sbGVycy9vZmZsaW5lLWNvbnRyb2xsZXIuanM/ZTZiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbmNvbnN0IGdldFNpemUgPSByZXF1aXJlKFwiZ2V0LWZvbGRlci1zaXplXCIpO1xuY29uc3Qgcm1kaXIgPSByZXF1aXJlKFwiLi4vdXRpbC9yZW1vdmUtZGlyXCIpO1xuXG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi9hcHAtc2V0dGluZ3NcIik7XG5jb25zdCBSZWFkSXRlbSA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvcmVhZC1pdGVtXCIpO1xuY29uc3QgZGlyTGlzdCA9IHJlcXVpcmUoXCIuLi91dGlsL2Rpci1saXN0XCIpO1xuY29uc3QgTWFuaWZlc3QgPSByZXF1aXJlKFwiLi4vbWFuaWZlc3QvbG9hZGVyL21hbmlmZXN0XCIpLk1hbmlmZXN0O1xuY29uc3QgU1RBVFVTRVMgPSByZXF1aXJlKFwiLi4vZG93bmxvYWRzL3N0YXR1c2VzXCIpO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge01hbmlmZXN0Q29udHJvbGxlcn0gbWFuaWZlc3RDb250cm9sbGVyIC0gcmVmZXJlbmNlIHRvIGV4aXN0aW5nIG1hbmlmZXN0IGNvbnRyb2xsZXJcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBPZmZsaW5lQ29udHJvbGxlcihtYW5pZmVzdENvbnRyb2xsZXIpIHtcbiAgdGhpcy5fbWFuaWZlc3RDb250cm9sbGVyID0gbWFuaWZlc3RDb250cm9sbGVyO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGxpc3QgaXMgcmVhZHlcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RzTGlzdCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICBkaXJMaXN0KGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc2V0dGluZ3NGb2xkZXIsIHRydWUsIGZhbHNlKVxuICAgIC50aGVuKGZ1bmN0aW9uIChzZXR0aW5nc0ZvbGRlckxpc3QpIHtcbiAgICAgIGxldCBtYW5pZmVzdExpc3QgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gc2V0dGluZ3NGb2xkZXJMaXN0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBtYW5pZmVzdExpc3QucHVzaChzZXR0aW5nc0ZvbGRlckxpc3RbaV0pO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgbWFuaWZlc3RMaXN0KTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBsaXN0IHdpdGggaW5mbyBpcyByZWFkeVxuICogQHBhcmFtIHtCb29sZWFufSBmdWxsIC0gaWYgZG93bmxvYWRlZCBpbmZvIHNob3VsZCBjb250YWluIGFsbCBpdGVtcyBvciBvbmx5IHRoZSBsZW5ndGhcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RzTGlzdFdpdGhJbmZvID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBmdWxsKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLmdldE1hbmlmZXN0c0xpc3QoZnVuY3Rpb24gKGVyciwgbGlzdCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpbmZvUCA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBsaXN0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBpbmZvUC5wdXNoKHNlbGYuZ2V0TWFuaWZlc3RJbmZvUHJvbWlzZShsaXN0W2ldLCBmdWxsKSlcbiAgICAgIH1cbiAgICAgIFByb21pc2UuYWxsKGluZm9QKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIGxldCBuZXdSZXN1bHRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBpZiAocmVzdWx0c1tpXSkge1xuICAgICAgICAgICAgbmV3UmVzdWx0cy5wdXNoKHJlc3VsdHNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhudWxsLCBuZXdSZXN1bHRzKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChwcm9taXNlc0Vycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrKHByb21pc2VzRXJyb3IpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBpbmZvIGZvciBtYW5pZmVzdCBpcyByZWFkeVxuICogQHBhcmFtIHtCb29sZWFufSBmdWxsIC0gaWYgZG93bmxvYWRlZCBpbmZvIHNob3VsZCBjb250YWluIGFsbCBpdGVtcyBvciBvbmx5IHRoZSBsZW5ndGhcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RJbmZvID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGNhbGxiYWNrLCBmdWxsKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGFkZE1hbmlmZXN0SW5mb0FuZENvbnRpbnVlKGluZm8pIHtcbiAgICBjb25zdCBtYW5pZmVzdE5hbWUgPSBpbmZvLm1hbmlmZXN0Lm5hbWU7XG4gICAgY29uc3QgbWFuaWZlc3RVcmwgPSBpbmZvLm1hbmlmZXN0LnVybDtcbiAgICBjb25zdCBtYW5pZmVzdExvY2FsVXJsID0gcGF0aC5yZXNvbHZlKGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc2V0dGluZ3NGb2xkZXIgKyBcIi9cIiArIG1hbmlmZXN0SWQgKyBcIi9cIiArIG1hbmlmZXN0TmFtZSk7XG5cbiAgICBsZXQgbWFuaWZlc3QgPSBzZWxmLl9tYW5pZmVzdENvbnRyb2xsZXIuZ2V0TWFuaWZlc3RCeUlkKG1hbmlmZXN0SWQpO1xuICAgIGlmIChtYW5pZmVzdCkge1xuICAgICAgaW5mby5tYW5pZmVzdEluZm8gPSBtYW5pZmVzdC5nZXRKc29uSW5mbygpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hbmlmZXN0ID0gbmV3IE1hbmlmZXN0KG1hbmlmZXN0SWQpO1xuICAgICAgbWFuaWZlc3QubG9hZEZyb21Mb2NhbChtYW5pZmVzdExvY2FsVXJsLCBtYW5pZmVzdFVybCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX21hbmlmZXN0Q29udHJvbGxlci5jYWNoZU1hbmlmZXN0KG1hbmlmZXN0KTtcbiAgICAgICAgaW5mby5tYW5pZmVzdEluZm8gPSBtYW5pZmVzdC5nZXRKc29uSW5mbygpO1xuICAgICAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciAmJiBlcnIuY29kZSA9PT0gXCJFTk9FTlRcIikge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgUHJvbWlzZS5hbGwoW1xuICAgIG5ldyBSZWFkSXRlbShtYW5pZmVzdElkLCBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnN0b3Jlcy5NQU5JRkVTVCksXG4gICAgbmV3IFJlYWRJdGVtKG1hbmlmZXN0SWQsIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzLkRPV05MT0FEUy5ET1dOTE9BREVEKSxcbiAgICBuZXcgUmVhZEl0ZW0obWFuaWZlc3RJZCwgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zdG9yZXMuU1RBVFVTKSxcbiAgICBuZXcgUmVhZEl0ZW0obWFuaWZlc3RJZCwgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zdG9yZXMuUEVSU0lTVEVOVCksXG4gICAgbmV3IFJlYWRJdGVtKG1hbmlmZXN0SWQsIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzLkRBVEEpLFxuICBdKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgbGV0IGluZm8gPSB7fTtcbiAgICBjb25zdCBtYW5pZmVzdFNldHRpbmdzID0gcmVzdWx0c1swXSB8fCB7fTtcblxuICAgIGNvbnN0IGRvd25sb2FkZWQgPSByZXN1bHRzWzFdIHx8IFtdO1xuICAgIGNvbnN0IHN0YXR1cyA9IHJlc3VsdHNbMl0gfHwge307XG4gICAgY29uc3QgcGVyc2lzdGVudCA9IHJlc3VsdHNbM10gfHwgJyc7XG4gICAgY29uc3QgZGF0YSA9IHJlc3VsdHNbNF0gfHwgJyc7XG5cbiAgICBpbmZvLnN0YXR1cyA9IHN0YXR1cy5zdGF0dXMgfHwgU1RBVFVTRVMuQlJPS0VOO1xuICAgIGluZm8uZGV0YWlscyA9IHN0YXR1cy5kZXRhaWxzIHx8IHVuZGVmaW5lZDtcbiAgICBpZiAoIXNlbGYuZG93bmxvYWRTdG9yYWdlLmtleUV4aXN0cyhtYW5pZmVzdElkKSAmJiBpbmZvLnN0YXR1cyA9PT0gU1RBVFVTRVMuU1RBUlRFRCkge1xuICAgICAgaW5mby5zdGF0dXMgPSBTVEFUVVNFUy5CUk9LRU47XG4gICAgfVxuICAgIGluZm8ubWFuaWZlc3QgPSBtYW5pZmVzdFNldHRpbmdzO1xuICAgIGlmIChpbmZvLm1hbmlmZXN0LmZpbGVzKSB7XG4gICAgICBpbmZvLm1hbmlmZXN0LnRvdGFsRmlsZXMgPSBpbmZvLm1hbmlmZXN0LmZpbGVzLmxlbmd0aDtcbiAgICAgIGlmIChmdWxsID09PSBmYWxzZSkge1xuICAgICAgICBkZWxldGUgaW5mby5tYW5pZmVzdC5maWxlcztcbiAgICAgIH1cbiAgICB9XG4gICAgaW5mby5sZWZ0ID0gc3RhdHVzLmxlZnQgfHwgMDtcbiAgICBpbmZvLnBlcnNpc3RlbnQgPSBwZXJzaXN0ZW50O1xuICAgIGluZm8uZG93bmxvYWRlZCA9IGRvd25sb2FkZWQubGVuZ3RoO1xuICAgIGlmIChmdWxsKSB7XG4gICAgICBpbmZvLmRvd25sb2FkZWRGaWxlcyA9IGRvd25sb2FkZWQ7XG4gICAgfVxuICAgIGluZm8uZGF0YSA9IGRhdGE7XG4gICAgYWRkTWFuaWZlc3RJbmZvQW5kQ29udGludWUoaW5mbyk7XG5cbiAgfSwgY2FsbGJhY2spO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGluZm8gZm9yIG1hbmlmZXN0IGlzIHJlYWR5XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuT2ZmbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmdldE1hbmlmZXN0Rm9sZGVySW5mbyA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBjYWxsYmFjaykge1xuICBQcm9taXNlLmFsbChbXG4gICAgbmV3IFJlYWRJdGVtKG1hbmlmZXN0SWQsIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzLk1BTklGRVNUKSxcbiAgXSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgIGxldCBpbmZvID0ge307XG4gICAgY29uc3QgbWFuaWZlc3RTZXR0aW5ncyA9IHJlc3VsdHNbMF0gfHwge307XG5cbiAgICBsZXQgZG93bmxvYWRGb2xkZXIgPSBtYW5pZmVzdFNldHRpbmdzLmZvbGRlcjtcbiAgICBpZiAoIWRvd25sb2FkRm9sZGVyKSB7XG4gICAgICAvLyB0cnkgdG8gc2VydmUgZnJvbSBkZWZhdWx0IGRvd25sb2FkIGZvbGRlclxuICAgICAgZG93bmxvYWRGb2xkZXIgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLmRvd25sb2Fkc0ZvbGRlclBhdGhcbiAgICB9XG4gICAgbGV0IHZpZGVvRm9sZGVyID0gcGF0aC5qb2luKGRvd25sb2FkRm9sZGVyLCBtYW5pZmVzdElkKTtcblxuICAgIGluZm8uZm9sZGVyID0gdmlkZW9Gb2xkZXI7XG5cbiAgICAvLyBnZXQgc2l6ZSBvZiBmb2xkZXJcbiAgICBnZXRTaXplKHZpZGVvRm9sZGVyLCAoZXJyLCBzaXplKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGluZm8uc2l6ZSA9IDBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZm8uc2l6ZSA9IHNpemU7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgICB9KTtcblxuICB9LCBjYWxsYmFjayk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZnVsbCAtIGlmIGRvd25sb2FkZWQgaW5mbyBzaG91bGQgY29udGFpbiBhbGwgaXRlbXMgb3Igb25seSB0aGUgbGVuZ3RoXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbk9mZmxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5nZXRNYW5pZmVzdEluZm9Qcm9taXNlID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGZ1bGwpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc2VsZi5nZXRNYW5pZmVzdEluZm8obWFuaWZlc3RJZCwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9XG4gICAgfSwgZnVsbClcbiAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gY2FsbGJhY2sgd2l0aCByZXNvbHZlZCBpbmZvIGRhdGEgYWJvdXQgbWFuaWZlc3QgLSBpZiBzdWNoIGV4aXN0c1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbk9mZmxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5nZXRNYW5pZmVzdERhdGFGaWxlID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGNhbGxiYWNrKSB7XG4gIG5ldyBSZWFkSXRlbShtYW5pZmVzdElkLCBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnN0b3Jlcy5NQU5JRkVTVCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgIGNhbGxiYWNrKGRhdGEpO1xuICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfSlcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdWNjZXNzIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHJlbW92ZSBoYXMgYmVlbiBzdWNjZXNzZnVsbHlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRmFpbHVyZSAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiByZW1vdmUgZmFpbGVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuT2ZmbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBjb25zdCBzZXR0aW5nc0ZvbGRlciA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc2V0dGluZ3NGb2xkZXIgKyBtYW5pZmVzdElkO1xuICB0aGlzLmdldE1hbmlmZXN0RGF0YUZpbGUobWFuaWZlc3RJZCwgZnVuY3Rpb24gKGluZm8pIHtcbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIC8vIG5vIG1hbmlmZXN0IGRhdGEgZm91bmQgZm9yIG1hbmlmZXN0LCB0aGUgZG93bmxvYWQgaGFzIG5vdCBiZWVuIHN0YXJ0ZWQgPT4ganVzdCByZW1vdmUgc2V0dGluZ3NcbiAgICAgIHJtZGlyKHNldHRpbmdzRm9sZGVyLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09IFwiRU5PRU5UXCIpIHtcbiAgICAgICAgICBvbkZhaWx1cmUoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGZvbGRlciA9IGluZm8uZm9sZGVyO1xuICAgICAgaWYgKCFmb2xkZXIpIHtcbiAgICAgICAgLy8gdXNlIGRlZmF1bHQgZG93bmxvYWQgZm9sZGVyIHBhdGhcbiAgICAgICAgZm9sZGVyID0gcGF0aC5yZXNvbHZlKGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZG93bmxvYWRzRm9sZGVyUGF0aCk7XG4gICAgICB9XG4gICAgICBjb25zdCBkb3dubG9hZHNGb2xkZXIgPSBmb2xkZXIgKyAnLycgKyBtYW5pZmVzdElkO1xuICAgICAgcm1kaXIoZG93bmxvYWRzRm9sZGVyLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09IFwiRU5PRU5UXCIpIHtcbiAgICAgICAgICBvbkZhaWx1cmUoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBybWRpcihzZXR0aW5nc0ZvbGRlciwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaWYgKGVyciAmJiBlcnIuY29kZSAhPT0gXCJFTk9FTlRcIikge1xuICAgICAgICAgICAgICBvbkZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSlcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlUHJvbWlzZSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHNlbGYucmVtb3ZlKG1hbmlmZXN0SWQsIHJlc29sdmUsIHJlamVjdCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlQWxsUHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3Qgc2V0dGluZ3NGb2xkZXIgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnNldHRpbmdzRm9sZGVyO1xuXG4gICAgc2VsZi5nZXRNYW5pZmVzdHNMaXN0KGZ1bmN0aW9uIChlcnIsIGxpc3QpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcmVtb3ZlUCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IGxpc3QubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgcmVtb3ZlUC5wdXNoKHNlbGYucmVtb3ZlUHJvbWlzZShsaXN0W2ldKSlcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlLmFsbChyZW1vdmVQKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBybWRpcihzZXR0aW5nc0ZvbGRlciwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaWYgKGVyciAmJiBlcnIuY29kZSAhPT0gXCJFTk9FTlRcIikge1xuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiByZXN0b3JlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHJlc3RvcmUgZmFpbGVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuT2ZmbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLnJlc3RvcmVMb2NhbE1hbmlmZXN0ID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLmdldE1hbmlmZXN0SW5mbyhtYW5pZmVzdElkLCBmdW5jdGlvbiAoZXJyLCBpbmZvKSB7XG4gICAgbGV0IHJlcHJlc2VudGF0aW9ucyA9IHt9O1xuICAgIHJlcHJlc2VudGF0aW9ucy52aWRlbyA9IGluZm8ubWFuaWZlc3QudmlkZW87XG4gICAgcmVwcmVzZW50YXRpb25zLmF1ZGlvID0gaW5mby5tYW5pZmVzdC5hdWRpbztcbiAgICByZXByZXNlbnRhdGlvbnMudGV4dCA9IGluZm8ubWFuaWZlc3QudGV4dDtcbiAgICBzZWxmLl9tYW5pZmVzdENvbnRyb2xsZXIuc2F2ZU1hbmlmZXN0V2l0aENob3NlblJlcHJlc2VudGF0aW9ucyhtYW5pZmVzdElkLCByZXByZXNlbnRhdGlvbnMpXG4gICAgICAudGhlbihvblN1Y2Nlc3MsIG9uRmFpbHVyZSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtEb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlcn0gc3RvcmFnZSAtIGRvd25sb2FkcyBzdG9yYWdlIGNvbnRyb2xsZXJcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuc2V0RG93bmxvYWRTdG9yYWdlID0gZnVuY3Rpb24gKHN0b3JhZ2UpIHtcbiAgdGhpcy5kb3dubG9hZFN0b3JhZ2UgPSBzdG9yYWdlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPZmZsaW5lQ29udHJvbGxlcjtcbiJdLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImdldFNpemUiLCJybWRpciIsImFwcFNldHRpbmdzIiwiUmVhZEl0ZW0iLCJkaXJMaXN0IiwiTWFuaWZlc3QiLCJTVEFUVVNFUyIsIk9mZmxpbmVDb250cm9sbGVyIiwibWFuaWZlc3RDb250cm9sbGVyIiwiX21hbmlmZXN0Q29udHJvbGxlciIsInByb3RvdHlwZSIsImdldE1hbmlmZXN0c0xpc3QiLCJjYWxsYmFjayIsImdldFNldHRpbmdzIiwic2V0dGluZ3NGb2xkZXIiLCJ0aGVuIiwic2V0dGluZ3NGb2xkZXJMaXN0IiwibWFuaWZlc3RMaXN0IiwiaSIsImoiLCJsZW5ndGgiLCJwdXNoIiwiZXJyIiwiZ2V0TWFuaWZlc3RzTGlzdFdpdGhJbmZvIiwiZnVsbCIsInNlbGYiLCJsaXN0IiwiaW5mb1AiLCJnZXRNYW5pZmVzdEluZm9Qcm9taXNlIiwiUHJvbWlzZSIsImFsbCIsInJlc3VsdHMiLCJuZXdSZXN1bHRzIiwicHJvbWlzZXNFcnJvciIsImdldE1hbmlmZXN0SW5mbyIsIm1hbmlmZXN0SWQiLCJhZGRNYW5pZmVzdEluZm9BbmRDb250aW51ZSIsImluZm8iLCJtYW5pZmVzdE5hbWUiLCJtYW5pZmVzdCIsIm5hbWUiLCJtYW5pZmVzdFVybCIsInVybCIsIm1hbmlmZXN0TG9jYWxVcmwiLCJyZXNvbHZlIiwiZ2V0TWFuaWZlc3RCeUlkIiwibWFuaWZlc3RJbmZvIiwiZ2V0SnNvbkluZm8iLCJsb2FkRnJvbUxvY2FsIiwiY2FjaGVNYW5pZmVzdCIsImNvZGUiLCJzdG9yZXMiLCJNQU5JRkVTVCIsIkRPV05MT0FEUyIsIkRPV05MT0FERUQiLCJTVEFUVVMiLCJQRVJTSVNURU5UIiwiREFUQSIsIm1hbmlmZXN0U2V0dGluZ3MiLCJkb3dubG9hZGVkIiwic3RhdHVzIiwicGVyc2lzdGVudCIsImRhdGEiLCJCUk9LRU4iLCJkZXRhaWxzIiwidW5kZWZpbmVkIiwiZG93bmxvYWRTdG9yYWdlIiwia2V5RXhpc3RzIiwiU1RBUlRFRCIsImZpbGVzIiwidG90YWxGaWxlcyIsImxlZnQiLCJkb3dubG9hZGVkRmlsZXMiLCJnZXRNYW5pZmVzdEZvbGRlckluZm8iLCJkb3dubG9hZEZvbGRlciIsImZvbGRlciIsImRvd25sb2Fkc0ZvbGRlclBhdGgiLCJ2aWRlb0ZvbGRlciIsImpvaW4iLCJzaXplIiwicmVqZWN0IiwicmVzdWx0IiwiZ2V0TWFuaWZlc3REYXRhRmlsZSIsInJlbW92ZSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsImRvd25sb2Fkc0ZvbGRlciIsInJlbW92ZVByb21pc2UiLCJyZW1vdmVBbGxQcm9taXNlIiwicmVtb3ZlUCIsInJlc3RvcmVMb2NhbE1hbmlmZXN0IiwicmVwcmVzZW50YXRpb25zIiwidmlkZW8iLCJhdWRpbyIsInRleHQiLCJzYXZlTWFuaWZlc3RXaXRoQ2hvc2VuUmVwcmVzZW50YXRpb25zIiwic2V0RG93bmxvYWRTdG9yYWdlIiwic3RvcmFnZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7094\n')},9256:module=>{"use strict";eval('\n/**\n *\n * @constructor\n */\n\nfunction SubscribersController() {\n  this._subscribers = {};\n}\n/**\n *\n * @param {Subscriber} subscriber - subscriber\n * @returns {void}\n */\n\n\nSubscribersController.prototype.addSubscriber = function (subscriber) {\n  var id = subscriber.getId();\n  this._subscribers[id] = subscriber;\n  return id;\n};\n/**\n *\n * @param {Array|String} subscribersId - subscriber identifier\n * @returns {void}\n */\n\n\nSubscribersController.prototype.removeSubscribersById = function (subscribersId) {\n  if (typeof subscribersId === "string") {\n    subscribersId = [subscribersId];\n  }\n\n  for (var i = 0, j = subscribersId.length; i < j; i++) {\n    if (this._subscribers[subscribersId[i]]) {\n      this._subscribers[subscribersId[i]].remove();\n\n      delete this._subscribers[subscribersId[i]];\n    }\n  }\n};\n/**\n *\n * Remove all subscribers for certain manifest based on any subscriberId that belongs to this manifest\n * @param {Array|String} subscriberId - subscriber identifier\n * @returns {void}\n */\n\n\nSubscribersController.prototype.removeAllManifestSubscribersById = function (subscriberId) {\n  var subscriber = subscriberId && this._subscribers[subscriberId];\n\n  if (subscriber) {\n    this.unsubscribe(subscriber.getManifestId());\n  }\n};\n/**\n *\n * @param {Array|String} manifestIds - manifest or manifests identifier\n * @returns {void}\n */\n\n\nSubscribersController.prototype.unsubscribe = function (manifestIds) {\n  var subscribersId = [];\n  var manifestIdsHash = {};\n\n  if (typeof manifestIds === "string") {\n    manifestIds = [manifestIds];\n  }\n\n  manifestIds = manifestIds || [];\n\n  for (var i = 0, j = manifestIds.length; i < j; i++) {\n    manifestIdsHash[manifestIds[i]] = true;\n  }\n\n  for (var key in this._subscribers) {\n    if (this._subscribers.hasOwnProperty(key)) {\n      if (manifestIdsHash[this._subscribers[key].getManifestId()]) {\n        subscribersId.push(key);\n      }\n    }\n  }\n\n  this.removeSubscribersById(subscribersId);\n};\n/**\n * @returns {void}\n */\n\n\nSubscribersController.prototype.unsubscribeAll = function () {\n  for (var key in this._subscribers) {\n    if (this._subscribers.hasOwnProperty(key)) {\n      this._subscribers[key].remove();\n    }\n  }\n\n  this._subscribers = {};\n};\n\nmodule.exports = SubscribersController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q29CLGNBQWhDLEdBQWlELFlBQVk7RUFDM0QsS0FBSyxJQUFJSCxHQUFULElBQWdCLEtBQUtsQixZQUFyQixFQUFtQztJQUNqQyxJQUFJLEtBQUtBLFlBQUwsQ0FBa0JtQixjQUFsQixDQUFpQ0QsR0FBakMsQ0FBSixFQUEyQztNQUN6QyxLQUFLbEIsWUFBTCxDQUFrQmtCLEdBQWxCLEVBQXVCUCxNQUF2QjtJQUNEO0VBQ0Y7O0VBQ0QsS0FBS1gsWUFBTCxHQUFvQixFQUFwQjtBQUNELENBUEQ7O0FBU0FzQixNQUFNLENBQUNDLE9BQVAsR0FBaUJ4QixxQkFBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2NvbnRyb2xsZXJzL3N1YnNjcmliZXJzLWNvbnRyb2xsZXIuanM/YTg0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBTdWJzY3JpYmVyc0NvbnRyb2xsZXIgKCkge1xuICB0aGlzLl9zdWJzY3JpYmVycyA9IHt9O1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1N1YnNjcmliZXJ9IHN1YnNjcmliZXIgLSBzdWJzY3JpYmVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3Vic2NyaWJlcnNDb250cm9sbGVyLnByb3RvdHlwZS5hZGRTdWJzY3JpYmVyID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgY29uc3QgaWQgPSBzdWJzY3JpYmVyLmdldElkKCk7XG4gIHRoaXMuX3N1YnNjcmliZXJzW2lkXSA9IHN1YnNjcmliZXI7XG4gIHJldHVybiBpZDtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBzdWJzY3JpYmVyc0lkIC0gc3Vic2NyaWJlciBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3Vic2NyaWJlcnNDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVTdWJzY3JpYmVyc0J5SWQgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcnNJZCkge1xuICBpZiAodHlwZW9mIHN1YnNjcmliZXJzSWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICBzdWJzY3JpYmVyc0lkID0gW3N1YnNjcmliZXJzSWRdO1xuICB9XG4gIGZvciAobGV0IGkgPSAwLCBqID0gc3Vic2NyaWJlcnNJZC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBpZiAodGhpcy5fc3Vic2NyaWJlcnNbc3Vic2NyaWJlcnNJZFtpXV0pIHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzW3N1YnNjcmliZXJzSWRbaV1dLnJlbW92ZSgpO1xuICAgICAgZGVsZXRlKHRoaXMuX3N1YnNjcmliZXJzW3N1YnNjcmliZXJzSWRbaV1dKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIFJlbW92ZSBhbGwgc3Vic2NyaWJlcnMgZm9yIGNlcnRhaW4gbWFuaWZlc3QgYmFzZWQgb24gYW55IHN1YnNjcmliZXJJZCB0aGF0IGJlbG9uZ3MgdG8gdGhpcyBtYW5pZmVzdFxuICogQHBhcmFtIHtBcnJheXxTdHJpbmd9IHN1YnNjcmliZXJJZCAtIHN1YnNjcmliZXIgaWRlbnRpZmllclxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN1YnNjcmliZXJzQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlQWxsTWFuaWZlc3RTdWJzY3JpYmVyc0J5SWQgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcklkKSB7XG4gIGxldCBzdWJzY3JpYmVyID0gc3Vic2NyaWJlcklkICYmIHRoaXMuX3N1YnNjcmliZXJzW3N1YnNjcmliZXJJZF07XG4gIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgdGhpcy51bnN1YnNjcmliZShzdWJzY3JpYmVyLmdldE1hbmlmZXN0SWQoKSk7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBtYW5pZmVzdElkcyAtIG1hbmlmZXN0IG9yIG1hbmlmZXN0cyBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3Vic2NyaWJlcnNDb250cm9sbGVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkcykge1xuICBsZXQgc3Vic2NyaWJlcnNJZCA9IFtdO1xuICBsZXQgbWFuaWZlc3RJZHNIYXNoID0ge307XG4gIGlmICh0eXBlb2YgbWFuaWZlc3RJZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICBtYW5pZmVzdElkcyA9IFttYW5pZmVzdElkc107XG4gIH1cbiAgbWFuaWZlc3RJZHMgPSBtYW5pZmVzdElkcyB8fCBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBtYW5pZmVzdElkcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBtYW5pZmVzdElkc0hhc2hbbWFuaWZlc3RJZHNbaV1dID0gdHJ1ZTtcbiAgfVxuXG4gIGZvciAobGV0IGtleSBpbiB0aGlzLl9zdWJzY3JpYmVycykge1xuICAgIGlmICh0aGlzLl9zdWJzY3JpYmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBpZiAobWFuaWZlc3RJZHNIYXNoW3RoaXMuX3N1YnNjcmliZXJzW2tleV0uZ2V0TWFuaWZlc3RJZCgpXSkge1xuICAgICAgICBzdWJzY3JpYmVyc0lkLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLnJlbW92ZVN1YnNjcmliZXJzQnlJZChzdWJzY3JpYmVyc0lkKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN1YnNjcmliZXJzQ29udHJvbGxlci5wcm90b3R5cGUudW5zdWJzY3JpYmVBbGwgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAobGV0IGtleSBpbiB0aGlzLl9zdWJzY3JpYmVycykge1xuICAgIGlmICh0aGlzLl9zdWJzY3JpYmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVyc1trZXldLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuICB0aGlzLl9zdWJzY3JpYmVycyA9IHt9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdWJzY3JpYmVyc0NvbnRyb2xsZXI7XG4iXSwibmFtZXMiOlsiU3Vic2NyaWJlcnNDb250cm9sbGVyIiwiX3N1YnNjcmliZXJzIiwicHJvdG90eXBlIiwiYWRkU3Vic2NyaWJlciIsInN1YnNjcmliZXIiLCJpZCIsImdldElkIiwicmVtb3ZlU3Vic2NyaWJlcnNCeUlkIiwic3Vic2NyaWJlcnNJZCIsImkiLCJqIiwibGVuZ3RoIiwicmVtb3ZlIiwicmVtb3ZlQWxsTWFuaWZlc3RTdWJzY3JpYmVyc0J5SWQiLCJzdWJzY3JpYmVySWQiLCJ1bnN1YnNjcmliZSIsImdldE1hbmlmZXN0SWQiLCJtYW5pZmVzdElkcyIsIm1hbmlmZXN0SWRzSGFzaCIsImtleSIsImhhc093blByb3BlcnR5IiwicHVzaCIsInVuc3Vic2NyaWJlQWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9256\n')},6999:module=>{"use strict";eval("\n\nvar codes = {\n  GENERAL: -1,\n  ERRORS: {\n    INTERNAL_ERROR: 1,\n    BROKEN: 11,\n    FINISHED: 12,\n    UNFINISHED: 13,\n    STOPPED: 14,\n    CREATED: 15,\n    MISSING: 16,\n    RESUMED: 17,\n    STARTED: 18,\n    LOADING: 19,\n    REMOVED: 20,\n    INFO: 21,\n    EXISTS: 22,\n    NOT_FOUND: 100\n  }\n};\nmodule.exports = codes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjk5OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxLQUFLLEdBQUc7RUFDWkMsT0FBTyxFQUFFLENBQUMsQ0FERTtFQUVaQyxNQUFNLEVBQUU7SUFDTkMsY0FBYyxFQUFFLENBRFY7SUFFTkMsTUFBTSxFQUFFLEVBRkY7SUFHTkMsUUFBUSxFQUFFLEVBSEo7SUFJTkMsVUFBVSxFQUFFLEVBSk47SUFLTkMsT0FBTyxFQUFFLEVBTEg7SUFNTkMsT0FBTyxFQUFFLEVBTkg7SUFPTkMsT0FBTyxFQUFFLEVBUEg7SUFRTkMsT0FBTyxFQUFFLEVBUkg7SUFTTkMsT0FBTyxFQUFFLEVBVEg7SUFVTkMsT0FBTyxFQUFFLEVBVkg7SUFXTkMsT0FBTyxFQUFFLEVBWEg7SUFZTkMsSUFBSSxFQUFFLEVBWkE7SUFhTkMsTUFBTSxFQUFFLEVBYkY7SUFjTkMsU0FBUyxFQUFFO0VBZEw7QUFGSSxDQUFkO0FBbUJBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJsQixLQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL2NvZGVzLmpzPzhlYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBjb2RlcyA9IHtcbiAgR0VORVJBTDogLTEsXG4gIEVSUk9SUzoge1xuICAgIElOVEVSTkFMX0VSUk9SOiAxLFxuICAgIEJST0tFTjogMTEsXG4gICAgRklOSVNIRUQ6IDEyLFxuICAgIFVORklOSVNIRUQ6IDEzLFxuICAgIFNUT1BQRUQ6IDE0LFxuICAgIENSRUFURUQ6IDE1LFxuICAgIE1JU1NJTkc6IDE2LFxuICAgIFJFU1VNRUQ6IDE3LFxuICAgIFNUQVJURUQ6IDE4LFxuICAgIExPQURJTkc6IDE5LFxuICAgIFJFTU9WRUQ6IDIwLFxuICAgIElORk86IDIxLFxuICAgIEVYSVNUUzogMjIsXG4gICAgTk9UX0ZPVU5EOiAxMDAsXG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGNvZGVzO1xuXG4iXSwibmFtZXMiOlsiY29kZXMiLCJHRU5FUkFMIiwiRVJST1JTIiwiSU5URVJOQUxfRVJST1IiLCJCUk9LRU4iLCJGSU5JU0hFRCIsIlVORklOSVNIRUQiLCJTVE9QUEVEIiwiQ1JFQVRFRCIsIk1JU1NJTkciLCJSRVNVTUVEIiwiU1RBUlRFRCIsIkxPQURJTkciLCJSRU1PVkVEIiwiSU5GTyIsIkVYSVNUUyIsIk5PVF9GT1VORCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6999\n")},6006:(module,__unused_webpack_exports,__webpack_require__)=>{eval('var downloadFileUtil = __webpack_require__(2777);\n\nvar fs = __webpack_require__(7147);\n\nvar _require = __webpack_require__(7194),\n    net = _require.net;\n\nvar EventEmitter = (__webpack_require__(2361).EventEmitter);\n/**\n *\n * @param {string} url - url\n * @param {object} options - options\n * @returns {Chunk} - chunk object\n * @constructor\n */\n\n\nfunction Chunk(url, options) {\n  var self = this;\n  this.url = url;\n  this.options = options;\n  this.endPosition = options.endPosition;\n  this.startPosition = options.startPosition;\n  this.bytesRangeNotAvailable = options.bytesRangeNotAvailable;\n  this.reset();\n  this.events = new EventEmitter();\n  this._promise = new Promise(function (resolve, reject) {\n    self.resolve = resolve;\n    self.reject = reject;\n  });\n  return this;\n}\n\nChunk.prototype._retry = function (errorType, callback) {\n  var self = this;\n  var maxDownloadRetry;\n  this._errors = this._errors || {};\n  this._errors[errorType] = this._errors[errorType] || 0;\n  this._errors[errorType]++;\n\n  if (errorType === downloadFileUtil.errors.INTERNET) {\n    maxDownloadRetry = this.options.maxDownloadInternetRetry;\n  } else {\n    maxDownloadRetry = this.options.maxDownloadRetry;\n  }\n\n  if (this._errors[errorType] <= maxDownloadRetry) {\n    if (self._timer) {\n      clearTimeout(self._timer);\n    }\n\n    callback(true);\n    self._timer = setTimeout(function () {\n      // console.log("retrying chunk", errorType, self.destFile);\n      self.reset(function () {\n        self.start();\n      });\n    }, self.options.retryTimeout);\n  } else {\n    // console.log("not retrying chunk", errorType, self._errors[errorType]);\n    callback(false);\n  }\n};\n\nChunk.prototype.createFileStream = function (callback) {\n  var self = this;\n\n  if (!this.fileStream) {\n    var destFile = this.options.destFile;\n\n    if (this.options.multiChunks) {\n      destFile = destFile + "." + this.startPosition + "." + this.endPosition;\n    }\n\n    downloadFileUtil.checkForLocalFile(destFile, function (resumeFile, fileSize) {\n      self.destFile = destFile;\n\n      if (resumeFile) {\n        if (fileSize <= self.endPosition - self.startPosition) {\n          self.resumeFile = resumeFile;\n          self.available = fileSize;\n          self.offsetStartPosition = fileSize;\n        }\n      }\n\n      self.fileStream = fs.createWriteStream(destFile, {\n        flags: self.resumeFile ? "a" : "w"\n      });\n      self.fileStream.on("error", callback);\n      self.fileStream.on("open", function () {\n        // for unknown reason from time to time the file descriptor of self.fileStream is null\n        // when event \'open\' is fired then the file descriptor is not a null anymore\n        // this should fix a problem with EBADF error\n        // a bug in fs ?\n        self.fileStream = this;\n        this.removeListener("error", callback);\n        this.on("error", function (error) {\n          if (error.code === "ENOSPC") {\n            // no space left on disk, do not retry downloading\n            self.resolve(downloadFileUtil.errors.NO_SPACE_LEFT_ERROR, error);\n          } else {\n            self._retry(downloadFileUtil.errors.FILE_WRITING_ERROR, function (retried) {\n              if (!retried) {\n                self.resolve(downloadFileUtil.errors.FILE_WRITING_ERROR, error);\n              }\n            });\n          }\n        });\n        this.on("finish", function () {\n          if (!self.isDownloaded()) {\n            self._retry(downloadFileUtil.errors.CHUNK_SIZE_ERROR, function (retried) {\n              if (!retried) {\n                self.closeStreamAndRequest(function () {\n                  self.resolve(downloadFileUtil.errors.CHUNK_SIZE_ERROR);\n                });\n              }\n            });\n          } else {\n            self.closeStreamAndRequest(self.resolve);\n          }\n        });\n        callback();\n      });\n    });\n  } else {\n    callback();\n  }\n};\n\nChunk.prototype.isDownloaded = function () {\n  return this.endPosition - this.startPosition - this.offsetStartPosition + 1 === this.downloaded;\n};\n\nChunk.prototype.start = function () {\n  var self = this;\n  var req_options = {\n    timeout: this.options.timeout,\n    url: this.url\n  };\n  self.createFileStream(function (err) {\n    if (err) {\n      self._retry(downloadFileUtil.errors.FILE_CREATING_ERROR, function (retried) {\n        if (!retried) {\n          self.closeStreamAndRequest(function () {\n            self.resolve(downloadFileUtil.errors.FILE_CREATING_ERROR, err);\n          });\n        }\n      });\n\n      return;\n    }\n\n    req_options.headers = req_options.headers || {};\n\n    if (!self.bytesRangeNotAvailable) {\n      req_options.headers.range = "bytes=" + (self.startPosition + self.offsetStartPosition) + "-" + self.endPosition;\n    }\n\n    self._req = net.request(req_options);\n    self._req.chunkedEncoding = self.options.useChunkedEncoding;\n\n    self._req.on(\'response\', function (response) {\n      response.on("error", function (error) {\n        if (error.code === "ESOCKETTIMEDOUT" || error.code === "ENOTFOUND" || error.code === "ETIMEDOUT") {\n          self._retry(downloadFileUtil.errors.INTERNET, function (retried) {\n            if (!retried) {\n              self.closeStreamAndRequest(function () {\n                self.resolve(downloadFileUtil.errors.TIMEOUT, error);\n              });\n            }\n          });\n        } else {\n          self.closeStreamAndRequest(function () {\n            self.resolve(downloadFileUtil.errors.CHUNK_ERROR);\n          });\n        }\n      });\n      response.on("data", function (data) {\n        if (response.statusCode === 200 || response.statusCode === 206) {\n          self.available += data.length;\n          self.downloaded += data.length;\n          self.events.emit("download", data.length);\n        }\n      });\n      response.pipe(self.fileStream);\n    });\n\n    self._req.end();\n  });\n  return this._promise;\n};\n\nChunk.prototype.closeStreamAndRequest = function (callback) {\n  var self = this;\n  var timer;\n  var timerTimoutMS = 300;\n\n  function onClose() {\n    clearTimeout(timer);\n\n    if (self.fileStream) {\n      self.fileStream.destroy();\n      delete self.fileStream;\n    }\n\n    delete self._req;\n    callback();\n  }\n\n  if (this._req) {\n    this._req.removeAllListeners();\n  }\n\n  if (this.fileStream) {\n    this.fileStream.removeAllListeners();\n  }\n\n  if (this._req) {\n    this._req.abort();\n\n    if (this._req.timeoutTimer) {\n      clearTimeout(this._req.timeoutTimer);\n      this._req.timeoutTimer = null;\n    }\n  }\n\n  if (this.fileStream) {\n    timer = setTimeout(function () {\n      onClose();\n    }, timerTimoutMS);\n    this.fileStream.end();\n    this.fileStream.close(onClose);\n  } else {\n    delete this._req;\n    callback();\n  }\n};\n\nChunk.prototype.reset = function (callback) {\n  var self = this;\n\n  callback = callback || function () {};\n\n  self.closeStreamAndRequest(function () {\n    self.offsetStartPosition = 0;\n    self.available = 0;\n    self.downloaded = 0;\n    self.writeProgress = 0;\n    self.resumeFile = false;\n    callback();\n  });\n};\n\nChunk.prototype.stop = function () {\n  var self = this;\n  this.reset(function () {\n    self.resolve(downloadFileUtil.errors.ABORTED);\n  });\n};\n\nmodule.exports = Chunk;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQVk7TUFDN0I4QyxPQUFPO0lBQ1IsQ0FGaUIsRUFFZkQsYUFGZSxDQUFsQjtJQUdBLEtBQUt6QyxVQUFMLENBQWdCdUMsR0FBaEI7SUFDQSxLQUFLdkMsVUFBTCxDQUFnQitDLEtBQWhCLENBQXNCTCxPQUF0QjtFQUNELENBTkQsTUFNTztJQUNMLE9BQU8sS0FBS2YsSUFBWjtJQUNBdkMsUUFBUTtFQUNUO0FBQ0YsQ0F2Q0Q7O0FBeUNBaEIsS0FBSyxDQUFDYSxTQUFOLENBQWdCTixLQUFoQixHQUF3QixVQUFVUyxRQUFWLEVBQW9CO0VBQzFDLElBQU1iLElBQUksR0FBRyxJQUFiOztFQUNBYSxRQUFRLEdBQUdBLFFBQVEsSUFBSSxZQUFZLENBQUUsQ0FBckM7O0VBRUFiLElBQUksQ0FBQzRDLHFCQUFMLENBQTJCLFlBQVk7SUFDckM1QyxJQUFJLENBQUNnQyxtQkFBTCxHQUEyQixDQUEzQjtJQUNBaEMsSUFBSSxDQUFDK0IsU0FBTCxHQUFpQixDQUFqQjtJQUNBL0IsSUFBSSxDQUFDNkMsVUFBTCxHQUFrQixDQUFsQjtJQUNBN0MsSUFBSSxDQUFDeUUsYUFBTCxHQUFxQixDQUFyQjtJQUNBekUsSUFBSSxDQUFDNkIsVUFBTCxHQUFrQixLQUFsQjtJQUNBaEIsUUFBUTtFQUNULENBUEQ7QUFRRCxDQVpEOztBQWNBaEIsS0FBSyxDQUFDYSxTQUFOLENBQWdCZ0UsSUFBaEIsR0FBdUIsWUFBWTtFQUNqQyxJQUFNMUUsSUFBSSxHQUFHLElBQWI7RUFDQSxLQUFLSSxLQUFMLENBQVcsWUFBWTtJQUNyQkosSUFBSSxDQUFDUSxPQUFMLENBQWFoQixnQkFBZ0IsQ0FBQ3dCLE1BQWpCLENBQXdCMkQsT0FBckM7RUFDRCxDQUZEO0FBR0QsQ0FMRDs7QUFPQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCaEYsS0FBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2Rvd25sb2Fkcy9kb3dubG9hZC1maWxlLWNodW5rLmpzP2IxMGEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZG93bmxvYWRGaWxlVXRpbCA9IHJlcXVpcmUoXCIuL2Rvd25sb2FkLWZpbGUtdXRpbFwiKTtcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3Qge25ldH0gPSByZXF1aXJlKCdlbGVjdHJvbicpO1xuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50c1wiKS5FdmVudEVtaXR0ZXI7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB1cmxcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICogQHJldHVybnMge0NodW5rfSAtIGNodW5rIG9iamVjdFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIENodW5rICh1cmwsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHRoaXMudXJsID0gdXJsO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB0aGlzLmVuZFBvc2l0aW9uID0gb3B0aW9ucy5lbmRQb3NpdGlvbjtcbiAgdGhpcy5zdGFydFBvc2l0aW9uID0gb3B0aW9ucy5zdGFydFBvc2l0aW9uO1xuICB0aGlzLmJ5dGVzUmFuZ2VOb3RBdmFpbGFibGUgPSBvcHRpb25zLmJ5dGVzUmFuZ2VOb3RBdmFpbGFibGU7XG4gIHRoaXMucmVzZXQoKTtcbiAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc2VsZi5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICBzZWxmLnJlamVjdCA9IHJlamVjdDtcbiAgfSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5DaHVuay5wcm90b3R5cGUuX3JldHJ5ID0gZnVuY3Rpb24gKGVycm9yVHlwZSwgY2FsbGJhY2spIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGxldCBtYXhEb3dubG9hZFJldHJ5O1xuICB0aGlzLl9lcnJvcnMgPSB0aGlzLl9lcnJvcnMgfHwge307XG4gIHRoaXMuX2Vycm9yc1tlcnJvclR5cGVdID0gdGhpcy5fZXJyb3JzW2Vycm9yVHlwZV0gfHwgMDtcbiAgdGhpcy5fZXJyb3JzW2Vycm9yVHlwZV0rKztcbiAgaWYgKGVycm9yVHlwZSA9PT0gZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuSU5URVJORVQpIHtcbiAgICBtYXhEb3dubG9hZFJldHJ5ID0gdGhpcy5vcHRpb25zLm1heERvd25sb2FkSW50ZXJuZXRSZXRyeTtcbiAgfSBlbHNlIHtcbiAgICBtYXhEb3dubG9hZFJldHJ5ID0gdGhpcy5vcHRpb25zLm1heERvd25sb2FkUmV0cnk7XG4gIH1cbiAgaWYgKHRoaXMuX2Vycm9yc1tlcnJvclR5cGVdIDw9IG1heERvd25sb2FkUmV0cnkpIHtcbiAgICBpZiAoc2VsZi5fdGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dChzZWxmLl90aW1lcik7XG4gICAgfVxuICAgIGNhbGxiYWNrKHRydWUpO1xuICAgIHNlbGYuX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcInJldHJ5aW5nIGNodW5rXCIsIGVycm9yVHlwZSwgc2VsZi5kZXN0RmlsZSk7XG4gICAgICBzZWxmLnJlc2V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5zdGFydCgpO1xuICAgICAgfSk7XG4gICAgfSwgc2VsZi5vcHRpb25zLnJldHJ5VGltZW91dCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJub3QgcmV0cnlpbmcgY2h1bmtcIiwgZXJyb3JUeXBlLCBzZWxmLl9lcnJvcnNbZXJyb3JUeXBlXSk7XG4gICAgY2FsbGJhY2soZmFsc2UpO1xuICB9XG59O1xuXG5DaHVuay5wcm90b3R5cGUuY3JlYXRlRmlsZVN0cmVhbSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgaWYgKCF0aGlzLmZpbGVTdHJlYW0pIHtcbiAgICBsZXQgZGVzdEZpbGUgPSB0aGlzLm9wdGlvbnMuZGVzdEZpbGU7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5tdWx0aUNodW5rcykge1xuICAgICAgZGVzdEZpbGUgPSBkZXN0RmlsZSArIFwiLlwiICsgdGhpcy5zdGFydFBvc2l0aW9uICsgXCIuXCIgKyB0aGlzLmVuZFBvc2l0aW9uO1xuICAgIH1cbiAgICBkb3dubG9hZEZpbGVVdGlsLmNoZWNrRm9yTG9jYWxGaWxlKGRlc3RGaWxlLCBmdW5jdGlvbiAocmVzdW1lRmlsZSwgZmlsZVNpemUpIHtcbiAgICAgIHNlbGYuZGVzdEZpbGUgPSBkZXN0RmlsZTtcbiAgICAgIGlmIChyZXN1bWVGaWxlKSB7XG4gICAgICAgIGlmIChmaWxlU2l6ZSA8PSBzZWxmLmVuZFBvc2l0aW9uIC0gc2VsZi5zdGFydFBvc2l0aW9uKSB7XG4gICAgICAgICAgc2VsZi5yZXN1bWVGaWxlID0gcmVzdW1lRmlsZTtcbiAgICAgICAgICBzZWxmLmF2YWlsYWJsZSA9IGZpbGVTaXplO1xuICAgICAgICAgIHNlbGYub2Zmc2V0U3RhcnRQb3NpdGlvbiA9IGZpbGVTaXplO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbGYuZmlsZVN0cmVhbSA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGRlc3RGaWxlLCB7ZmxhZ3M6IHNlbGYucmVzdW1lRmlsZSA/IFwiYVwiIDogXCJ3XCJ9KTtcbiAgICAgIHNlbGYuZmlsZVN0cmVhbS5vbihcImVycm9yXCIsIGNhbGxiYWNrKTtcbiAgICAgIHNlbGYuZmlsZVN0cmVhbS5vbihcIm9wZW5cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBmb3IgdW5rbm93biByZWFzb24gZnJvbSB0aW1lIHRvIHRpbWUgdGhlIGZpbGUgZGVzY3JpcHRvciBvZiBzZWxmLmZpbGVTdHJlYW0gaXMgbnVsbFxuICAgICAgICAvLyB3aGVuIGV2ZW50ICdvcGVuJyBpcyBmaXJlZCB0aGVuIHRoZSBmaWxlIGRlc2NyaXB0b3IgaXMgbm90IGEgbnVsbCBhbnltb3JlXG4gICAgICAgIC8vIHRoaXMgc2hvdWxkIGZpeCBhIHByb2JsZW0gd2l0aCBFQkFERiBlcnJvclxuICAgICAgICAvLyBhIGJ1ZyBpbiBmcyA/XG4gICAgICAgIHNlbGYuZmlsZVN0cmVhbSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5vbihcImVycm9yXCIsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSBcIkVOT1NQQ1wiKSB7XG4gICAgICAgICAgICAvLyBubyBzcGFjZSBsZWZ0IG9uIGRpc2ssIGRvIG5vdCByZXRyeSBkb3dubG9hZGluZ1xuICAgICAgICAgICAgc2VsZi5yZXNvbHZlKGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLk5PX1NQQUNFX0xFRlRfRVJST1IsIGVycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgIHNlbGYuX3JldHJ5KGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkZJTEVfV1JJVElOR19FUlJPUiwgZnVuY3Rpb24gKHJldHJpZWQpIHtcbiAgICAgICAgICAgICAgIGlmICghcmV0cmllZCkge1xuICAgICAgICAgICAgICAgICBzZWxmLnJlc29sdmUoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuRklMRV9XUklUSU5HX0VSUk9SLCBlcnJvcik7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfSk7XG4gICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oXCJmaW5pc2hcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghc2VsZi5pc0Rvd25sb2FkZWQoKSkge1xuICAgICAgICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuQ0hVTktfU0laRV9FUlJPUiwgZnVuY3Rpb24gKHJldHJpZWQpIHtcbiAgICAgICAgICAgICAgaWYgKCFyZXRyaWVkKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jbG9zZVN0cmVhbUFuZFJlcXVlc3QoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5yZXNvbHZlKGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkNIVU5LX1NJWkVfRVJST1IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5jbG9zZVN0cmVhbUFuZFJlcXVlc3Qoc2VsZi5yZXNvbHZlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxufTtcblxuQ2h1bmsucHJvdG90eXBlLmlzRG93bmxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZW5kUG9zaXRpb24gLSB0aGlzLnN0YXJ0UG9zaXRpb24gLSB0aGlzLm9mZnNldFN0YXJ0UG9zaXRpb24gKyAxID09PSB0aGlzLmRvd25sb2FkZWQ7XG59O1xuXG5DaHVuay5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gIGxldCByZXFfb3B0aW9ucyA9IHtcbiAgICB0aW1lb3V0OiB0aGlzLm9wdGlvbnMudGltZW91dCxcbiAgICB1cmw6IHRoaXMudXJsLFxuICB9O1xuXG4gIHNlbGYuY3JlYXRlRmlsZVN0cmVhbShmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuRklMRV9DUkVBVElOR19FUlJPUiwgZnVuY3Rpb24gKHJldHJpZWQpIHtcbiAgICAgICAgaWYgKCFyZXRyaWVkKSB7XG4gICAgICAgICAgc2VsZi5jbG9zZVN0cmVhbUFuZFJlcXVlc3QoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5yZXNvbHZlKGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkZJTEVfQ1JFQVRJTkdfRVJST1IsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXFfb3B0aW9ucy5oZWFkZXJzID0gcmVxX29wdGlvbnMuaGVhZGVycyB8fCB7fTtcblxuICAgIGlmICghc2VsZi5ieXRlc1JhbmdlTm90QXZhaWxhYmxlKSB7XG4gICAgICByZXFfb3B0aW9ucy5oZWFkZXJzLnJhbmdlID0gXCJieXRlcz1cIiArIChzZWxmLnN0YXJ0UG9zaXRpb24gKyBzZWxmLm9mZnNldFN0YXJ0UG9zaXRpb24pICsgXCItXCIgKyAoc2VsZi5lbmRQb3NpdGlvbik7XG4gICAgfVxuXG4gICAgc2VsZi5fcmVxID0gbmV0LnJlcXVlc3QocmVxX29wdGlvbnMpO1xuICAgIHNlbGYuX3JlcS5jaHVua2VkRW5jb2RpbmcgPSBzZWxmLm9wdGlvbnMudXNlQ2h1bmtlZEVuY29kaW5nO1xuXG4gICAgc2VsZi5fcmVxLm9uKCdyZXNwb25zZScsIChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwb25zZS5vbihcImVycm9yXCIsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IFwiRVNPQ0tFVFRJTUVET1VUXCIgfHwgZXJyb3IuY29kZSA9PT0gXCJFTk9URk9VTkRcIiB8fCBlcnJvci5jb2RlID09PSBcIkVUSU1FRE9VVFwiKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3JldHJ5KGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLklOVEVSTkVULCBmdW5jdGlvbiAocmV0cmllZCkge1xuICAgICAgICAgICAgICAgIGlmICghcmV0cmllZCkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5jbG9zZVN0cmVhbUFuZFJlcXVlc3QoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlc29sdmUoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuVElNRU9VVCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlc29sdmUoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuQ0hVTktfRVJST1IpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXNwb25zZS5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gMjA2KSB7XG4gICAgICAgICAgICAgIHNlbGYuYXZhaWxhYmxlICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICBzZWxmLmRvd25sb2FkZWQgKz0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgIHNlbGYuZXZlbnRzLmVtaXQoXCJkb3dubG9hZFwiLCBkYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzcG9uc2UucGlwZShzZWxmLmZpbGVTdHJlYW0pO1xuICAgIH0pO1xuICAgIHNlbGYuX3JlcS5lbmQoKTtcbiAgfSk7XG4gIHJldHVybiB0aGlzLl9wcm9taXNlO1xufTtcblxuQ2h1bmsucHJvdG90eXBlLmNsb3NlU3RyZWFtQW5kUmVxdWVzdCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgbGV0IHRpbWVyO1xuICBjb25zdCB0aW1lclRpbW91dE1TID0gMzAwO1xuXG4gIGZ1bmN0aW9uIG9uQ2xvc2UgKCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgaWYgKHNlbGYuZmlsZVN0cmVhbSkge1xuICAgICAgc2VsZi5maWxlU3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgIGRlbGV0ZSBzZWxmLmZpbGVTdHJlYW07XG4gICAgfVxuICAgIGRlbGV0ZShzZWxmLl9yZXEpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cblxuICBpZiAodGhpcy5fcmVxKSB7XG4gICAgdGhpcy5fcmVxLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB9XG4gIGlmICh0aGlzLmZpbGVTdHJlYW0pIHtcbiAgICB0aGlzLmZpbGVTdHJlYW0ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH1cbiAgaWYgKHRoaXMuX3JlcSkge1xuICAgIHRoaXMuX3JlcS5hYm9ydCgpO1xuICAgIGlmICh0aGlzLl9yZXEudGltZW91dFRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVxLnRpbWVvdXRUaW1lcik7XG4gICAgICB0aGlzLl9yZXEudGltZW91dFRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5maWxlU3RyZWFtKSB7XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG9uQ2xvc2UoKTtcbiAgICB9LCB0aW1lclRpbW91dE1TKTtcbiAgICB0aGlzLmZpbGVTdHJlYW0uZW5kKCk7XG4gICAgdGhpcy5maWxlU3RyZWFtLmNsb3NlKG9uQ2xvc2UpO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSB0aGlzLl9yZXE7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxufTtcblxuQ2h1bmsucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuXG4gIHNlbGYuY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLm9mZnNldFN0YXJ0UG9zaXRpb24gPSAwO1xuICAgIHNlbGYuYXZhaWxhYmxlID0gMDtcbiAgICBzZWxmLmRvd25sb2FkZWQgPSAwO1xuICAgIHNlbGYud3JpdGVQcm9ncmVzcyA9IDA7XG4gICAgc2VsZi5yZXN1bWVGaWxlID0gZmFsc2U7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59O1xuXG5DaHVuay5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHRoaXMucmVzZXQoZnVuY3Rpb24gKCkge1xuICAgIHNlbGYucmVzb2x2ZShkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5BQk9SVEVEKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENodW5rO1xuIl0sIm5hbWVzIjpbImRvd25sb2FkRmlsZVV0aWwiLCJyZXF1aXJlIiwiZnMiLCJuZXQiLCJFdmVudEVtaXR0ZXIiLCJDaHVuayIsInVybCIsIm9wdGlvbnMiLCJzZWxmIiwiZW5kUG9zaXRpb24iLCJzdGFydFBvc2l0aW9uIiwiYnl0ZXNSYW5nZU5vdEF2YWlsYWJsZSIsInJlc2V0IiwiZXZlbnRzIiwiX3Byb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb3RvdHlwZSIsIl9yZXRyeSIsImVycm9yVHlwZSIsImNhbGxiYWNrIiwibWF4RG93bmxvYWRSZXRyeSIsIl9lcnJvcnMiLCJlcnJvcnMiLCJJTlRFUk5FVCIsIm1heERvd25sb2FkSW50ZXJuZXRSZXRyeSIsIl90aW1lciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJzdGFydCIsInJldHJ5VGltZW91dCIsImNyZWF0ZUZpbGVTdHJlYW0iLCJmaWxlU3RyZWFtIiwiZGVzdEZpbGUiLCJtdWx0aUNodW5rcyIsImNoZWNrRm9yTG9jYWxGaWxlIiwicmVzdW1lRmlsZSIsImZpbGVTaXplIiwiYXZhaWxhYmxlIiwib2Zmc2V0U3RhcnRQb3NpdGlvbiIsImNyZWF0ZVdyaXRlU3RyZWFtIiwiZmxhZ3MiLCJvbiIsInJlbW92ZUxpc3RlbmVyIiwiZXJyb3IiLCJjb2RlIiwiTk9fU1BBQ0VfTEVGVF9FUlJPUiIsIkZJTEVfV1JJVElOR19FUlJPUiIsInJldHJpZWQiLCJpc0Rvd25sb2FkZWQiLCJDSFVOS19TSVpFX0VSUk9SIiwiY2xvc2VTdHJlYW1BbmRSZXF1ZXN0IiwiZG93bmxvYWRlZCIsInJlcV9vcHRpb25zIiwidGltZW91dCIsImVyciIsIkZJTEVfQ1JFQVRJTkdfRVJST1IiLCJoZWFkZXJzIiwicmFuZ2UiLCJfcmVxIiwicmVxdWVzdCIsImNodW5rZWRFbmNvZGluZyIsInVzZUNodW5rZWRFbmNvZGluZyIsInJlc3BvbnNlIiwiVElNRU9VVCIsIkNIVU5LX0VSUk9SIiwiZGF0YSIsInN0YXR1c0NvZGUiLCJsZW5ndGgiLCJlbWl0IiwicGlwZSIsImVuZCIsInRpbWVyIiwidGltZXJUaW1vdXRNUyIsIm9uQ2xvc2UiLCJkZXN0cm95IiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiYWJvcnQiLCJ0aW1lb3V0VGltZXIiLCJjbG9zZSIsIndyaXRlUHJvZ3Jlc3MiLCJzdG9wIiwiQUJPUlRFRCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6006\n')},5979:(module,__unused_webpack_exports,__webpack_require__)=>{eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\nvar fs = __webpack_require__(7147);\n\nvar _require = __webpack_require__(7194),\n    net = _require.net;\n\nvar EventEmitter = (__webpack_require__(2361).EventEmitter);\n\nvar util = __webpack_require__(3837);\n\nvar downloadFileUtil = __webpack_require__(2777);\n/**\n *\n * @param {string} url - remote url\n * @param {string} destFile - local url\n * @param {object} options - options\n * @constructor\n */\n\n\nfunction DownloadFileNoHead(url, destFile, options) {\n  this._url = url;\n  this._destFile = destFile;\n  this._options = options;\n\n  this._resetValues();\n}\n\nutil.inherits(DownloadFileNoHead, EventEmitter);\n\nDownloadFileNoHead.prototype._reset = function (callback) {\n  var self = this;\n\n  callback = callback || function () {};\n\n  self._closeStreamAndRequest(function () {\n    self._resetValues();\n\n    callback();\n  });\n};\n\nDownloadFileNoHead.prototype._resetValues = function () {\n  this.available = 0;\n  this.downloaded = 0;\n  this.file_size = 0;\n  this.writeProgress = 0;\n};\n\nDownloadFileNoHead.prototype._createFileStream = function (callback) {\n  var self = this;\n\n  if (!this.fileStream) {\n    var destFile = this._destFile;\n    self.fileStream = fs.createWriteStream(destFile, {\n      flags: "w"\n    });\n    self.fileStream.on("error", callback);\n    self.fileStream.on("open", function () {\n      // for unknown reason from time to time the file descriptor of self.fileStream is null\n      // when event \'open\' is fired then the file descriptor is not a null anymore\n      // this should fix a problem with EBADF error\n      // a bug in fs ?\n      self.fileStream = this;\n      this.removeListener("error", callback);\n      this.on("error", function (error) {\n        if (error.code === "ENOSPC") {\n          // no space left on disk, do not retry downloading\n          self.emit("error", {\n            message: downloadFileUtil.errors.NO_SPACE_LEFT_ERROR,\n            data: error\n          });\n        } else {\n          self._retry(downloadFileUtil.errors.FILE_WRITING_ERROR, function (retried) {\n            if (!retried) {\n              self.emit("error", {\n                message: downloadFileUtil.errors.FILE_WRITING_ERROR,\n                data: error\n              });\n            }\n          });\n        }\n      });\n      this.on("finish", function () {\n        if (!self.isDownloaded()) {\n          self._retry(downloadFileUtil.errors.CHUNK_SIZE_ERROR, function (retried) {\n            if (!retried) {\n              self._closeStreamAndRequest(function () {\n                self.emit("error", {\n                  message: downloadFileUtil.errors.CHUNK_SIZE_ERROR\n                });\n              });\n            }\n          });\n        } else {\n          self.writeProgress = 1;\n          self.emit("end");\n        }\n      });\n      callback();\n    });\n  } else {\n    callback();\n  }\n};\n\nDownloadFileNoHead.prototype.isDownloaded = function () {\n  return this.downloaded === this.file_size;\n};\n\nDownloadFileNoHead.prototype._retry = function (errorType, callback) {\n  var self = this;\n  var maxDownloadRetry;\n  this._errors = this._errors || {};\n  this._errors[errorType] = this._errors[errorType] || 0;\n  this._errors[errorType]++;\n\n  if (errorType === downloadFileUtil.errors.INTERNET) {\n    maxDownloadRetry = this._options.maxDownloadChunkInternetRetry;\n  } else {\n    maxDownloadRetry = this._options.maxDownloadRetry;\n  }\n\n  if (this._errors[errorType] <= maxDownloadRetry) {\n    if (self._timer) {\n      clearTimeout(self._timer);\n    }\n\n    callback(true);\n    self._timer = setTimeout(function () {\n      // console.log("retrying chunk", errorType, self.destFile);\n      self._reset(function () {\n        self.start();\n      });\n    }, self._options.retryTimeout);\n  } else {\n    // console.log("not retrying chunk", errorType, self._errors[errorType]);\n    callback(false);\n  }\n};\n\nDownloadFileNoHead.prototype._closeStreamAndRequest = function (callback) {\n  var self = this;\n  var timer;\n  var timerTimoutMS = 300;\n\n  function onClose() {\n    clearTimeout(timer);\n\n    if (self.fileStream) {\n      self.fileStream.destroy();\n      delete self.fileStream;\n    }\n\n    delete self._req;\n    callback();\n  }\n\n  if (this._req) {\n    this._req.removeAllListeners();\n  }\n\n  if (this.fileStream) {\n    this.fileStream.removeAllListeners();\n  }\n\n  if (this._req) {\n    this._req.abort();\n\n    if (this._req.timeoutTimer) {\n      clearTimeout(this._req.timeoutTimer);\n      this._req.timeoutTimer = null;\n    }\n  }\n\n  if (this.fileStream) {\n    timer = setTimeout(function () {\n      onClose();\n    }, timerTimoutMS);\n    this.fileStream.end();\n    this.fileStream.close(onClose);\n  } else {\n    delete this._req;\n    callback();\n  }\n};\n/**\n * starts download\n * @returns {void}\n */\n\n\nDownloadFileNoHead.prototype.start = function () {\n  var self = this;\n  var req_options = {\n    timeout: this._options.timeout,\n    url: this._url\n  };\n\n  if (this._options.noCache) {\n    req_options.headers = {\n      \'Cache-Control\': \'no-cache\'\n    };\n  }\n\n  self._createFileStream(function (err) {\n    if (err) {\n      self._retry(downloadFileUtil.errors.FILE_CREATING_ERROR, function (retried) {\n        if (!retried) {\n          self._closeStreamAndRequest(function () {\n            self.emit("error", {\n              message: downloadFileUtil.errors.FILE_CREATING_ERROR\n            });\n          });\n        }\n      });\n\n      return;\n    }\n\n    req_options.headers = req_options.headers || {};\n    self._req = net.request(req_options);\n\n    self._req.on(\'response\', function (response) {\n      response.on("error", function (error) {\n        console.error(\'ERROR (\' + self._url + \') :\' + error);\n\n        if (error.code === "ESOCKETTIMEDOUT" || error.code === "ENOTFOUND" || error.code === "ETIMEDOUT") {\n          self._retry(downloadFileUtil.errors.INTERNET, function (retried) {\n            if (!retried) {\n              self._closeStreamAndRequest(function () {\n                self.emit("error", {\n                  message: downloadFileUtil.errors.TIMEOUT,\n                  data: error\n                });\n              });\n            }\n          });\n        } else {\n          self._retry(downloadFileUtil.errors.INTERNET, function (retried) {\n            if (!retried) {\n              self._closeStreamAndRequest(function () {\n                self.emit("error", {\n                  message: downloadFileUtil.errors.CHUNK_ERROR,\n                  data: error\n                });\n              });\n            }\n          });\n        }\n      });\n\n      if (response && response.statusCode >= 400) {\n        self._retry(downloadFileUtil.errors.INTERNET, function (retried) {\n          if (!retried) {\n            self._closeStreamAndRequest(function () {\n              console.error("HTTP DOWNLOAD ERROR url: ".concat(self._url, ", statusCode: ").concat(response.statusCode));\n              self.emit("error", {\n                message: downloadFileUtil.errors.CHUNK_ERROR,\n                data: response\n              });\n            });\n          }\n        });\n      } else {\n        self._headers = response.headers;\n        self.file_size = Number(self._headers["content-length"]);\n        response.on("data", function (data) {\n          if (response.statusCode === 200 || response.statusCode === 206) {\n            self.available += data.length;\n            self.downloaded += data.length;\n          }\n        });\n        response.pipe(self.fileStream);\n      }\n    });\n\n    self._req.end();\n  });\n\n  return this._promise;\n};\n/**\n * stops download\n * @returns {void}\n */\n\n\nDownloadFileNoHead.prototype.stop = function () {\n  var self = this;\n\n  this._reset(function () {\n    self.emit("error", {\n      message: downloadFileUtil.errors.ABORTED\n    });\n  });\n};\n\nmodule.exports = DownloadFileNoHead;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sQ0FBQ0MsT0FBUCxHQUFpQjVFLGtCQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL2Rvd25sb2FkLWZpbGUtbm8taGVhZC5qcz9iMmJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qZXNsaW50IG5vLWNvbnNvbGU6IFtcImVycm9yXCIsIHsgYWxsb3c6IFtcIndhcm5cIiwgXCJlcnJvclwiLCBcImluZm9cIl0gfV0gKi9cbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3Qge25ldH0gPSByZXF1aXJlKCdlbGVjdHJvbicpO1xuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50c1wiKS5FdmVudEVtaXR0ZXI7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG5jb25zdCBkb3dubG9hZEZpbGVVdGlsID0gcmVxdWlyZShcIi4vZG93bmxvYWQtZmlsZS11dGlsXCIpO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gcmVtb3RlIHVybFxuICogQHBhcmFtIHtzdHJpbmd9IGRlc3RGaWxlIC0gbG9jYWwgdXJsXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBEb3dubG9hZEZpbGVOb0hlYWQgKHVybCwgZGVzdEZpbGUsIG9wdGlvbnMpIHtcbiAgdGhpcy5fdXJsID0gdXJsO1xuICB0aGlzLl9kZXN0RmlsZSA9IGRlc3RGaWxlO1xuICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5fcmVzZXRWYWx1ZXMoKTtcbn1cblxudXRpbC5pbmhlcml0cyhEb3dubG9hZEZpbGVOb0hlYWQsIEV2ZW50RW1pdHRlcik7XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuX3Jlc2V0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuXG4gIHNlbGYuX2Nsb3NlU3RyZWFtQW5kUmVxdWVzdChmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fcmVzZXRWYWx1ZXMoKTtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbn07XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuX3Jlc2V0VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmF2YWlsYWJsZSA9IDA7XG4gIHRoaXMuZG93bmxvYWRlZCA9IDA7XG4gIHRoaXMuZmlsZV9zaXplID0gMDtcbiAgdGhpcy53cml0ZVByb2dyZXNzID0gMDtcbn07XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuX2NyZWF0ZUZpbGVTdHJlYW0gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGlmICghdGhpcy5maWxlU3RyZWFtKSB7XG4gICAgbGV0IGRlc3RGaWxlID0gdGhpcy5fZGVzdEZpbGU7XG4gICAgc2VsZi5maWxlU3RyZWFtID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZGVzdEZpbGUsIHtmbGFnczogXCJ3XCJ9KTtcbiAgICBzZWxmLmZpbGVTdHJlYW0ub24oXCJlcnJvclwiLCBjYWxsYmFjayk7XG4gICAgc2VsZi5maWxlU3RyZWFtLm9uKFwib3BlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBmb3IgdW5rbm93biByZWFzb24gZnJvbSB0aW1lIHRvIHRpbWUgdGhlIGZpbGUgZGVzY3JpcHRvciBvZiBzZWxmLmZpbGVTdHJlYW0gaXMgbnVsbFxuICAgICAgLy8gd2hlbiBldmVudCAnb3BlbicgaXMgZmlyZWQgdGhlbiB0aGUgZmlsZSBkZXNjcmlwdG9yIGlzIG5vdCBhIG51bGwgYW55bW9yZVxuICAgICAgLy8gdGhpcyBzaG91bGQgZml4IGEgcHJvYmxlbSB3aXRoIEVCQURGIGVycm9yXG4gICAgICAvLyBhIGJ1ZyBpbiBmcyA/XG4gICAgICBzZWxmLmZpbGVTdHJlYW0gPSB0aGlzO1xuXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgY2FsbGJhY2spO1xuICAgICAgdGhpcy5vbihcImVycm9yXCIsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gXCJFTk9TUENcIikge1xuICAgICAgICAgIC8vIG5vIHNwYWNlIGxlZnQgb24gZGlzaywgZG8gbm90IHJldHJ5IGRvd25sb2FkaW5nXG4gICAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwge21lc3NhZ2U6IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLk5PX1NQQUNFX0xFRlRfRVJST1IsIGRhdGE6IGVycm9yfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuRklMRV9XUklUSU5HX0VSUk9SLCBmdW5jdGlvbiAocmV0cmllZCkge1xuICAgICAgICAgICAgaWYgKCFyZXRyaWVkKSB7XG4gICAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIHttZXNzYWdlOiBkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5GSUxFX1dSSVRJTkdfRVJST1IsIGRhdGE6IGVycm9yfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbihcImZpbmlzaFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghc2VsZi5pc0Rvd25sb2FkZWQoKSkge1xuICAgICAgICAgIHNlbGYuX3JldHJ5KGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkNIVU5LX1NJWkVfRVJST1IsIGZ1bmN0aW9uIChyZXRyaWVkKSB7XG4gICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCB7bWVzc2FnZTogZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuQ0hVTktfU0laRV9FUlJPUn0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLndyaXRlUHJvZ3Jlc3MgPSAxO1xuICAgICAgICAgIHNlbGYuZW1pdChcImVuZFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn07XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuaXNEb3dubG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5kb3dubG9hZGVkID09PSB0aGlzLmZpbGVfc2l6ZTtcbn07XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuX3JldHJ5ID0gZnVuY3Rpb24gKGVycm9yVHlwZSwgY2FsbGJhY2spIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGxldCBtYXhEb3dubG9hZFJldHJ5O1xuICB0aGlzLl9lcnJvcnMgPSB0aGlzLl9lcnJvcnMgfHwge307XG4gIHRoaXMuX2Vycm9yc1tlcnJvclR5cGVdID0gdGhpcy5fZXJyb3JzW2Vycm9yVHlwZV0gfHwgMDtcbiAgdGhpcy5fZXJyb3JzW2Vycm9yVHlwZV0rKztcbiAgaWYgKGVycm9yVHlwZSA9PT0gZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuSU5URVJORVQpIHtcbiAgICBtYXhEb3dubG9hZFJldHJ5ID0gdGhpcy5fb3B0aW9ucy5tYXhEb3dubG9hZENodW5rSW50ZXJuZXRSZXRyeTtcbiAgfSBlbHNlIHtcbiAgICBtYXhEb3dubG9hZFJldHJ5ID0gdGhpcy5fb3B0aW9ucy5tYXhEb3dubG9hZFJldHJ5O1xuICB9XG4gIGlmICh0aGlzLl9lcnJvcnNbZXJyb3JUeXBlXSA8PSBtYXhEb3dubG9hZFJldHJ5KSB7XG4gICAgaWYgKHNlbGYuX3RpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi5fdGltZXIpO1xuICAgIH1cbiAgICBjYWxsYmFjayh0cnVlKTtcbiAgICBzZWxmLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJyZXRyeWluZyBjaHVua1wiLCBlcnJvclR5cGUsIHNlbGYuZGVzdEZpbGUpO1xuICAgICAgc2VsZi5fcmVzZXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnN0YXJ0KCk7XG4gICAgICB9KTtcbiAgICB9LCBzZWxmLl9vcHRpb25zLnJldHJ5VGltZW91dCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJub3QgcmV0cnlpbmcgY2h1bmtcIiwgZXJyb3JUeXBlLCBzZWxmLl9lcnJvcnNbZXJyb3JUeXBlXSk7XG4gICAgY2FsbGJhY2soZmFsc2UpO1xuICB9XG59O1xuRG93bmxvYWRGaWxlTm9IZWFkLnByb3RvdHlwZS5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBsZXQgdGltZXI7XG4gIGNvbnN0IHRpbWVyVGltb3V0TVMgPSAzMDA7XG5cbiAgZnVuY3Rpb24gb25DbG9zZSAoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICBpZiAoc2VsZi5maWxlU3RyZWFtKSB7XG4gICAgICBzZWxmLmZpbGVTdHJlYW0uZGVzdHJveSgpO1xuICAgICAgZGVsZXRlIHNlbGYuZmlsZVN0cmVhbTtcbiAgICB9XG4gICAgZGVsZXRlKHNlbGYuX3JlcSk7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9yZXEpIHtcbiAgICB0aGlzLl9yZXEucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH1cbiAgaWYgKHRoaXMuZmlsZVN0cmVhbSkge1xuICAgIHRoaXMuZmlsZVN0cmVhbS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfVxuICBpZiAodGhpcy5fcmVxKSB7XG4gICAgdGhpcy5fcmVxLmFib3J0KCk7XG4gICAgaWYgKHRoaXMuX3JlcS50aW1lb3V0VGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZXEudGltZW91dFRpbWVyKTtcbiAgICAgIHRoaXMuX3JlcS50aW1lb3V0VGltZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLmZpbGVTdHJlYW0pIHtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgb25DbG9zZSgpO1xuICAgIH0sIHRpbWVyVGltb3V0TVMpO1xuICAgIHRoaXMuZmlsZVN0cmVhbS5lbmQoKTtcbiAgICB0aGlzLmZpbGVTdHJlYW0uY2xvc2Uob25DbG9zZSk7XG4gIH0gZWxzZSB7XG4gICAgZGVsZXRlIHRoaXMuX3JlcTtcbiAgICBjYWxsYmFjaygpO1xuICB9XG59O1xuXG4vKipcbiAqIHN0YXJ0cyBkb3dubG9hZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBsZXQgcmVxX29wdGlvbnMgPSB7XG4gICAgdGltZW91dDogdGhpcy5fb3B0aW9ucy50aW1lb3V0LFxuICAgIHVybDogdGhpcy5fdXJsLFxuICB9O1xuXG4gIGlmICh0aGlzLl9vcHRpb25zLm5vQ2FjaGUpIHtcbiAgICByZXFfb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnXG4gICAgfVxuICB9XG5cbiAgc2VsZi5fY3JlYXRlRmlsZVN0cmVhbShmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuRklMRV9DUkVBVElOR19FUlJPUiwgZnVuY3Rpb24gKHJldHJpZWQpIHtcbiAgICAgICAgaWYgKCFyZXRyaWVkKSB7XG4gICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIHttZXNzYWdlOiBkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5GSUxFX0NSRUFUSU5HX0VSUk9SfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXFfb3B0aW9ucy5oZWFkZXJzID0gcmVxX29wdGlvbnMuaGVhZGVycyB8fCB7fTtcblxuICAgIHNlbGYuX3JlcSA9IG5ldC5yZXF1ZXN0KHJlcV9vcHRpb25zKTtcblxuICAgIHNlbGYuX3JlcS5vbigncmVzcG9uc2UnLCAocmVzcG9uc2UpID0+IHtcbiAgICAgIHJlc3BvbnNlLm9uKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VSUk9SICgnICsgc2VsZi5fdXJsICsgJykgOicgKyBlcnJvcilcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IFwiRVNPQ0tFVFRJTUVET1VUXCIgfHwgZXJyb3IuY29kZSA9PT0gXCJFTk9URk9VTkRcIiB8fCBlcnJvci5jb2RlID09PSBcIkVUSU1FRE9VVFwiKSB7XG4gICAgICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuSU5URVJORVQsIGZ1bmN0aW9uIChyZXRyaWVkKSB7XG4gICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCB7bWVzc2FnZTogZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuVElNRU9VVCwgZGF0YTogZXJyb3J9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuSU5URVJORVQsIGZ1bmN0aW9uIChyZXRyaWVkKSB7XG4gICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCB7bWVzc2FnZTogZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuQ0hVTktfRVJST1IsIGRhdGE6IGVycm9yfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1c0NvZGUgPj0gNDAwKSB7XG4gICAgICAgIHNlbGYuX3JldHJ5KGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLklOVEVSTkVULCBmdW5jdGlvbiAocmV0cmllZCkge1xuICAgICAgICAgIGlmICghcmV0cmllZCkge1xuICAgICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSFRUUCBET1dOTE9BRCBFUlJPUiB1cmw6ICR7c2VsZi5fdXJsfSwgc3RhdHVzQ29kZTogJHtyZXNwb25zZS5zdGF0dXNDb2RlfWApO1xuICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCB7bWVzc2FnZTogZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuQ0hVTktfRVJST1IsIGRhdGE6IHJlc3BvbnNlfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5faGVhZGVycyA9IHJlc3BvbnNlLmhlYWRlcnM7XG4gICAgICAgIHNlbGYuZmlsZV9zaXplID0gTnVtYmVyKHNlbGYuX2hlYWRlcnNbXCJjb250ZW50LWxlbmd0aFwiXSk7XG5cbiAgICAgICAgcmVzcG9uc2Uub24oXCJkYXRhXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDIwMCB8fCByZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDYpIHtcbiAgICAgICAgICAgIHNlbGYuYXZhaWxhYmxlICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgc2VsZi5kb3dubG9hZGVkICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3BvbnNlLnBpcGUoc2VsZi5maWxlU3RyZWFtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxmLl9yZXEuZW5kKCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbn07XG5cbi8qKlxuICogc3RvcHMgZG93bmxvYWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZEZpbGVOb0hlYWQucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLl9yZXNldChmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwge21lc3NhZ2U6IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkFCT1JURUR9KTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvd25sb2FkRmlsZU5vSGVhZDtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJuZXQiLCJFdmVudEVtaXR0ZXIiLCJ1dGlsIiwiZG93bmxvYWRGaWxlVXRpbCIsIkRvd25sb2FkRmlsZU5vSGVhZCIsInVybCIsImRlc3RGaWxlIiwib3B0aW9ucyIsIl91cmwiLCJfZGVzdEZpbGUiLCJfb3B0aW9ucyIsIl9yZXNldFZhbHVlcyIsImluaGVyaXRzIiwicHJvdG90eXBlIiwiX3Jlc2V0IiwiY2FsbGJhY2siLCJzZWxmIiwiX2Nsb3NlU3RyZWFtQW5kUmVxdWVzdCIsImF2YWlsYWJsZSIsImRvd25sb2FkZWQiLCJmaWxlX3NpemUiLCJ3cml0ZVByb2dyZXNzIiwiX2NyZWF0ZUZpbGVTdHJlYW0iLCJmaWxlU3RyZWFtIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJmbGFncyIsIm9uIiwicmVtb3ZlTGlzdGVuZXIiLCJlcnJvciIsImNvZGUiLCJlbWl0IiwibWVzc2FnZSIsImVycm9ycyIsIk5PX1NQQUNFX0xFRlRfRVJST1IiLCJkYXRhIiwiX3JldHJ5IiwiRklMRV9XUklUSU5HX0VSUk9SIiwicmV0cmllZCIsImlzRG93bmxvYWRlZCIsIkNIVU5LX1NJWkVfRVJST1IiLCJlcnJvclR5cGUiLCJtYXhEb3dubG9hZFJldHJ5IiwiX2Vycm9ycyIsIklOVEVSTkVUIiwibWF4RG93bmxvYWRDaHVua0ludGVybmV0UmV0cnkiLCJfdGltZXIiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic3RhcnQiLCJyZXRyeVRpbWVvdXQiLCJ0aW1lciIsInRpbWVyVGltb3V0TVMiLCJvbkNsb3NlIiwiZGVzdHJveSIsIl9yZXEiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJhYm9ydCIsInRpbWVvdXRUaW1lciIsImVuZCIsImNsb3NlIiwicmVxX29wdGlvbnMiLCJ0aW1lb3V0Iiwibm9DYWNoZSIsImhlYWRlcnMiLCJlcnIiLCJGSUxFX0NSRUFUSU5HX0VSUk9SIiwicmVxdWVzdCIsInJlc3BvbnNlIiwiY29uc29sZSIsIlRJTUVPVVQiLCJDSFVOS19FUlJPUiIsInN0YXR1c0NvZGUiLCJfaGVhZGVycyIsIk51bWJlciIsImxlbmd0aCIsInBpcGUiLCJfcHJvbWlzZSIsInN0b3AiLCJBQk9SVEVEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5979\n')},2777:(module,__unused_webpack_exports,__webpack_require__)=>{eval('var fs = __webpack_require__(7147);\n\nvar appSettings = __webpack_require__(9277);\n/**\n *\n * @type {{start: number, end: null}}\n */\n\n\nvar defaultOptions = Object.assign({\n  start: 0,\n  end: null\n}, appSettings.getSettings().defaultManifestRequestOptions);\n/**\n *\n * @type {{CHUNK_ERROR: string, CHUNK_SIZE_ERROR: string, FILE_CREATING_ERROR: string, FILE_WRITING_ERROR: string,\n *     ABORTED: string}}\n */\n\nvar errors = {\n  ABORTED: "ABORTED",\n  CHUNK_ERROR: "CHUNK_ERROR",\n  CHUNK_SIZE_ERROR: "CHUNK_SIZE_ERROR",\n  FILE_CREATING_ERROR: "FILE_CREATING_ERROR",\n  FILE_WRITING_ERROR: "FILE_WRITING_ERROR",\n  NO_SPACE_LEFT_ERROR: "NO_SPACE_LEFT_ERROR",\n  INTERNET: "INTERNET",\n  TIMEOUT: "TIMEOUT"\n};\n/**\n * @param {string} fileUrl - file url\n * @param {function} callback - callback to be invoked when check for file has been done\n * @returns {void}\n */\n\nfunction checkForLocalFile(fileUrl, callback) {\n  fs.stat(fileUrl, function (error, stat) {\n    if (error) {\n      callback(false);\n    } else {\n      callback(true, stat.size);\n    }\n  });\n}\n\nmodule.exports = {\n  checkForLocalFile: checkForLocalFile,\n  defaultOptions: defaultOptions,\n  errors: errors\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc3Ny5qcyIsIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxFQUFFLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxJQUFNQyxXQUFXLEdBQUdELG1CQUFPLENBQUMsSUFBRCxDQUEzQjtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxJQUFNRSxjQUFjLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUNyQjtFQUNFQyxLQUFLLEVBQUUsQ0FEVDtFQUVFQyxHQUFHLEVBQUU7QUFGUCxDQURxQixFQUtyQkwsV0FBVyxDQUFDTSxXQUFaLEdBQTBCQyw2QkFMTCxDQUF2QjtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHO0VBQ2JDLE9BQU8sRUFBRSxTQURJO0VBRWJDLFdBQVcsRUFBRSxhQUZBO0VBR2JDLGdCQUFnQixFQUFFLGtCQUhMO0VBSWJDLG1CQUFtQixFQUFFLHFCQUpSO0VBS2JDLGtCQUFrQixFQUFFLG9CQUxQO0VBTWJDLG1CQUFtQixFQUFFLHFCQU5SO0VBT2JDLFFBQVEsRUFBRSxVQVBHO0VBUWJDLE9BQU8sRUFBRTtBQVJJLENBQWY7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFNBQVNDLGlCQUFULENBQTRCQyxPQUE1QixFQUFxQ0MsUUFBckMsRUFBK0M7RUFDN0NyQixFQUFFLENBQUNzQixJQUFILENBQVFGLE9BQVIsRUFBaUIsVUFBVUcsS0FBVixFQUFpQkQsSUFBakIsRUFBdUI7SUFDdEMsSUFBSUMsS0FBSixFQUFXO01BQ1RGLFFBQVEsQ0FBQyxLQUFELENBQVI7SUFDRCxDQUZELE1BRU87TUFDTEEsUUFBUSxDQUFDLElBQUQsRUFBT0MsSUFBSSxDQUFDRSxJQUFaLENBQVI7SUFDRDtFQUNGLENBTkQ7QUFPRDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZQLGlCQUFpQixFQUFFQSxpQkFESjtFQUVmaEIsY0FBYyxFQUFFQSxjQUZEO0VBR2ZPLE1BQU0sRUFBRUE7QUFITyxDQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL2Rvd25sb2FkLWZpbGUtdXRpbC5qcz8xYjhlIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKCcuLi9hcHAtc2V0dGluZ3MnKTtcblxuLyoqXG4gKlxuICogQHR5cGUge3tzdGFydDogbnVtYmVyLCBlbmQ6IG51bGx9fVxuICovXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gIHtcbiAgICBzdGFydDogMCxcbiAgICBlbmQ6IG51bGxcbiAgfSxcbiAgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kZWZhdWx0TWFuaWZlc3RSZXF1ZXN0T3B0aW9uc1xuKTtcblxuLyoqXG4gKlxuICogQHR5cGUge3tDSFVOS19FUlJPUjogc3RyaW5nLCBDSFVOS19TSVpFX0VSUk9SOiBzdHJpbmcsIEZJTEVfQ1JFQVRJTkdfRVJST1I6IHN0cmluZywgRklMRV9XUklUSU5HX0VSUk9SOiBzdHJpbmcsXG4gKiAgICAgQUJPUlRFRDogc3RyaW5nfX1cbiAqL1xuY29uc3QgZXJyb3JzID0ge1xuICBBQk9SVEVEOiBcIkFCT1JURURcIixcbiAgQ0hVTktfRVJST1I6IFwiQ0hVTktfRVJST1JcIixcbiAgQ0hVTktfU0laRV9FUlJPUjogXCJDSFVOS19TSVpFX0VSUk9SXCIsXG4gIEZJTEVfQ1JFQVRJTkdfRVJST1I6IFwiRklMRV9DUkVBVElOR19FUlJPUlwiLFxuICBGSUxFX1dSSVRJTkdfRVJST1I6IFwiRklMRV9XUklUSU5HX0VSUk9SXCIsXG4gIE5PX1NQQUNFX0xFRlRfRVJST1I6IFwiTk9fU1BBQ0VfTEVGVF9FUlJPUlwiLFxuICBJTlRFUk5FVDogXCJJTlRFUk5FVFwiLFxuICBUSU1FT1VUOiBcIlRJTUVPVVRcIixcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVVcmwgLSBmaWxlIHVybFxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gY2hlY2sgZm9yIGZpbGUgaGFzIGJlZW4gZG9uZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGNoZWNrRm9yTG9jYWxGaWxlIChmaWxlVXJsLCBjYWxsYmFjaykge1xuICBmcy5zdGF0KGZpbGVVcmwsIGZ1bmN0aW9uIChlcnJvciwgc3RhdCkge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgY2FsbGJhY2soZmFsc2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHRydWUsIHN0YXQuc2l6ZSk7XG4gICAgfVxuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNoZWNrRm9yTG9jYWxGaWxlOiBjaGVja0ZvckxvY2FsRmlsZSxcbiAgZGVmYXVsdE9wdGlvbnM6IGRlZmF1bHRPcHRpb25zLFxuICBlcnJvcnM6IGVycm9yc1xufTtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJhcHBTZXR0aW5ncyIsImRlZmF1bHRPcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwic3RhcnQiLCJlbmQiLCJnZXRTZXR0aW5ncyIsImRlZmF1bHRNYW5pZmVzdFJlcXVlc3RPcHRpb25zIiwiZXJyb3JzIiwiQUJPUlRFRCIsIkNIVU5LX0VSUk9SIiwiQ0hVTktfU0laRV9FUlJPUiIsIkZJTEVfQ1JFQVRJTkdfRVJST1IiLCJGSUxFX1dSSVRJTkdfRVJST1IiLCJOT19TUEFDRV9MRUZUX0VSUk9SIiwiSU5URVJORVQiLCJUSU1FT1VUIiwiY2hlY2tGb3JMb2NhbEZpbGUiLCJmaWxlVXJsIiwiY2FsbGJhY2siLCJzdGF0IiwiZXJyb3IiLCJzaXplIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2777\n')},4959:(module,__unused_webpack_exports,__webpack_require__)=>{eval('var fs = __webpack_require__(7147);\n\nvar _require = __webpack_require__(7194),\n    net = _require.net;\n\nvar EventEmitter = (__webpack_require__(2361).EventEmitter);\n\nvar util = __webpack_require__(3837);\n\nvar downloadFileUtil = __webpack_require__(2777);\n\nvar DownloadFileChunk = __webpack_require__(6006);\n/**\n *\n * @param {string} url - remote url\n * @param {string} destFile - local url\n * @param {object} options - options\n * @constructor\n */\n\n\nfunction DownloadFile(url, destFile, options) {\n  this._url = url;\n  this._destFile = destFile;\n  this._options = options;\n\n  this._resetValues();\n}\n\nutil.inherits(DownloadFile, EventEmitter);\n/**\n *\n * @param {number} size - size of file\n * @private\n * @returns {*} - number of chunks\n */\n\nDownloadFile.prototype._calculateChunksNumber = function (size) {\n  var MB = 1024 * 1024;\n\n  for (var i = 0, j = this._options.threads.length; i < j; i++) {\n    if (size < this._options.threads[i].size * MB) {\n      return this._options.threads[i].number;\n    }\n  }\n\n  return 1;\n};\n/**\n * @private\n * @returns {void}\n */\n\n\nDownloadFile.prototype._concatChunks = function () {\n  var self = this;\n  var intervalTime = 500;\n  self._chunks[0].writeProgress = 1;\n\n  function countWriteProgress() {\n    self.writeProgress = self._chunks.reduce(function (a, b) {\n      return a + b.writeProgress;\n    }, 0) / self._chunksNumber;\n    self.emit("data");\n  }\n\n  function getWriteStream() {\n    return fs.createWriteStream(self._chunks[0].destFile, {\n      flags: "a"\n    });\n  }\n\n  function onInterval(writeStream, currentStream) {\n    self._chunks[currentStream].writeProgress = writeStream.bytesWritten / self._chunks[currentStream].available;\n\n    if (self._chunks[currentStream].writeProgress > 1) {\n      self._chunks[currentStream].writeProgress = 1;\n    }\n\n    countWriteProgress();\n  }\n\n  function pipeStream(writeStream, nextStreamNumber) {\n    var chunk = self._chunks[nextStreamNumber];\n\n    if (chunk) {\n      var interval = setInterval(function () {\n        onInterval(writeStream, nextStreamNumber);\n      }, intervalTime);\n      var readStream = fs.createReadStream(chunk.destFile);\n      readStream.pipe(writeStream);\n      writeStream.on("close", function () {\n        clearInterval(interval);\n        onInterval(writeStream, nextStreamNumber);\n        writeStream.removeAllListeners();\n        readStream.unpipe(writeStream);\n        readStream.destroy();\n        fs.unlink(chunk.destFile, function (err) {\n          if (err) {\n            self.emit("error", err);\n          } else {\n            writeStream.destroy();\n            pipeStream(getWriteStream(), nextStreamNumber + 1);\n          }\n        });\n      });\n    } else {\n      countWriteProgress();\n      writeStream.removeAllListeners();\n      writeStream.destroy();\n      fs.rename(self._chunks[0].destFile, self._destFile, function (err) {\n        if (err) {\n          self.emit("error", err);\n        } else {\n          self.emit("end");\n        }\n      });\n    }\n  }\n\n  if (self._chunks.length > 1) {\n    pipeStream(getWriteStream(), 1);\n  } else {\n    countWriteProgress();\n    self.emit("end");\n  }\n};\n/**\n *\n * @param {number} chunkNumber - chunk number\n * @private\n * @returns {void}\n */\n\n\nDownloadFile.prototype._initChunk = function (chunkNumber) {\n  var options = {};\n  options.bytesRangeNotAvailable = this._bytesRangeNotAvailable;\n  options.destFile = this._destFile;\n  options.maxDownloadRetry = this._options.maxDownloadChunkRetry;\n  options.maxDownloadInternetRetry = this._options.maxDownloadChunkInternetRetry;\n  options.timeout = this._options.timeout;\n  options.retryTimeout = this._options.retryTimeout;\n  options.useChunkedEncoding = this._options.useChunkedEncoding;\n  var size = this.file_size;\n\n  if (this._chunksNumber > 1) {\n    var chunkSize = parseInt(size / this._chunksNumber, 10);\n    options.startPosition = chunkNumber * chunkSize;\n    options.multiChunks = true;\n\n    if (chunkNumber === this._chunksNumber - 1) {\n      options.endPosition = size - 1;\n    } else {\n      options.endPosition = options.startPosition + chunkSize - 1;\n    }\n  } else {\n    options.startPosition = 0;\n    options.endPosition = size - 1;\n  }\n\n  var chunk = new DownloadFileChunk(this._url, options);\n  chunk.events.on("download", this._onChunkDownload.bind(this));\n\n  this._chunks.push(chunk);\n};\n/**\n *\n * @param {object} err - error\n * @param {boolean} aborted - if failure has been called because download was aborted\n * @private\n * @returns {void}\n */\n\n\nDownloadFile.prototype._onDownloadFailure = function (err, aborted) {\n  this._promises = null;\n\n  if (!aborted) {\n    this._errors = this._errors || 0;\n    this._errors++;\n\n    if (this._errors <= this._options.maxDownloadRetry) {\n      this._retryDownload();\n    } else {\n      this.emit("error", err);\n    }\n  } else {\n    var noSpaceLeft = false;\n\n    for (var i = 0, j = err.length; i < j; i++) {\n      if (err[i]) {\n        if (err[i] === downloadFileUtil.errors.NO_SPACE_LEFT_ERROR) {\n          noSpaceLeft = true;\n          break;\n        }\n      }\n    }\n\n    if (noSpaceLeft) {\n      err = {\n        message: downloadFileUtil.errors.NO_SPACE_LEFT_ERROR\n      };\n    }\n\n    this.emit("error", err);\n  }\n};\n/**\n *\n * @param {object} err - error\n * @private\n * @returns {void}\n */\n\n\nDownloadFile.prototype._onDownloadSuccess = function (err) {\n  var aborted, error;\n  this._promises = null;\n  err = err || [];\n\n  for (var i = 0, j = err.length; i < j; i++) {\n    if (err[i]) {\n      if (err[i] === downloadFileUtil.errors.ABORTED || err[i] === downloadFileUtil.errors.NO_SPACE_LEFT_ERROR) {\n        aborted = true;\n      }\n\n      error = true;\n    }\n  }\n\n  if (!error) {\n    this._concatChunks();\n  } else {\n    this._onDownloadFailure(err, aborted);\n  }\n};\n/**\n *\n * @param {number} downloaded - downloaded bytes\n * @private\n * @returns {void}\n */\n\n\nDownloadFile.prototype._onChunkDownload = function (downloaded) {\n  this.downloaded += downloaded;\n  this.available = this._chunks.reduce(function (a, b) {\n    return a + b.available;\n  }, 0);\n  this.emit("data");\n};\n\nDownloadFile.prototype._retryDownload = function () {\n  // console.log("retrying download", this._destFile);\n  this._resetValues();\n\n  this.start();\n};\n\nDownloadFile.prototype._resetValues = function () {\n  this.available = 0;\n  this.downloaded = 0;\n  this.progress = 0;\n  this.file_size = 0;\n  this.writeProgress = 0;\n  this._chunks = [];\n};\n/**\n * @private\n * @returns {void}\n */\n\n\nDownloadFile.prototype._startChunks = function () {\n  var promises = [];\n\n  for (var i = 0, j = this._chunks.length; i < j; i++) {\n    promises.push(this._chunks[i].start());\n  }\n\n  this._promises = promises;\n  Promise.all(this._promises).then(this._onDownloadSuccess.bind(this), this._onDownloadFailure.bind(this));\n};\n\nDownloadFile.prototype._startAllChunks = function () {\n  for (var i = 0, j = this._chunksNumber; i < j; i++) {\n    this._initChunk(i);\n  }\n\n  this._startChunks();\n};\n/**\n * starts download\n * @returns {void}\n */\n\n\nDownloadFile.prototype.start = function () {\n  var self = this;\n  var req_options = Object.assign({\n    url: this._url,\n    method: \'HEAD\'\n  }, downloadFileUtil.defaultOptions);\n\n  if (this._options.noCache) {\n    req_options.headers = req_options.headers || {};\n    req_options.headers[\'Cache-Control\'] = \'no-cache\';\n  }\n\n  var req = net.request(req_options);\n  req.chunkedEncoding = this._options.useChunkedEncoding;\n  req.on(\'response\', function (response) {\n    if (response && response.statusCode >= 400) {\n      var error = response.statusMessage;\n\n      if (error) {\n        self._onDownloadFailure(error, false);\n\n        return;\n      }\n    }\n\n    response.on("error", function (error) {\n      if (error) {\n        self._onDownloadFailure(error, false);\n      }\n    });\n    self._headers = response.headers;\n    self.file_size = Number(self._headers["content-length"]);\n    self._chunksNumber = self._calculateChunksNumber(self.file_size);\n    downloadFileUtil.checkForLocalFile(self._destFile, function (exists, fileSize) {\n      if (exists) {\n        if (fileSize === self.file_size) {\n          self.emit("end");\n        } else if (fileSize > self.file_size) {\n          fs.unlink(self._destFile, function (err) {\n            if (err) {\n              throw err;\n            }\n          });\n\n          self._startAllChunks();\n        } else if (fileSize < self.file_size && self._chunksNumber > 1) {\n          fs.unlink(self._destFile, function (err) {\n            if (err) {\n              throw err;\n            }\n          });\n\n          self._startAllChunks();\n        } else {\n          self._startAllChunks();\n        }\n      } else {\n        self._startAllChunks();\n      }\n    });\n  });\n  req.end();\n};\n/**\n * stops download\n * @returns {void}\n */\n\n\nDownloadFile.prototype.stop = function () {\n  var promises = [];\n\n  for (var i = 0, j = this._chunks.length; i < j; i++) {\n    this._chunks[i].stop();\n\n    if (this._chunks[i]._promise) {\n      promises.push(this._chunks[i]._promise);\n    }\n  }\n\n  function onStopped() {\n    this.emit("end", \'\');\n  }\n\n  if (!this._promises) {\n    Promise.all(promises).then(onStopped.bind(this), onStopped.bind(this));\n  }\n};\n\nmodule.exports = DownloadFile;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL2Rvd25sb2FkLWZpbGUuanM/MjEyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcbmNvbnN0IHtuZXR9ID0gcmVxdWlyZSgnZWxlY3Ryb24nKTtcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudHNcIikuRXZlbnRFbWl0dGVyO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuY29uc3QgZG93bmxvYWRGaWxlVXRpbCA9IHJlcXVpcmUoXCIuL2Rvd25sb2FkLWZpbGUtdXRpbFwiKTtcbmNvbnN0IERvd25sb2FkRmlsZUNodW5rID0gcmVxdWlyZShcIi4vZG93bmxvYWQtZmlsZS1jaHVua1wiKTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHJlbW90ZSB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBkZXN0RmlsZSAtIGxvY2FsIHVybFxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gRG93bmxvYWRGaWxlICh1cmwsIGRlc3RGaWxlLCBvcHRpb25zKSB7XG4gIHRoaXMuX3VybCA9IHVybDtcbiAgdGhpcy5fZGVzdEZpbGUgPSBkZXN0RmlsZTtcbiAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMuX3Jlc2V0VmFsdWVzKCk7XG59XG5cbnV0aWwuaW5oZXJpdHMoRG93bmxvYWRGaWxlLCBFdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIHNpemUgb2YgZmlsZVxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHsqfSAtIG51bWJlciBvZiBjaHVua3NcbiAqL1xuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5fY2FsY3VsYXRlQ2h1bmtzTnVtYmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgY29uc3QgTUIgPSAxMDI0ICogMTAyNDtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLl9vcHRpb25zLnRocmVhZHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgaWYgKHNpemUgPCB0aGlzLl9vcHRpb25zLnRocmVhZHNbaV0uc2l6ZSAqIE1CKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucy50aHJlYWRzW2ldLm51bWJlclxuICAgIH1cbiAgfVxuICByZXR1cm4gMTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZEZpbGUucHJvdG90eXBlLl9jb25jYXRDaHVua3MgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBjb25zdCBpbnRlcnZhbFRpbWUgPSA1MDA7XG4gIHNlbGYuX2NodW5rc1swXS53cml0ZVByb2dyZXNzID0gMTtcbiAgZnVuY3Rpb24gY291bnRXcml0ZVByb2dyZXNzICgpIHtcbiAgICBzZWxmLndyaXRlUHJvZ3Jlc3MgPSBzZWxmLl9jaHVua3MucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhICsgYi53cml0ZVByb2dyZXNzO1xuICAgICAgfSwgMCkgLyBzZWxmLl9jaHVua3NOdW1iZXI7XG4gICAgc2VsZi5lbWl0KFwiZGF0YVwiKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRXcml0ZVN0cmVhbSAoKSB7XG4gICAgcmV0dXJuIGZzLmNyZWF0ZVdyaXRlU3RyZWFtKHNlbGYuX2NodW5rc1swXS5kZXN0RmlsZSwge2ZsYWdzOiBcImFcIn0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25JbnRlcnZhbCAod3JpdGVTdHJlYW0sIGN1cnJlbnRTdHJlYW0pIHtcbiAgICBzZWxmLl9jaHVua3NbY3VycmVudFN0cmVhbV0ud3JpdGVQcm9ncmVzcyA9IHdyaXRlU3RyZWFtLmJ5dGVzV3JpdHRlbiAvIHNlbGYuX2NodW5rc1tjdXJyZW50U3RyZWFtXS5hdmFpbGFibGU7XG4gICAgaWYgKHNlbGYuX2NodW5rc1tjdXJyZW50U3RyZWFtXS53cml0ZVByb2dyZXNzID4gMSkge1xuICAgICAgc2VsZi5fY2h1bmtzW2N1cnJlbnRTdHJlYW1dLndyaXRlUHJvZ3Jlc3MgPSAxO1xuICAgIH1cbiAgICBjb3VudFdyaXRlUHJvZ3Jlc3MoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBpcGVTdHJlYW0gKHdyaXRlU3RyZWFtLCBuZXh0U3RyZWFtTnVtYmVyKSB7XG4gICAgY29uc3QgY2h1bmsgPSBzZWxmLl9jaHVua3NbbmV4dFN0cmVhbU51bWJlcl07XG4gICAgaWYgKGNodW5rKSB7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb25JbnRlcnZhbCh3cml0ZVN0cmVhbSwgbmV4dFN0cmVhbU51bWJlcik7XG4gICAgICB9LCBpbnRlcnZhbFRpbWUpO1xuICAgICAgY29uc3QgcmVhZFN0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0oY2h1bmsuZGVzdEZpbGUpO1xuICAgICAgcmVhZFN0cmVhbS5waXBlKHdyaXRlU3RyZWFtKTtcbiAgICAgIHdyaXRlU3RyZWFtLm9uKFwiY2xvc2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgb25JbnRlcnZhbCh3cml0ZVN0cmVhbSwgbmV4dFN0cmVhbU51bWJlcik7XG5cbiAgICAgICAgd3JpdGVTdHJlYW0ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgcmVhZFN0cmVhbS51bnBpcGUod3JpdGVTdHJlYW0pO1xuICAgICAgICByZWFkU3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgZnMudW5saW5rKGNodW5rLmRlc3RGaWxlLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JpdGVTdHJlYW0uZGVzdHJveSgpO1xuICAgICAgICAgICAgcGlwZVN0cmVhbShnZXRXcml0ZVN0cmVhbSgpLCBuZXh0U3RyZWFtTnVtYmVyICsgMSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50V3JpdGVQcm9ncmVzcygpO1xuICAgICAgd3JpdGVTdHJlYW0ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB3cml0ZVN0cmVhbS5kZXN0cm95KCk7XG5cbiAgICAgIGZzLnJlbmFtZShzZWxmLl9jaHVua3NbMF0uZGVzdEZpbGUsIHNlbGYuX2Rlc3RGaWxlLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuZW1pdChcImVuZFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbGYuX2NodW5rcy5sZW5ndGggPiAxKSB7XG4gICAgcGlwZVN0cmVhbShnZXRXcml0ZVN0cmVhbSgpLCAxKTtcbiAgfSBlbHNlIHtcbiAgICBjb3VudFdyaXRlUHJvZ3Jlc3MoKTtcbiAgICBzZWxmLmVtaXQoXCJlbmRcIik7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBjaHVua051bWJlciAtIGNodW5rIG51bWJlclxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZEZpbGUucHJvdG90eXBlLl9pbml0Q2h1bmsgPSBmdW5jdGlvbiAoY2h1bmtOdW1iZXIpIHtcbiAgbGV0IG9wdGlvbnMgPSB7fTtcbiAgb3B0aW9ucy5ieXRlc1JhbmdlTm90QXZhaWxhYmxlID0gdGhpcy5fYnl0ZXNSYW5nZU5vdEF2YWlsYWJsZTtcbiAgb3B0aW9ucy5kZXN0RmlsZSA9IHRoaXMuX2Rlc3RGaWxlO1xuICBvcHRpb25zLm1heERvd25sb2FkUmV0cnkgPSB0aGlzLl9vcHRpb25zLm1heERvd25sb2FkQ2h1bmtSZXRyeTtcbiAgb3B0aW9ucy5tYXhEb3dubG9hZEludGVybmV0UmV0cnkgPSB0aGlzLl9vcHRpb25zLm1heERvd25sb2FkQ2h1bmtJbnRlcm5ldFJldHJ5O1xuICBvcHRpb25zLnRpbWVvdXQgPSB0aGlzLl9vcHRpb25zLnRpbWVvdXQ7XG4gIG9wdGlvbnMucmV0cnlUaW1lb3V0ID0gdGhpcy5fb3B0aW9ucy5yZXRyeVRpbWVvdXQ7XG4gIG9wdGlvbnMudXNlQ2h1bmtlZEVuY29kaW5nID0gdGhpcy5fb3B0aW9ucy51c2VDaHVua2VkRW5jb2Rpbmc7XG5cbiAgY29uc3Qgc2l6ZSA9IHRoaXMuZmlsZV9zaXplO1xuICBpZiAodGhpcy5fY2h1bmtzTnVtYmVyID4gMSkge1xuICAgIGNvbnN0IGNodW5rU2l6ZSA9IHBhcnNlSW50KHNpemUgLyB0aGlzLl9jaHVua3NOdW1iZXIsIDEwKTtcbiAgICBvcHRpb25zLnN0YXJ0UG9zaXRpb24gPSAoY2h1bmtOdW1iZXIpICogY2h1bmtTaXplO1xuICAgIG9wdGlvbnMubXVsdGlDaHVua3MgPSB0cnVlO1xuICAgIGlmIChjaHVua051bWJlciA9PT0gdGhpcy5fY2h1bmtzTnVtYmVyIC0gMSkge1xuICAgICAgb3B0aW9ucy5lbmRQb3NpdGlvbiA9IHNpemUgLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zLmVuZFBvc2l0aW9uID0gb3B0aW9ucy5zdGFydFBvc2l0aW9uICsgY2h1bmtTaXplIC0gMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucy5zdGFydFBvc2l0aW9uID0gMDtcbiAgICBvcHRpb25zLmVuZFBvc2l0aW9uID0gc2l6ZSAtIDE7XG4gIH1cbiAgY29uc3QgY2h1bmsgPSBuZXcgRG93bmxvYWRGaWxlQ2h1bmsodGhpcy5fdXJsLCBvcHRpb25zKTtcbiAgY2h1bmsuZXZlbnRzLm9uKFwiZG93bmxvYWRcIiwgdGhpcy5fb25DaHVua0Rvd25sb2FkLmJpbmQodGhpcykpO1xuICB0aGlzLl9jaHVua3MucHVzaChjaHVuayk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZXJyIC0gZXJyb3JcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYWJvcnRlZCAtIGlmIGZhaWx1cmUgaGFzIGJlZW4gY2FsbGVkIGJlY2F1c2UgZG93bmxvYWQgd2FzIGFib3J0ZWRcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5fb25Eb3dubG9hZEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyLCBhYm9ydGVkKSB7XG4gIHRoaXMuX3Byb21pc2VzID0gbnVsbDtcbiAgaWYgKCFhYm9ydGVkKSB7XG4gICAgdGhpcy5fZXJyb3JzID0gdGhpcy5fZXJyb3JzIHx8IDA7XG4gICAgdGhpcy5fZXJyb3JzKys7XG4gICAgaWYgKHRoaXMuX2Vycm9ycyA8PSB0aGlzLl9vcHRpb25zLm1heERvd25sb2FkUmV0cnkpIHtcbiAgICAgIHRoaXMuX3JldHJ5RG93bmxvYWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IG5vU3BhY2VMZWZ0ID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBlcnIubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBpZiAoZXJyW2ldKSB7XG4gICAgICAgIGlmIChlcnJbaV0gPT09IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLk5PX1NQQUNFX0xFRlRfRVJST1IpIHtcbiAgICAgICAgICBub1NwYWNlTGVmdCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobm9TcGFjZUxlZnQpIHtcbiAgICAgIGVyciA9IHtcbiAgICAgICAgbWVzc2FnZTogZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuTk9fU1BBQ0VfTEVGVF9FUlJPUlxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgfVxuXG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZXJyIC0gZXJyb3JcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5fb25Eb3dubG9hZFN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXJyKSB7XG4gIGxldCBhYm9ydGVkLCBlcnJvcjtcbiAgdGhpcy5fcHJvbWlzZXMgPSBudWxsO1xuICBlcnIgPSBlcnIgfHwgW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gZXJyLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGlmIChlcnJbaV0pIHtcbiAgICAgIGlmIChlcnJbaV0gPT09IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkFCT1JURUQgfHxcbiAgICAgICAgICBlcnJbaV0gPT09IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLk5PX1NQQUNFX0xFRlRfRVJST1IpIHtcbiAgICAgICAgYWJvcnRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBlcnJvciA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmICghZXJyb3IpIHtcbiAgICB0aGlzLl9jb25jYXRDaHVua3MoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9vbkRvd25sb2FkRmFpbHVyZShlcnIsIGFib3J0ZWQpO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZG93bmxvYWRlZCAtIGRvd25sb2FkZWQgYnl0ZXNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5fb25DaHVua0Rvd25sb2FkID0gZnVuY3Rpb24gKGRvd25sb2FkZWQpIHtcbiAgdGhpcy5kb3dubG9hZGVkICs9IGRvd25sb2FkZWQ7XG4gIHRoaXMuYXZhaWxhYmxlID0gdGhpcy5fY2h1bmtzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhICsgYi5hdmFpbGFibGU7XG4gIH0sIDApO1xuICB0aGlzLmVtaXQoXCJkYXRhXCIpO1xufTtcblxuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5fcmV0cnlEb3dubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gY29uc29sZS5sb2coXCJyZXRyeWluZyBkb3dubG9hZFwiLCB0aGlzLl9kZXN0RmlsZSk7XG4gIHRoaXMuX3Jlc2V0VmFsdWVzKCk7XG4gIHRoaXMuc3RhcnQoKTtcbn07XG5cbkRvd25sb2FkRmlsZS5wcm90b3R5cGUuX3Jlc2V0VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmF2YWlsYWJsZSA9IDA7XG4gIHRoaXMuZG93bmxvYWRlZCA9IDA7XG4gIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICB0aGlzLmZpbGVfc2l6ZSA9IDA7XG4gIHRoaXMud3JpdGVQcm9ncmVzcyA9IDA7XG4gIHRoaXMuX2NodW5rcyA9IFtdO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkRmlsZS5wcm90b3R5cGUuX3N0YXJ0Q2h1bmtzID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLl9jaHVua3MubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgcHJvbWlzZXMucHVzaCh0aGlzLl9jaHVua3NbaV0uc3RhcnQoKSk7XG4gIH1cbiAgdGhpcy5fcHJvbWlzZXMgPSBwcm9taXNlcztcbiAgUHJvbWlzZS5hbGwodGhpcy5fcHJvbWlzZXMpLnRoZW4odGhpcy5fb25Eb3dubG9hZFN1Y2Nlc3MuYmluZCh0aGlzKSwgdGhpcy5fb25Eb3dubG9hZEZhaWx1cmUuYmluZCh0aGlzKSk7XG59O1xuXG5Eb3dubG9hZEZpbGUucHJvdG90eXBlLl9zdGFydEFsbENodW5rcyA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLl9jaHVua3NOdW1iZXI7IGkgPCBqOyBpKyspIHtcbiAgICB0aGlzLl9pbml0Q2h1bmsoaSlcbiAgfVxuICB0aGlzLl9zdGFydENodW5rcygpO1xufTtcblxuLyoqXG4gKiBzdGFydHMgZG93bmxvYWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZEZpbGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgbGV0IHJlcV9vcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICB1cmw6IHRoaXMuX3VybCxcbiAgICAgIG1ldGhvZDogJ0hFQUQnXG4gICAgfSxcbiAgICBkb3dubG9hZEZpbGVVdGlsLmRlZmF1bHRPcHRpb25zXG4gICk7XG4gIGlmICh0aGlzLl9vcHRpb25zLm5vQ2FjaGUpIHtcbiAgICByZXFfb3B0aW9ucy5oZWFkZXJzID0gcmVxX29wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgICByZXFfb3B0aW9ucy5oZWFkZXJzWydDYWNoZS1Db250cm9sJ10gPSAnbm8tY2FjaGUnO1xuICB9XG5cbiAgbGV0IHJlcSA9IG5ldC5yZXF1ZXN0KHJlcV9vcHRpb25zKTtcbiAgcmVxLmNodW5rZWRFbmNvZGluZyA9IHRoaXMuX29wdGlvbnMudXNlQ2h1bmtlZEVuY29kaW5nO1xuXG4gIHJlcS5vbigncmVzcG9uc2UnLCAocmVzcG9uc2UpID0+IHtcbiAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgIGxldCBlcnJvciA9IHJlc3BvbnNlLnN0YXR1c01lc3NhZ2U7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgc2VsZi5fb25Eb3dubG9hZEZhaWx1cmUoZXJyb3IsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXNwb25zZS5vbihcImVycm9yXCIsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHNlbGYuX29uRG93bmxvYWRGYWlsdXJlKGVycm9yLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzZWxmLl9oZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcbiAgICBzZWxmLmZpbGVfc2l6ZSA9IE51bWJlcihzZWxmLl9oZWFkZXJzW1wiY29udGVudC1sZW5ndGhcIl0pO1xuICAgIHNlbGYuX2NodW5rc051bWJlciA9IHNlbGYuX2NhbGN1bGF0ZUNodW5rc051bWJlcihzZWxmLmZpbGVfc2l6ZSk7XG5cbiAgICBkb3dubG9hZEZpbGVVdGlsLmNoZWNrRm9yTG9jYWxGaWxlKHNlbGYuX2Rlc3RGaWxlLCBmdW5jdGlvbiAoZXhpc3RzLCBmaWxlU2l6ZSkge1xuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICBpZiAoZmlsZVNpemUgPT09IHNlbGYuZmlsZV9zaXplKSB7XG4gICAgICAgICAgc2VsZi5lbWl0KFwiZW5kXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGVTaXplID4gc2VsZi5maWxlX3NpemUpIHtcbiAgICAgICAgICBmcy51bmxpbmsoc2VsZi5fZGVzdEZpbGUsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbGYuX3N0YXJ0QWxsQ2h1bmtzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZVNpemUgPCBzZWxmLmZpbGVfc2l6ZSAmJiBzZWxmLl9jaHVua3NOdW1iZXIgPiAxKSB7XG4gICAgICAgICAgZnMudW5saW5rKHNlbGYuX2Rlc3RGaWxlLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZWxmLl9zdGFydEFsbENodW5rcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuX3N0YXJ0QWxsQ2h1bmtzKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuX3N0YXJ0QWxsQ2h1bmtzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXEuZW5kKCk7XG59O1xuXG4vKipcbiAqIHN0b3BzIGRvd25sb2FkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLl9jaHVua3MubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgdGhpcy5fY2h1bmtzW2ldLnN0b3AoKTtcbiAgICBpZiAodGhpcy5fY2h1bmtzW2ldLl9wcm9taXNlKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2NodW5rc1tpXS5fcHJvbWlzZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uU3RvcHBlZCAoKSB7XG4gICAgdGhpcy5lbWl0KFwiZW5kXCIsICcnKTtcbiAgfVxuICBpZiAoIXRoaXMuX3Byb21pc2VzKSB7XG4gICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4ob25TdG9wcGVkLmJpbmQodGhpcyksIG9uU3RvcHBlZC5iaW5kKHRoaXMpKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb3dubG9hZEZpbGU7XG4iXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwibmV0IiwiRXZlbnRFbWl0dGVyIiwidXRpbCIsImRvd25sb2FkRmlsZVV0aWwiLCJEb3dubG9hZEZpbGVDaHVuayIsIkRvd25sb2FkRmlsZSIsInVybCIsImRlc3RGaWxlIiwib3B0aW9ucyIsIl91cmwiLCJfZGVzdEZpbGUiLCJfb3B0aW9ucyIsIl9yZXNldFZhbHVlcyIsImluaGVyaXRzIiwicHJvdG90eXBlIiwiX2NhbGN1bGF0ZUNodW5rc051bWJlciIsInNpemUiLCJNQiIsImkiLCJqIiwidGhyZWFkcyIsImxlbmd0aCIsIm51bWJlciIsIl9jb25jYXRDaHVua3MiLCJzZWxmIiwiaW50ZXJ2YWxUaW1lIiwiX2NodW5rcyIsIndyaXRlUHJvZ3Jlc3MiLCJjb3VudFdyaXRlUHJvZ3Jlc3MiLCJyZWR1Y2UiLCJhIiwiYiIsIl9jaHVua3NOdW1iZXIiLCJlbWl0IiwiZ2V0V3JpdGVTdHJlYW0iLCJjcmVhdGVXcml0ZVN0cmVhbSIsImZsYWdzIiwib25JbnRlcnZhbCIsIndyaXRlU3RyZWFtIiwiY3VycmVudFN0cmVhbSIsImJ5dGVzV3JpdHRlbiIsImF2YWlsYWJsZSIsInBpcGVTdHJlYW0iLCJuZXh0U3RyZWFtTnVtYmVyIiwiY2h1bmsiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwicmVhZFN0cmVhbSIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwaXBlIiwib24iLCJjbGVhckludGVydmFsIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwidW5waXBlIiwiZGVzdHJveSIsInVubGluayIsImVyciIsInJlbmFtZSIsIl9pbml0Q2h1bmsiLCJjaHVua051bWJlciIsImJ5dGVzUmFuZ2VOb3RBdmFpbGFibGUiLCJfYnl0ZXNSYW5nZU5vdEF2YWlsYWJsZSIsIm1heERvd25sb2FkUmV0cnkiLCJtYXhEb3dubG9hZENodW5rUmV0cnkiLCJtYXhEb3dubG9hZEludGVybmV0UmV0cnkiLCJtYXhEb3dubG9hZENodW5rSW50ZXJuZXRSZXRyeSIsInRpbWVvdXQiLCJyZXRyeVRpbWVvdXQiLCJ1c2VDaHVua2VkRW5jb2RpbmciLCJmaWxlX3NpemUiLCJjaHVua1NpemUiLCJwYXJzZUludCIsInN0YXJ0UG9zaXRpb24iLCJtdWx0aUNodW5rcyIsImVuZFBvc2l0aW9uIiwiZXZlbnRzIiwiX29uQ2h1bmtEb3dubG9hZCIsImJpbmQiLCJwdXNoIiwiX29uRG93bmxvYWRGYWlsdXJlIiwiYWJvcnRlZCIsIl9wcm9taXNlcyIsIl9lcnJvcnMiLCJfcmV0cnlEb3dubG9hZCIsIm5vU3BhY2VMZWZ0IiwiZXJyb3JzIiwiTk9fU1BBQ0VfTEVGVF9FUlJPUiIsIm1lc3NhZ2UiLCJfb25Eb3dubG9hZFN1Y2Nlc3MiLCJlcnJvciIsIkFCT1JURUQiLCJkb3dubG9hZGVkIiwic3RhcnQiLCJwcm9ncmVzcyIsIl9zdGFydENodW5rcyIsInByb21pc2VzIiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJfc3RhcnRBbGxDaHVua3MiLCJyZXFfb3B0aW9ucyIsIk9iamVjdCIsImFzc2lnbiIsIm1ldGhvZCIsImRlZmF1bHRPcHRpb25zIiwibm9DYWNoZSIsImhlYWRlcnMiLCJyZXEiLCJyZXF1ZXN0IiwiY2h1bmtlZEVuY29kaW5nIiwicmVzcG9uc2UiLCJzdGF0dXNDb2RlIiwic3RhdHVzTWVzc2FnZSIsIl9oZWFkZXJzIiwiTnVtYmVyIiwiY2hlY2tGb3JMb2NhbEZpbGUiLCJleGlzdHMiLCJmaWxlU2l6ZSIsImVuZCIsInN0b3AiLCJfcHJvbWlzZSIsIm9uU3RvcHBlZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4959\n')},8158:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar _ = __webpack_require__(4952);\n\nvar domain = __webpack_require__(3639);\n\nvar DownloadFileNoHead = __webpack_require__(5979);\n\nvar DownloadFile = __webpack_require__(4959);\n\nvar mkdirp = __webpack_require__(9526);\n\nvar appSettings = __webpack_require__(9277);\n\nvar EventEmitter = (__webpack_require__(2361).EventEmitter);\n\nvar STATUSES = __webpack_require__(8255);\n/**\n *\n * @param {object} params - parameters connected with download like id, bandwidth, contentType, remoteUrl, localUrl\n * see util class {@link downloadUtil.getDownloadLinks}\n * @param {object} options - options chosen for whole manifest, like number of chunks, retry,\n * @constructor\n */\n\n\nfunction Download(params, options) {\n  this._defaults = {};\n  this._defaults.threads = appSettings.getSettings().downloadingThreadsRules.threads;\n  this.status = STATUSES.CREATED;\n  Object.assign(this, params);\n  this._options = Object.assign(this._defaults, options);\n  this._options.maxDownloadRetry = appSettings.getSettings().MAX_ERRORS_DOWNLOAD_RETRY;\n  this._options.maxDownloadChunkRetry = appSettings.getSettings().MAX_ERRORS_DOWNLOAD_CHUNK_RETRY;\n  this._options.maxDownloadChunkInternetRetry = appSettings.getSettings().MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY;\n  this._options.timeout = appSettings.getSettings().times.DOWNLOAD_TIMEOUT;\n  this._options.retryTimeout = appSettings.getSettings().times.RETRY_TIMEOUT;\n  this._options.useChunkedEncoding = appSettings.getSettings().useChunkedEncoding;\n  this._options.useHeadRequests = appSettings.getSettings().useHeadRequests;\n  this._options.noCache = appSettings.getSettings().noCache;\n  this.stats = {\n    available: 0,\n    downloaded: 0,\n    file_size: 0,\n    writeProgress: 0\n  };\n\n  _.bindAll(this, "_onError", "_onEnd", "_onData", "_updateStats", "_attachEvents", "_removeEvents", "_removeEventsOnStop");\n\n  this.events = new EventEmitter();\n}\n/**\n * @private\n * @returns {void}\n */\n\n\nDownload.prototype._attachEvents = function () {\n  this._dl.on(\'error\', this._onError);\n\n  this._dl.on(\'end\', this._onEnd);\n\n  this._dl.on(\'data\', this._onData);\n};\n/**\n *\n * @param {function} callback - callback to be invoked then local path is created\n * @private\n * @returns {void}\n */\n\n\nDownload.prototype._createLocalPath = function (callback) {\n  var folders = this.localUrl.split("/");\n  folders = folders.slice(0, folders.length - 1);\n  folders = folders.join("/");\n  mkdirp(folders).then(function () {\n    callback();\n  }, function (error) {\n    callback(error);\n  });\n};\n/**\n *\n * @private\n * @returns {void}\n */\n\n\nDownload.prototype._onData = function () {\n  this._updateStats();\n};\n/**\n * @private\n * @returns {void}\n */\n\n\nDownload.prototype._onEnd = function () {\n  this.status = STATUSES.FINISHED;\n\n  this._updateStats();\n\n  this._removeEvents();\n\n  this.events.emit("end", this);\n};\n/**\n *\n * @param {object} data - error data\n * @private\n * @returns {void}\n */\n\n\nDownload.prototype._onError = function (data) {\n  var self = this;\n  this.status = STATUSES.ERROR;\n  data = data || {};\n  var message = data.message || "";\n\n  self._removeEvents();\n\n  self._updateStats(); // notify only if there exists any error listener (from downloads controller)\n  // otherwise EventEmitter throws an error\n\n\n  if (self.events.listeners(\'error\').length) {\n    self.events.emit("error", self, message);\n  }\n};\n\nDownload.prototype._onDomainError = function (data) {\n  var self = this;\n  data = data || {};\n  var message = data.message || "";\n\n  if (self._dl) {\n    if (message === \'net::ERR_NETWORK_CHANGED\' || message === \'net::ERR_SPDY_PROTOCOL_ERROR\' || message === \'net::ERR_HTTP2_PROTOCOL_ERROR\') {\n      // network changed during download, retry download\n      self.stop(function () {\n        self.start();\n      });\n    } else {\n      // stop current download to release file stream and notify error\n      self.stop(function () {\n        self._onError(data);\n      });\n    }\n  } else {\n    self._onError(data);\n  }\n};\n/**\n * @private\n * @returns {void}\n */\n\n\nDownload.prototype._removeEvents = function () {\n  if (typeof this._dl.removeListener === "function") {\n    this._dl.removeListener(\'error\', this._onError);\n\n    this._dl.removeListener(\'end\', this._onEnd);\n\n    this._dl.removeListener(\'data\', this._onData);\n  }\n};\n/**\n * @private\n * @returns {void}\n */\n\n\nDownload.prototype._removeEventsOnStop = function () {\n  if (this._dl && typeof this._dl.removeListener === "function") {\n    this._dl.removeListener(\'error\', this._onError);\n\n    this._dl.removeListener(\'end\', this._onEnd);\n  }\n};\n/**\n * @private\n * @returns {void}\n */\n\n\nDownload.prototype._updateStats = function () {\n  if (this.status === STATUSES.FINISHED) {\n    this.stats.available = this._dl.file_size;\n    this.stats.writeProgress = 1;\n  } else {\n    this.stats.available = this._dl.available;\n    this.stats.writeProgress = this._dl.writeProgress;\n  }\n\n  this.stats.downloaded = this._dl.downloaded;\n  this.stats.file_size = this._dl.file_size;\n};\n/**\n * @returns {void}\n */\n\n\nDownload.prototype.start = function () {\n  var self = this;\n  this.status = STATUSES.STARTED;\n\n  this._createLocalPath(function (err) {\n    if (err) {\n      self._onError(err);\n\n      return;\n    } // NOTE: domain module is marked to be deprecated in the future,\n    //       we will use it until NodeJS will propose alternative or\n    //       rewrite with promises\n\n\n    var d = domain.create();\n    d.on(\'error\', function (err) {\n      var message = \'\';\n\n      if (err) {\n        message = err.code || err.message || "";\n      } // this needs to be disposed otherwise it might complain about unhandled error.\n\n\n      if (typeof d.dispose === "function") {\n        d.dispose();\n      }\n\n      self._onDomainError({\n        message: message\n      });\n    });\n    d.run(function () {\n      self._dl = self.createDownloader(self.remoteUrl, self.localUrl, self._options);\n\n      self._attachEvents();\n\n      self._dl.start();\n    });\n  });\n};\n/**\n * Creates file downloader\n * @param {string} [remoteUrl] - url of fragment\n * @param {string} [localUrl] - local url where to download fragment\n * @param {object} [options] - some options\n * @returns {void}\n */\n\n\nDownload.prototype.createDownloader = function (remoteUrl, localUrl, options) {\n  if (this._options.useHeadRequests) {\n    return new DownloadFile(remoteUrl, localUrl, options);\n  } else {\n    return new DownloadFileNoHead(remoteUrl, localUrl, options);\n  }\n};\n/**\n * @param {function} [resolve] - callback to be invoked when stop was successfully\n * @returns {void}\n */\n\n\nDownload.prototype.stop = function (resolve) {\n  var self = this;\n  this.status = STATUSES.STOPPED;\n\n  this._removeEventsOnStop();\n\n  if (typeof resolve !== "function") {\n    resolve = function resolve() {};\n  }\n\n  if (this._dl) {\n    var d = domain.create();\n    d.on(\'error\', function () {\n      resolve();\n    });\n    d.run(function () {\n      self._dl.on(\'error\', function () {\n        resolve();\n      });\n\n      self._dl.on(\'end\', function () {\n        resolve();\n      });\n\n      self._dl.stop();\n    });\n  } else {\n    resolve();\n  }\n};\n/**\n *\n * @returns {Promise} - promise\n */\n\n\nDownload.prototype.stopPromise = function () {\n  var self = this;\n  return new Promise(function (resolve) {\n    self.stop(function () {\n      resolve();\n    });\n  });\n};\n\nmodule.exports = Download;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNoQmYsSUFBSSxDQUFDcEIsR0FBTCxDQUFTQyxFQUFULENBQVksT0FBWixFQUFxQixZQUFZO1FBQy9CcUMsT0FBTztNQUNSLENBRkQ7O01BR0FsQixJQUFJLENBQUNwQixHQUFMLENBQVNDLEVBQVQsQ0FBWSxLQUFaLEVBQW1CLFlBQVk7UUFDN0JxQyxPQUFPO01BQ1IsQ0FGRDs7TUFHQWxCLElBQUksQ0FBQ3BCLEdBQUwsQ0FBU3lCLElBQVQ7SUFDRCxDQVJEO0VBU0QsQ0FkRCxNQWNPO0lBQ0xhLE9BQU87RUFDUjtBQUNGLENBekJEO0FBMkJBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQXpFLFFBQVEsQ0FBQ2lDLFNBQVQsQ0FBbUIwQyxXQUFuQixHQUFpQyxZQUFZO0VBQzNDLElBQU1wQixJQUFJLEdBQUcsSUFBYjtFQUNBLE9BQU8sSUFBSXFCLE9BQUosQ0FBWSxVQUFVSCxPQUFWLEVBQW1CO0lBQ3BDbEIsSUFBSSxDQUFDSyxJQUFMLENBQVUsWUFBWTtNQUNwQmEsT0FBTztJQUNSLENBRkQ7RUFHRCxDQUpNLENBQVA7QUFLRCxDQVBEOztBQVNBSSxNQUFNLENBQUNDLE9BQVAsR0FBaUI5RSxRQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL2Rvd25sb2FkLmpzPzE4MTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfID0gcmVxdWlyZShcInVuZGVyc2NvcmVcIik7XG5jb25zdCBkb21haW4gPSByZXF1aXJlKCdkb21haW4nKTtcbmNvbnN0IERvd25sb2FkRmlsZU5vSGVhZCA9IHJlcXVpcmUoXCIuL2Rvd25sb2FkLWZpbGUtbm8taGVhZFwiKTtcbmNvbnN0IERvd25sb2FkRmlsZSA9IHJlcXVpcmUoXCIuL2Rvd25sb2FkLWZpbGVcIik7XG5jb25zdCBta2RpcnAgPSByZXF1aXJlKFwibWtkaXJwXCIpO1xuXG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi9hcHAtc2V0dGluZ3NcIik7XG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRzXCIpLkV2ZW50RW1pdHRlcjtcbmNvbnN0IFNUQVRVU0VTID0gcmVxdWlyZShcIi4vc3RhdHVzZXNcIik7XG5cblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAtIHBhcmFtZXRlcnMgY29ubmVjdGVkIHdpdGggZG93bmxvYWQgbGlrZSBpZCwgYmFuZHdpZHRoLCBjb250ZW50VHlwZSwgcmVtb3RlVXJsLCBsb2NhbFVybFxuICogc2VlIHV0aWwgY2xhc3Mge0BsaW5rIGRvd25sb2FkVXRpbC5nZXREb3dubG9hZExpbmtzfVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGNob3NlbiBmb3Igd2hvbGUgbWFuaWZlc3QsIGxpa2UgbnVtYmVyIG9mIGNodW5rcywgcmV0cnksXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gRG93bmxvYWQgKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9kZWZhdWx0cyA9IHt9O1xuICB0aGlzLl9kZWZhdWx0cy50aHJlYWRzID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kb3dubG9hZGluZ1RocmVhZHNSdWxlcy50aHJlYWRzO1xuICB0aGlzLnN0YXR1cyA9IFNUQVRVU0VTLkNSRUFURUQ7XG4gIE9iamVjdC5hc3NpZ24odGhpcywgcGFyYW1zKTtcbiAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy5fZGVmYXVsdHMsIG9wdGlvbnMpO1xuICB0aGlzLl9vcHRpb25zLm1heERvd25sb2FkUmV0cnkgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLk1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlk7XG4gIHRoaXMuX29wdGlvbnMubWF4RG93bmxvYWRDaHVua1JldHJ5ID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5NQVhfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZO1xuICB0aGlzLl9vcHRpb25zLm1heERvd25sb2FkQ2h1bmtJbnRlcm5ldFJldHJ5ID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5NQVhfSU5URVJORVRfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZO1xuICB0aGlzLl9vcHRpb25zLnRpbWVvdXQgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnRpbWVzLkRPV05MT0FEX1RJTUVPVVQ7XG4gIHRoaXMuX29wdGlvbnMucmV0cnlUaW1lb3V0ID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS50aW1lcy5SRVRSWV9USU1FT1VUO1xuICB0aGlzLl9vcHRpb25zLnVzZUNodW5rZWRFbmNvZGluZyA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkudXNlQ2h1bmtlZEVuY29kaW5nO1xuICB0aGlzLl9vcHRpb25zLnVzZUhlYWRSZXF1ZXN0cyA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkudXNlSGVhZFJlcXVlc3RzO1xuICB0aGlzLl9vcHRpb25zLm5vQ2FjaGUgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm5vQ2FjaGU7XG4gIHRoaXMuc3RhdHMgPSB7XG4gICAgYXZhaWxhYmxlOiAwLFxuICAgIGRvd25sb2FkZWQ6IDAsXG4gICAgZmlsZV9zaXplOiAwLFxuICAgIHdyaXRlUHJvZ3Jlc3M6IDBcbiAgfTtcbiAgXy5iaW5kQWxsKHRoaXMsIFwiX29uRXJyb3JcIiwgXCJfb25FbmRcIiwgXCJfb25EYXRhXCIsIFwiX3VwZGF0ZVN0YXRzXCIsIFwiX2F0dGFjaEV2ZW50c1wiLCBcIl9yZW1vdmVFdmVudHNcIixcbiAgICBcIl9yZW1vdmVFdmVudHNPblN0b3BcIik7XG5cbiAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZC5wcm90b3R5cGUuX2F0dGFjaEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fZGwub24oJ2Vycm9yJywgdGhpcy5fb25FcnJvcik7XG4gIHRoaXMuX2RsLm9uKCdlbmQnLCB0aGlzLl9vbkVuZCk7XG4gIHRoaXMuX2RsLm9uKCdkYXRhJywgdGhpcy5fb25EYXRhKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB0aGVuIGxvY2FsIHBhdGggaXMgY3JlYXRlZFxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZC5wcm90b3R5cGUuX2NyZWF0ZUxvY2FsUGF0aCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICBsZXQgZm9sZGVycyA9IHRoaXMubG9jYWxVcmwuc3BsaXQoXCIvXCIpO1xuICBmb2xkZXJzID0gZm9sZGVycy5zbGljZSgwLCBmb2xkZXJzLmxlbmd0aCAtIDEpO1xuICBmb2xkZXJzID0gZm9sZGVycy5qb2luKFwiL1wiKTtcbiAgbWtkaXJwKGZvbGRlcnMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkLnByb3RvdHlwZS5fb25EYXRhID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl91cGRhdGVTdGF0cygpO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkLnByb3RvdHlwZS5fb25FbmQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuc3RhdHVzID0gU1RBVFVTRVMuRklOSVNIRUQ7XG4gIHRoaXMuX3VwZGF0ZVN0YXRzKCk7XG4gIHRoaXMuX3JlbW92ZUV2ZW50cygpO1xuICB0aGlzLmV2ZW50cy5lbWl0KFwiZW5kXCIsIHRoaXMpO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBlcnJvciBkYXRhXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkLnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLnN0YXR1cyA9IFNUQVRVU0VTLkVSUk9SO1xuICBkYXRhID0gZGF0YSB8fCB7fTtcbiAgY29uc3QgbWVzc2FnZSA9IGRhdGEubWVzc2FnZSB8fCBcIlwiO1xuXG4gIHNlbGYuX3JlbW92ZUV2ZW50cygpO1xuICBzZWxmLl91cGRhdGVTdGF0cygpO1xuXG4gIC8vIG5vdGlmeSBvbmx5IGlmIHRoZXJlIGV4aXN0cyBhbnkgZXJyb3IgbGlzdGVuZXIgKGZyb20gZG93bmxvYWRzIGNvbnRyb2xsZXIpXG4gIC8vIG90aGVyd2lzZSBFdmVudEVtaXR0ZXIgdGhyb3dzIGFuIGVycm9yXG4gIGlmIChzZWxmLmV2ZW50cy5saXN0ZW5lcnMoJ2Vycm9yJykubGVuZ3RoKSB7XG4gICAgc2VsZi5ldmVudHMuZW1pdChcImVycm9yXCIsIHNlbGYsIG1lc3NhZ2UpO1xuICB9XG59O1xuXG5Eb3dubG9hZC5wcm90b3R5cGUuX29uRG9tYWluRXJyb3IgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgZGF0YSA9IGRhdGEgfHwge307XG4gIGNvbnN0IG1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2UgfHwgXCJcIjtcblxuICBpZiAoc2VsZi5fZGwpIHtcbiAgICBpZiAobWVzc2FnZSA9PT0gJ25ldDo6RVJSX05FVFdPUktfQ0hBTkdFRCcgfHwgbWVzc2FnZSA9PT0gJ25ldDo6RVJSX1NQRFlfUFJPVE9DT0xfRVJST1InIHx8IG1lc3NhZ2UgPT09ICduZXQ6OkVSUl9IVFRQMl9QUk9UT0NPTF9FUlJPUicpIHtcbiAgICAgIC8vIG5ldHdvcmsgY2hhbmdlZCBkdXJpbmcgZG93bmxvYWQsIHJldHJ5IGRvd25sb2FkXG4gICAgICBzZWxmLnN0b3AoKCkgPT4ge1xuICAgICAgICBzZWxmLnN0YXJ0KCk7XG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdG9wIGN1cnJlbnQgZG93bmxvYWQgdG8gcmVsZWFzZSBmaWxlIHN0cmVhbSBhbmQgbm90aWZ5IGVycm9yXG4gICAgICBzZWxmLnN0b3AoKCkgPT4ge1xuICAgICAgICBzZWxmLl9vbkVycm9yKGRhdGEpO1xuICAgICAgfSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fb25FcnJvcihkYXRhKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWQucHJvdG90eXBlLl9yZW1vdmVFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgdGhpcy5fZGwucmVtb3ZlTGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRoaXMuX2RsLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IpO1xuICAgIHRoaXMuX2RsLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCB0aGlzLl9vbkVuZCk7XG4gICAgdGhpcy5fZGwucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCB0aGlzLl9vbkRhdGEpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWQucHJvdG90eXBlLl9yZW1vdmVFdmVudHNPblN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9kbCAmJiB0eXBlb2YgdGhpcy5fZGwucmVtb3ZlTGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRoaXMuX2RsLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IpO1xuICAgIHRoaXMuX2RsLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCB0aGlzLl9vbkVuZCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZC5wcm90b3R5cGUuX3VwZGF0ZVN0YXRzID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5zdGF0dXMgPT09IFNUQVRVU0VTLkZJTklTSEVEKSB7XG4gICAgdGhpcy5zdGF0cy5hdmFpbGFibGUgPSB0aGlzLl9kbC5maWxlX3NpemU7XG4gICAgdGhpcy5zdGF0cy53cml0ZVByb2dyZXNzID0gMTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnN0YXRzLmF2YWlsYWJsZSA9IHRoaXMuX2RsLmF2YWlsYWJsZTtcbiAgICB0aGlzLnN0YXRzLndyaXRlUHJvZ3Jlc3MgPSB0aGlzLl9kbC53cml0ZVByb2dyZXNzO1xuICB9XG4gIHRoaXMuc3RhdHMuZG93bmxvYWRlZCA9IHRoaXMuX2RsLmRvd25sb2FkZWQ7XG4gIHRoaXMuc3RhdHMuZmlsZV9zaXplID0gdGhpcy5fZGwuZmlsZV9zaXplO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWQucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgdGhpcy5zdGF0dXMgPSBTVEFUVVNFUy5TVEFSVEVEO1xuICB0aGlzLl9jcmVhdGVMb2NhbFBhdGgoZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHNlbGYuX29uRXJyb3IoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTk9URTogZG9tYWluIG1vZHVsZSBpcyBtYXJrZWQgdG8gYmUgZGVwcmVjYXRlZCBpbiB0aGUgZnV0dXJlLFxuICAgIC8vICAgICAgIHdlIHdpbGwgdXNlIGl0IHVudGlsIE5vZGVKUyB3aWxsIHByb3Bvc2UgYWx0ZXJuYXRpdmUgb3JcbiAgICAvLyAgICAgICByZXdyaXRlIHdpdGggcHJvbWlzZXNcbiAgICBjb25zdCBkID0gZG9tYWluLmNyZWF0ZSgpO1xuICAgIGQub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgbWVzc2FnZSA9IGVyci5jb2RlIHx8IGVyci5tZXNzYWdlIHx8IFwiXCI7XG4gICAgICB9XG4gICAgICAvLyB0aGlzIG5lZWRzIHRvIGJlIGRpc3Bvc2VkIG90aGVyd2lzZSBpdCBtaWdodCBjb21wbGFpbiBhYm91dCB1bmhhbmRsZWQgZXJyb3IuXG4gICAgICBpZiAodHlwZW9mIGQuZGlzcG9zZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGQuZGlzcG9zZSgpO1xuICAgICAgfVxuICAgICAgc2VsZi5fb25Eb21haW5FcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGQucnVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuX2RsID0gc2VsZi5jcmVhdGVEb3dubG9hZGVyKHNlbGYucmVtb3RlVXJsLCBzZWxmLmxvY2FsVXJsLCBzZWxmLl9vcHRpb25zKTtcbiAgICAgIHNlbGYuX2F0dGFjaEV2ZW50cygpO1xuICAgICAgc2VsZi5fZGwuc3RhcnQoKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgZmlsZSBkb3dubG9hZGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gW3JlbW90ZVVybF0gLSB1cmwgb2YgZnJhZ21lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYWxVcmxdIC0gbG9jYWwgdXJsIHdoZXJlIHRvIGRvd25sb2FkIGZyYWdtZW50XG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gc29tZSBvcHRpb25zXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWQucHJvdG90eXBlLmNyZWF0ZURvd25sb2FkZXIgPSBmdW5jdGlvbiAocmVtb3RlVXJsLCBsb2NhbFVybCwgb3B0aW9ucykge1xuICBpZiAodGhpcy5fb3B0aW9ucy51c2VIZWFkUmVxdWVzdHMpIHtcbiAgICByZXR1cm4gbmV3IERvd25sb2FkRmlsZShyZW1vdGVVcmwsIGxvY2FsVXJsLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IERvd25sb2FkRmlsZU5vSGVhZChyZW1vdGVVcmwsIGxvY2FsVXJsLCBvcHRpb25zKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtyZXNvbHZlXSAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBzdG9wIHdhcyBzdWNjZXNzZnVsbHlcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLnN0YXR1cyA9IFNUQVRVU0VTLlNUT1BQRUQ7XG4gIHRoaXMuX3JlbW92ZUV2ZW50c09uU3RvcCgpO1xuICBpZiAodHlwZW9mIHJlc29sdmUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJlc29sdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgfVxuICBpZiAodGhpcy5fZGwpIHtcbiAgICBjb25zdCBkID0gZG9tYWluLmNyZWF0ZSgpO1xuICAgIGQub24oJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICAgIGQucnVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuX2RsLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgICBzZWxmLl9kbC5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICAgIHNlbGYuX2RsLnN0b3AoKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXNvbHZlKCk7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuRG93bmxvYWQucHJvdG90eXBlLnN0b3BQcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgc2VsZi5zdG9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvd25sb2FkO1xuIl0sIm5hbWVzIjpbIl8iLCJyZXF1aXJlIiwiZG9tYWluIiwiRG93bmxvYWRGaWxlTm9IZWFkIiwiRG93bmxvYWRGaWxlIiwibWtkaXJwIiwiYXBwU2V0dGluZ3MiLCJFdmVudEVtaXR0ZXIiLCJTVEFUVVNFUyIsIkRvd25sb2FkIiwicGFyYW1zIiwib3B0aW9ucyIsIl9kZWZhdWx0cyIsInRocmVhZHMiLCJnZXRTZXR0aW5ncyIsImRvd25sb2FkaW5nVGhyZWFkc1J1bGVzIiwic3RhdHVzIiwiQ1JFQVRFRCIsIk9iamVjdCIsImFzc2lnbiIsIl9vcHRpb25zIiwibWF4RG93bmxvYWRSZXRyeSIsIk1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlkiLCJtYXhEb3dubG9hZENodW5rUmV0cnkiLCJNQVhfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZIiwibWF4RG93bmxvYWRDaHVua0ludGVybmV0UmV0cnkiLCJNQVhfSU5URVJORVRfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZIiwidGltZW91dCIsInRpbWVzIiwiRE9XTkxPQURfVElNRU9VVCIsInJldHJ5VGltZW91dCIsIlJFVFJZX1RJTUVPVVQiLCJ1c2VDaHVua2VkRW5jb2RpbmciLCJ1c2VIZWFkUmVxdWVzdHMiLCJub0NhY2hlIiwic3RhdHMiLCJhdmFpbGFibGUiLCJkb3dubG9hZGVkIiwiZmlsZV9zaXplIiwid3JpdGVQcm9ncmVzcyIsImJpbmRBbGwiLCJldmVudHMiLCJwcm90b3R5cGUiLCJfYXR0YWNoRXZlbnRzIiwiX2RsIiwib24iLCJfb25FcnJvciIsIl9vbkVuZCIsIl9vbkRhdGEiLCJfY3JlYXRlTG9jYWxQYXRoIiwiY2FsbGJhY2siLCJmb2xkZXJzIiwibG9jYWxVcmwiLCJzcGxpdCIsInNsaWNlIiwibGVuZ3RoIiwiam9pbiIsInRoZW4iLCJlcnJvciIsIl91cGRhdGVTdGF0cyIsIkZJTklTSEVEIiwiX3JlbW92ZUV2ZW50cyIsImVtaXQiLCJkYXRhIiwic2VsZiIsIkVSUk9SIiwibWVzc2FnZSIsImxpc3RlbmVycyIsIl9vbkRvbWFpbkVycm9yIiwic3RvcCIsInN0YXJ0IiwicmVtb3ZlTGlzdGVuZXIiLCJfcmVtb3ZlRXZlbnRzT25TdG9wIiwiU1RBUlRFRCIsImVyciIsImQiLCJjcmVhdGUiLCJjb2RlIiwiZGlzcG9zZSIsInJ1biIsImNyZWF0ZURvd25sb2FkZXIiLCJyZW1vdGVVcmwiLCJyZXNvbHZlIiwiU1RPUFBFRCIsInN0b3BQcm9taXNlIiwiUHJvbWlzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8158\n')},1789:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar mkdirp = __webpack_require__(9526);\n\nvar appSettings = __webpack_require__(9277);\n\nvar jsonfile = __webpack_require__(3480);\n\nvar LinkSave = __webpack_require__(8798);\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {string} storageKey - storage key\n * @param {object} items - storage items\n * @constructor\n */\n\n\nfunction FlushItem(manifestId, storageKey, items) {\n  this.manifestId = manifestId;\n  this.storageKey = storageKey;\n  this.items = items;\n}\n/**\n *\n * @param {function} resolve - callback to be invoked when save was successful\n * @param {function} reject - callback to be invoked when save failed\n * @private\n * @returns {void}\n */\n\n\nFlushItem.prototype._saveToDisk = function (resolve, reject) {\n  var self = this;\n  var path = appSettings.getSettings().settingsFolder + this.manifestId + "/";\n  var file = "" + this.storageKey + ".json";\n  var fileUrl = path + file;\n  mkdirp(path).then(function () {\n    var data = convertStorage(self.storageKey, self.items);\n    jsonfile.writeFile(fileUrl, data, function (err) {\n      if (!err) {\n        resolve();\n      } else {\n        reject(err);\n      }\n    });\n  }, function (error) {\n    reject(error);\n  });\n};\n/**\n *\n * @returns {Promise} promise\n */\n\n\nFlushItem.prototype.save = function () {\n  return new Promise(this._saveToDisk.bind(this));\n};\n\nmodule.exports = FlushItem;\n/**\n * Helper function\n * @param {string} storageKey - storage key\n * @param {object} items - storage items\n * @returns {*} data to be stored\n */\n\nvar convertStorage = function convertStorage(storageKey, items) {\n  var itemsA = [];\n  var data; //only for downloading we want to have an array\n\n  if (storageKey === "downloading") {\n    itemsA = [];\n\n    for (var key in items) {\n      itemsA.push(items[key]);\n    }\n\n    items = itemsA;\n  }\n\n  if (items instanceof Array) {\n    data = [];\n\n    for (var i = 0, j = items.length; i < j; i++) {\n      data.push(new LinkSave(items[i]));\n    }\n  } else {\n    data = items;\n  }\n\n  return data;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUE4QztNQUM1Q2QsSUFBSSxDQUFDWSxJQUFMLENBQVUsSUFBSTVCLFFBQUosQ0FBYUksS0FBSyxDQUFDMEIsQ0FBRCxDQUFsQixDQUFWO0lBQ0Q7RUFDRixDQUxELE1BS087SUFDTGQsSUFBSSxHQUFHWixLQUFQO0VBQ0Q7O0VBQ0QsT0FBT1ksSUFBUDtBQUNELENBcEJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9kb3dubG9hZHMvZmx1c2gtaXRlbS5qcz83MTRhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgbWtkaXJwID0gcmVxdWlyZSgnbWtkaXJwJyk7XG5cbmNvbnN0IGFwcFNldHRpbmdzID0gcmVxdWlyZSgnLi4vYXBwLXNldHRpbmdzJyk7XG5jb25zdCBqc29uZmlsZSA9IHJlcXVpcmUoJ2pzb25maWxlJyk7XG5jb25zdCBMaW5rU2F2ZSA9IHJlcXVpcmUoJy4uL21hbmlmZXN0L2pzb24vbGluay1zYXZlJyk7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JhZ2VLZXkgLSBzdG9yYWdlIGtleVxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW1zIC0gc3RvcmFnZSBpdGVtc1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEZsdXNoSXRlbSAobWFuaWZlc3RJZCwgc3RvcmFnZUtleSwgaXRlbXMpIHtcbiAgdGhpcy5tYW5pZmVzdElkID0gbWFuaWZlc3RJZDtcbiAgdGhpcy5zdG9yYWdlS2V5ID0gc3RvcmFnZUtleTtcbiAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHNhdmUgd2FzIHN1Y2Nlc3NmdWxcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlamVjdCAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBzYXZlIGZhaWxlZFxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5GbHVzaEl0ZW0ucHJvdG90eXBlLl9zYXZlVG9EaXNrID0gZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgY29uc3QgcGF0aCA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc2V0dGluZ3NGb2xkZXIgKyB0aGlzLm1hbmlmZXN0SWQgKyBcIi9cIjtcbiAgY29uc3QgZmlsZSA9IFwiXCIgKyB0aGlzLnN0b3JhZ2VLZXkgKyBcIi5qc29uXCI7XG4gIGNvbnN0IGZpbGVVcmwgPSBwYXRoICsgZmlsZTtcbiAgbWtkaXJwKHBhdGgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGxldCBkYXRhID0gY29udmVydFN0b3JhZ2Uoc2VsZi5zdG9yYWdlS2V5LCBzZWxmLml0ZW1zKTtcbiAgICBqc29uZmlsZS53cml0ZUZpbGUoZmlsZVVybCwgZGF0YSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xuRmx1c2hJdGVtLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UodGhpcy5fc2F2ZVRvRGlzay5iaW5kKHRoaXMpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRmx1c2hJdGVtO1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JhZ2VLZXkgLSBzdG9yYWdlIGtleVxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW1zIC0gc3RvcmFnZSBpdGVtc1xuICogQHJldHVybnMgeyp9IGRhdGEgdG8gYmUgc3RvcmVkXG4gKi9cbmNvbnN0IGNvbnZlcnRTdG9yYWdlID0gZnVuY3Rpb24gY29udmVydFN0b3JhZ2UgKHN0b3JhZ2VLZXksIGl0ZW1zKSB7XG4gIGxldCBpdGVtc0EgPSBbXTtcbiAgbGV0IGRhdGE7XG4gIC8vb25seSBmb3IgZG93bmxvYWRpbmcgd2Ugd2FudCB0byBoYXZlIGFuIGFycmF5XG4gIGlmIChzdG9yYWdlS2V5ID09PSBcImRvd25sb2FkaW5nXCIpIHtcbiAgICBpdGVtc0EgPSBbXTtcbiAgICBmb3IgKGxldCBrZXkgaW4gaXRlbXMpIHtcbiAgICAgIGl0ZW1zQS5wdXNoKGl0ZW1zW2tleV0pO1xuICAgIH1cbiAgICBpdGVtcyA9IGl0ZW1zQTtcbiAgfVxuICBpZiAoaXRlbXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGRhdGEgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgZGF0YS5wdXNoKG5ldyBMaW5rU2F2ZShpdGVtc1tpXSkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkYXRhID0gaXRlbXM7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG4iXSwibmFtZXMiOlsibWtkaXJwIiwicmVxdWlyZSIsImFwcFNldHRpbmdzIiwianNvbmZpbGUiLCJMaW5rU2F2ZSIsIkZsdXNoSXRlbSIsIm1hbmlmZXN0SWQiLCJzdG9yYWdlS2V5IiwiaXRlbXMiLCJwcm90b3R5cGUiLCJfc2F2ZVRvRGlzayIsInJlc29sdmUiLCJyZWplY3QiLCJzZWxmIiwicGF0aCIsImdldFNldHRpbmdzIiwic2V0dGluZ3NGb2xkZXIiLCJmaWxlIiwiZmlsZVVybCIsInRoZW4iLCJkYXRhIiwiY29udmVydFN0b3JhZ2UiLCJ3cml0ZUZpbGUiLCJlcnIiLCJlcnJvciIsInNhdmUiLCJQcm9taXNlIiwiYmluZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJpdGVtc0EiLCJrZXkiLCJwdXNoIiwiQXJyYXkiLCJpIiwiaiIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1789\n')},3812:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar jsonfile = __webpack_require__(3480);\n\nvar path = __webpack_require__(1017);\n\nvar appSettings = __webpack_require__(9277);\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {string} itemName - item name\n * @returns {Promise} promise\n * @constructor\n */\n\n\nfunction ReadItem(manifestId, itemName) {\n  if (!manifestId) {\n    throw new Error("manifestId is missing");\n  }\n\n  this._manifestId = manifestId;\n  this._itemName = itemName;\n  return new Promise(this._read.bind(this));\n}\n/**\n *\n * @param {function} resolve - callback to be invoked on finish\n * @private\n * @returns {void}\n */\n\n\nReadItem.prototype._read = function (resolve) {\n  var fileUrl = path.resolve(appSettings.getSettings().settingsFolder + "/" + this._manifestId + "/" + this._itemName + ".json");\n  jsonfile.readFile(fileUrl, function (err, data) {\n    if (err) {\n      resolve();\n    } else {\n      resolve(data);\n    }\n  });\n};\n\nmodule.exports = ReadItem;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzgxMi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUF4Qjs7QUFDQSxJQUFNQyxJQUFJLEdBQUdELG1CQUFPLENBQUMsSUFBRCxDQUFwQjs7QUFFQSxJQUFNRSxXQUFXLEdBQUdGLG1CQUFPLENBQUMsSUFBRCxDQUEzQjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxTQUFTRyxRQUFULENBQW1CQyxVQUFuQixFQUErQkMsUUFBL0IsRUFBeUM7RUFDdkMsSUFBSSxDQUFDRCxVQUFMLEVBQWlCO0lBQ2YsTUFBTSxJQUFJRSxLQUFKLENBQVUsdUJBQVYsQ0FBTjtFQUNEOztFQUNELEtBQUtDLFdBQUwsR0FBbUJILFVBQW5CO0VBQ0EsS0FBS0ksU0FBTCxHQUFpQkgsUUFBakI7RUFDQSxPQUFPLElBQUlJLE9BQUosQ0FBWSxLQUFLQyxLQUFMLENBQVdDLElBQVgsQ0FBZ0IsSUFBaEIsQ0FBWixDQUFQO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBUixRQUFRLENBQUNTLFNBQVQsQ0FBbUJGLEtBQW5CLEdBQTJCLFVBQVVHLE9BQVYsRUFBbUI7RUFDNUMsSUFBTUMsT0FBTyxHQUFHYixJQUFJLENBQUNZLE9BQUwsQ0FBYVgsV0FBVyxDQUFDYSxXQUFaLEdBQTBCQyxjQUExQixHQUEyQyxHQUEzQyxHQUFpRCxLQUFLVCxXQUF0RCxHQUFvRSxHQUFwRSxHQUEwRSxLQUFLQyxTQUEvRSxHQUEyRixPQUF4RyxDQUFoQjtFQUNBVCxRQUFRLENBQUNrQixRQUFULENBQWtCSCxPQUFsQixFQUEyQixVQUFVSSxHQUFWLEVBQWVDLElBQWYsRUFBcUI7SUFDOUMsSUFBSUQsR0FBSixFQUFTO01BQ1BMLE9BQU87SUFDUixDQUZELE1BRU87TUFDTEEsT0FBTyxDQUFDTSxJQUFELENBQVA7SUFDRDtFQUNGLENBTkQ7QUFPRCxDQVREOztBQVdBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJsQixRQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL3JlYWQtaXRlbS5qcz9kMWExIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QganNvbmZpbGUgPSByZXF1aXJlKCdqc29uZmlsZScpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuXG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoJy4uL2FwcC1zZXR0aW5ncycpO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpdGVtTmFtZSAtIGl0ZW0gbmFtZVxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBSZWFkSXRlbSAobWFuaWZlc3RJZCwgaXRlbU5hbWUpIHtcbiAgaWYgKCFtYW5pZmVzdElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwibWFuaWZlc3RJZCBpcyBtaXNzaW5nXCIpO1xuICB9XG4gIHRoaXMuX21hbmlmZXN0SWQgPSBtYW5pZmVzdElkO1xuICB0aGlzLl9pdGVtTmFtZSA9IGl0ZW1OYW1lO1xuICByZXR1cm4gbmV3IFByb21pc2UodGhpcy5fcmVhZC5iaW5kKHRoaXMpKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZSAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZmluaXNoXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblJlYWRJdGVtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gIGNvbnN0IGZpbGVVcmwgPSBwYXRoLnJlc29sdmUoYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zZXR0aW5nc0ZvbGRlciArIFwiL1wiICsgdGhpcy5fbWFuaWZlc3RJZCArIFwiL1wiICsgdGhpcy5faXRlbU5hbWUgKyBcIi5qc29uXCIpO1xuICBqc29uZmlsZS5yZWFkRmlsZShmaWxlVXJsLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKGRhdGEpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWRJdGVtOyJdLCJuYW1lcyI6WyJqc29uZmlsZSIsInJlcXVpcmUiLCJwYXRoIiwiYXBwU2V0dGluZ3MiLCJSZWFkSXRlbSIsIm1hbmlmZXN0SWQiLCJpdGVtTmFtZSIsIkVycm9yIiwiX21hbmlmZXN0SWQiLCJfaXRlbU5hbWUiLCJQcm9taXNlIiwiX3JlYWQiLCJiaW5kIiwicHJvdG90eXBlIiwicmVzb2x2ZSIsImZpbGVVcmwiLCJnZXRTZXR0aW5ncyIsInNldHRpbmdzRm9sZGVyIiwicmVhZEZpbGUiLCJlcnIiLCJkYXRhIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3812\n')},8255:module=>{"use strict";eval('\n\nvar STATUSES = {\n  "CREATED": "CREATED",\n  "STARTED": "STARTED",\n  "ERROR": "ERROR",\n  "STOPPED": "STOPPED",\n  "FINISHED": "FINISHED",\n  "BROKEN": "BROKEN",\n  "QUEUED": "QUEUED"\n};\nmodule.exports = STATUSES;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI1NS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxRQUFRLEdBQUc7RUFDZixXQUFXLFNBREk7RUFFZixXQUFXLFNBRkk7RUFHZixTQUFTLE9BSE07RUFJZixXQUFXLFNBSkk7RUFLZixZQUFZLFVBTEc7RUFNZixVQUFVLFFBTks7RUFPZixVQUFVO0FBUEssQ0FBakI7QUFVQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCRixRQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL3N0YXR1c2VzLmpzPzljNTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBTVEFUVVNFUyA9IHtcbiAgXCJDUkVBVEVEXCI6IFwiQ1JFQVRFRFwiLFxuICBcIlNUQVJURURcIjogXCJTVEFSVEVEXCIsXG4gIFwiRVJST1JcIjogXCJFUlJPUlwiLFxuICBcIlNUT1BQRURcIjogXCJTVE9QUEVEXCIsXG4gIFwiRklOSVNIRURcIjogXCJGSU5JU0hFRFwiLFxuICBcIkJST0tFTlwiOiBcIkJST0tFTlwiLFxuICBcIlFVRVVFRFwiOiBcIlFVRVVFRFwiXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNUQVRVU0VTOyJdLCJuYW1lcyI6WyJTVEFUVVNFUyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8255\n')},6716:module=>{"use strict";eval("\n\nfunction SyncItem(resolve, reject, manifestId, storageKeys) {\n  this.resolve = resolve;\n  this.reject = reject;\n  this.manifestId = manifestId;\n  this.storageKeys = storageKeys;\n}\n\nmodule.exports = SyncItem;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcxNi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixTQUFTQSxRQUFULENBQW1CQyxPQUFuQixFQUE0QkMsTUFBNUIsRUFBb0NDLFVBQXBDLEVBQWdEQyxXQUFoRCxFQUE2RDtFQUMzRCxLQUFLSCxPQUFMLEdBQWVBLE9BQWY7RUFDQSxLQUFLQyxNQUFMLEdBQWNBLE1BQWQ7RUFDQSxLQUFLQyxVQUFMLEdBQWtCQSxVQUFsQjtFQUNBLEtBQUtDLFdBQUwsR0FBbUJBLFdBQW5CO0FBQ0Q7O0FBRURDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQk4sUUFBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2Rvd25sb2Fkcy9zeW5jLWl0ZW0uanM/OGIxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gU3luY0l0ZW0gKHJlc29sdmUsIHJlamVjdCwgbWFuaWZlc3RJZCwgc3RvcmFnZUtleXMpIHtcbiAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgdGhpcy5yZWplY3QgPSByZWplY3Q7XG4gIHRoaXMubWFuaWZlc3RJZCA9IG1hbmlmZXN0SWQ7XG4gIHRoaXMuc3RvcmFnZUtleXMgPSBzdG9yYWdlS2V5cztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTeW5jSXRlbTtcbiJdLCJuYW1lcyI6WyJTeW5jSXRlbSIsInJlc29sdmUiLCJyZWplY3QiLCJtYW5pZmVzdElkIiwic3RvcmFnZUtleXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6716\n")},588:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\n\n\nvar _ = __webpack_require__(4952);\n\nvar Snowflake = __webpack_require__(9499);\n\nvar appSettings = __webpack_require__(9277);\n\nvar beMethods = __webpack_require__(9097);\n\nvar DownloadsController = __webpack_require__(4612);\n\nvar ManifestController = __webpack_require__(42);\n\nvar OfflineController = __webpack_require__(7094);\n\nvar SubscribersController = __webpack_require__(9256);\n\nvar Server = __webpack_require__(9837);\n\nvar DownstreamElectronBE;\n\nfunction deserialize(serializedJavascript) {\n  try {\n    return JSON.parse(serializedJavascript);\n  } catch (err) {\n    return {};\n  }\n}\n/**\n * @constructor\n * @namespace DownstreamElectronBE\n * @param {object} configParams - configuration\n * @property {DownstreamElectronBE.init} init - initialize api in main process\n * @description\n * During initialization you can configure your app, [click here]{@link DownstreamElectronBE.configuration}\n *\n * @example\n * //somewhere in the main process\n * const { BrowserWindow, app } = require(\'electron\');\n * const downstreamElectron = require(\'downstream-electron\');\n *\n * const userSettings = {\n *   "appDir": "/Users/admin/myApp",\n *   "settingsName": "settings",\n *   "publicName": "public",\n *   "downloadsName": "movies"\n * };\n *\n * let downstreamInstance;\n * function createWindow() {\n *   downstreamInstance = downstreamElectron.init(userSettings);\n *   const win = new BrowserWindow({\n *     width: 1200,\n *     height: 700,\n *     resizable: true,\n *     webPreferences: {\n *       plugins: true,\n *       nodeIntegration: true\n *     }\n *   });\n *   win.loadURL(\'file://index.html\');\n *   win.webContents.openDevTools();\n * }\n *\n * function onWillQuit() {\n *  downstreamInstance.stop();\n * }\n *\n * app.on(\'ready\', createWindow);\n * app.on(\'will-quit\', onWillQuit);\n * app.on(\'window-all-closed\', function () {\n *  console.log("window-all-closed");\n *  app.quit();\n * });\n */\n\n\nDownstreamElectronBE = function DownstreamElectronBE() {\n  this._offlineContentPort = appSettings.getSettings().offlineContentPortStart;\n\n  _.bindAll(this, "_onApiRequest", "processSubscriber");\n\n  this._createControllers();\n\n  this._serveOfflineContent();\n\n  this._attachEvents(); // this.offlineController.restoreLocalManifest("6163760572308389888");\n\n};\n\nDownstreamElectronBE.prototype.stop = function () {\n  this.server.stop();\n};\n/**\n *\n * @param {string} methodName - api function\n * @param {string} promiseId - promise identifier\n * @param {object} args - arguments\n * @param {number} target - target window id\n * @private\n * @returns {void}\n */\n\n\nDownstreamElectronBE.prototype._apiMethods = function (methodName, promiseId, args, target) {\n  var self = this;\n  var manifestId = args[0];\n  var response = {};\n  response.promiseId = promiseId;\n\n  var onSuccess = function onSuccess(result, subscribersId) {\n    response.subscribersId = subscribersId;\n    response.status = "OK";\n    response.result = result;\n    response.manifestId = manifestId;\n\n    self._send(response, target);\n  };\n\n  var onFailure = function onFailure(err, internalError) {\n    var errorId = String(Snowflake.SnowflakeId.getUUID());\n\n    var errorInfo = _.clone({\n      errorId: errorId,\n      methodName: methodName,\n      args: args.slice(4),\n      err: err,\n      internalError: internalError\n    });\n\n    response.manifestId = manifestId;\n    response.status = "ERROR";\n    response.error = err || {};\n    response.error.errorId = errorId;\n    response.error.details = internalError;\n\n    self._send(response, target); // @TODO log all errors that user have seen, the errorId will help to find stack\n\n\n    try {\n      console.error(new Date(), "Error occurred", JSON.stringify(errorInfo));\n    } catch (e) {//do nothing\n    }\n  };\n\n  args = args || [];\n  args.unshift(target);\n  args.unshift(onFailure);\n  args.unshift(onSuccess);\n  args.unshift(this);\n\n  var method = this._getMethod(methodName);\n\n  if (typeof method === "function") {\n    method.apply(null, args);\n  } else {\n    response.status = "ERROR";\n    response.error = "Provided method \'" + methodName + "\' doesn\'t exists";\n\n    this._send(response, target);\n\n    console.error("ERROR", "Provided method \'" + methodName + "\' doesn\'t exists");\n  }\n};\n/**\n *\n * @private\n * @returns {void}\n */\n\n\nDownstreamElectronBE.prototype._attachEvents = function () {\n  var ipcMain = (__webpack_require__(7194).ipcMain);\n\n  ipcMain.on("downstreamElectronBE", this._onApiRequest);\n};\n/**\n *\n * @private\n * @returns {void}\n */\n\n\nDownstreamElectronBE.prototype._createControllers = function () {\n  this.manifestController = new ManifestController();\n  this.offlineController = new OfflineController(this.manifestController);\n  this.downloadsController = new DownloadsController(this.manifestController, this.offlineController);\n  this.subscribersController = new SubscribersController();\n};\n/**\n *\n * @param {string} methodName - method name\n * @returns {*} - method\n * @private\n */\n\n\nDownstreamElectronBE.prototype._getMethod = function (methodName) {\n  var names = methodName.split(".");\n  var i, j, method;\n  method = beMethods[names[0]];\n\n  for (i = 1, j = names.length; i < j; i++) {\n    method = method[names[i]];\n  }\n\n  return method;\n};\n/**\n *\n * @param {object} evt - event\n * @param {object} data - data from renderer\n * @param {number} target - target window id\n * @private\n * @returns {void}\n */\n\n\nDownstreamElectronBE.prototype._onApiRequest = function (evt, data, target) {\n  var promiseId = data.promiseId;\n  var argsObj = deserialize(data.args) || {};\n  var method = data.method;\n  var windowId = data.windowId;\n  target = windowId;\n  var args = [];\n  var i = 0;\n\n  while (argsObj.hasOwnProperty(i)) {\n    args.push(argsObj[i]);\n    i++;\n  }\n\n  this._apiMethods(method, promiseId, args, target);\n};\n/**\n * @private\n * @param {object} response - response\n * @param {number} target - window target id\n * @returns {void}\n */\n\n\nDownstreamElectronBE.prototype._send = function (response, target) {\n  try {\n    var windows = (__webpack_require__(7194).BrowserWindow.getAllWindows)();\n\n    for (var i = 0, j = windows.length; i < j; i++) {\n      if (windows[i].id === target) {\n        windows[i].webContents.send(\'downstreamElectronFE\', response);\n        break;\n      }\n    }\n  } catch (err) {\n    console.error("internal error ocurred", err);\n  }\n};\n/**\n * @private\n * @returns {void}\n */\n\n\nDownstreamElectronBE.prototype._serveOfflineContent = function () {\n  var self = this;\n  var maxOfflineContentPortRange = appSettings.getSettings().maxOfflineContentPortRange;\n  this.server = new Server(this.offlineController, this.downloadsController, maxOfflineContentPortRange, this._offlineContentPort);\n  this.server.serveOfflineContent(function (offlinePort) {\n    self._offlineContentPort = offlinePort;\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {string} - offline path\n */\n\n\nDownstreamElectronBE.prototype.getOfflinePath = function (manifestId) {\n  var offlinePath = appSettings.getSettings().offlineDomain;\n  var offlineContentPort = this._offlineContentPort;\n\n  if (offlineContentPort) {\n    offlinePath += ":" + offlineContentPort;\n  }\n\n  offlinePath += "/" + encodeURIComponent(appSettings.getSettings().downloadsName) + "/" + encodeURIComponent(manifestId) + "/";\n  return offlinePath;\n};\n/**\n *\n * @param {string} subscriberId - subscriber identifier\n * @param {object} err - error\n * @param {object} result - result\n * @param {number} target - window target id\n * @param {boolean} subscriberFinished - download finished\n * @returns {void}\n */\n\n\nDownstreamElectronBE.prototype.processSubscriber = function (subscriberId, err, result, target, subscriberFinished) {\n  var response = {};\n  response.subscriberId = subscriberId;\n  response.status = err ? "ERROR" : "OK";\n  response.err = err;\n  response.result = result;\n  response.subscriberFinished = subscriberFinished;\n\n  this._send(response, target);\n\n  if (subscriberFinished) {\n    this.subscribersController.removeAllManifestSubscribersById(subscriberId);\n  }\n}; //---------------------------\n\n\nmodule.exports = {\n  init: function init(userSettings) {\n    appSettings.load(userSettings);\n    return new DownstreamElectronBE();\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXJCOztFQUNBLElBQUkrRCxrQkFBSixFQUF3QjtJQUN0QixLQUFLN0IscUJBQUwsQ0FBMkI4QixnQ0FBM0IsQ0FBNERGLFlBQTVEO0VBQ0Q7QUFDRixDQVhELEMsQ0FhQTs7O0FBQ0FHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmQyxJQUFJLEVBQUUsY0FBVUMsWUFBVixFQUF3QjtJQUM1Qi9GLFdBQVcsQ0FBQ2dHLElBQVosQ0FBaUJELFlBQWpCO0lBQ0EsT0FBTyxJQUFJeEYsb0JBQUosRUFBUDtFQUNEO0FBSmMsQ0FBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2Rvd25zdHJlYW0tZWxlY3Ryb24tYmUuanM/MDhmMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmVzbGludCBuby1jb25zb2xlOiBbXCJlcnJvclwiLCB7IGFsbG93OiBbXCJ3YXJuXCIsIFwiZXJyb3JcIiwgXCJpbmZvXCJdIH1dICovXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5jb25zdCBTbm93Zmxha2UgPSByZXF1aXJlKFwiLi91dGlsL3Nub3dmbGFrZS1pZFwiKTtcblxuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKCcuL2FwcC1zZXR0aW5ncycpO1xuY29uc3QgYmVNZXRob2RzID0gcmVxdWlyZSgnLi9iZS1tZXRob2RzLWFsbCcpO1xuY29uc3QgRG93bmxvYWRzQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vY29udHJvbGxlcnMvZG93bmxvYWRzLWNvbnRyb2xsZXInKTtcbmNvbnN0IE1hbmlmZXN0Q29udHJvbGxlciA9IHJlcXVpcmUoJy4vY29udHJvbGxlcnMvbWFuaWZlc3QtY29udHJvbGxlcicpO1xuY29uc3QgT2ZmbGluZUNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL29mZmxpbmUtY29udHJvbGxlcicpO1xuY29uc3QgU3Vic2NyaWJlcnNDb250cm9sbGVyID0gcmVxdWlyZSgnLi9jb250cm9sbGVycy9zdWJzY3JpYmVycy1jb250cm9sbGVyJyk7XG5jb25zdCBTZXJ2ZXIgPSByZXF1aXJlKCcuL3NlcnZlci9zZXJ2ZXIuanMnKTtcblxubGV0IERvd25zdHJlYW1FbGVjdHJvbkJFO1xuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZShzZXJpYWxpemVkSmF2YXNjcmlwdCkge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHNlcmlhbGl6ZWRKYXZhc2NyaXB0KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAbmFtZXNwYWNlIERvd25zdHJlYW1FbGVjdHJvbkJFXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnUGFyYW1zIC0gY29uZmlndXJhdGlvblxuICogQHByb3BlcnR5IHtEb3duc3RyZWFtRWxlY3Ryb25CRS5pbml0fSBpbml0IC0gaW5pdGlhbGl6ZSBhcGkgaW4gbWFpbiBwcm9jZXNzXG4gKiBAZGVzY3JpcHRpb25cbiAqIER1cmluZyBpbml0aWFsaXphdGlvbiB5b3UgY2FuIGNvbmZpZ3VyZSB5b3VyIGFwcCwgW2NsaWNrIGhlcmVde0BsaW5rIERvd25zdHJlYW1FbGVjdHJvbkJFLmNvbmZpZ3VyYXRpb259XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vc29tZXdoZXJlIGluIHRoZSBtYWluIHByb2Nlc3NcbiAqIGNvbnN0IHsgQnJvd3NlcldpbmRvdywgYXBwIH0gPSByZXF1aXJlKCdlbGVjdHJvbicpO1xuICogY29uc3QgZG93bnN0cmVhbUVsZWN0cm9uID0gcmVxdWlyZSgnZG93bnN0cmVhbS1lbGVjdHJvbicpO1xuICpcbiAqIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHtcbiAqICAgXCJhcHBEaXJcIjogXCIvVXNlcnMvYWRtaW4vbXlBcHBcIixcbiAqICAgXCJzZXR0aW5nc05hbWVcIjogXCJzZXR0aW5nc1wiLFxuICogICBcInB1YmxpY05hbWVcIjogXCJwdWJsaWNcIixcbiAqICAgXCJkb3dubG9hZHNOYW1lXCI6IFwibW92aWVzXCJcbiAqIH07XG4gKlxuICogbGV0IGRvd25zdHJlYW1JbnN0YW5jZTtcbiAqIGZ1bmN0aW9uIGNyZWF0ZVdpbmRvdygpIHtcbiAqICAgZG93bnN0cmVhbUluc3RhbmNlID0gZG93bnN0cmVhbUVsZWN0cm9uLmluaXQodXNlclNldHRpbmdzKTtcbiAqICAgY29uc3Qgd2luID0gbmV3IEJyb3dzZXJXaW5kb3coe1xuICogICAgIHdpZHRoOiAxMjAwLFxuICogICAgIGhlaWdodDogNzAwLFxuICogICAgIHJlc2l6YWJsZTogdHJ1ZSxcbiAqICAgICB3ZWJQcmVmZXJlbmNlczoge1xuICogICAgICAgcGx1Z2luczogdHJ1ZSxcbiAqICAgICAgIG5vZGVJbnRlZ3JhdGlvbjogdHJ1ZVxuICogICAgIH1cbiAqICAgfSk7XG4gKiAgIHdpbi5sb2FkVVJMKCdmaWxlOi8vaW5kZXguaHRtbCcpO1xuICogICB3aW4ud2ViQ29udGVudHMub3BlbkRldlRvb2xzKCk7XG4gKiB9XG4gKlxuICogZnVuY3Rpb24gb25XaWxsUXVpdCgpIHtcbiAqICBkb3duc3RyZWFtSW5zdGFuY2Uuc3RvcCgpO1xuICogfVxuICpcbiAqIGFwcC5vbigncmVhZHknLCBjcmVhdGVXaW5kb3cpO1xuICogYXBwLm9uKCd3aWxsLXF1aXQnLCBvbldpbGxRdWl0KTtcbiAqIGFwcC5vbignd2luZG93LWFsbC1jbG9zZWQnLCBmdW5jdGlvbiAoKSB7XG4gKiAgY29uc29sZS5sb2coXCJ3aW5kb3ctYWxsLWNsb3NlZFwiKTtcbiAqICBhcHAucXVpdCgpO1xuICogfSk7XG4gKi9cbkRvd25zdHJlYW1FbGVjdHJvbkJFID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9vZmZsaW5lQ29udGVudFBvcnQgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm9mZmxpbmVDb250ZW50UG9ydFN0YXJ0O1xuICBfLmJpbmRBbGwodGhpcywgXCJfb25BcGlSZXF1ZXN0XCIsIFwicHJvY2Vzc1N1YnNjcmliZXJcIik7XG4gIHRoaXMuX2NyZWF0ZUNvbnRyb2xsZXJzKCk7XG4gIHRoaXMuX3NlcnZlT2ZmbGluZUNvbnRlbnQoKTtcbiAgdGhpcy5fYXR0YWNoRXZlbnRzKCk7XG4gIC8vIHRoaXMub2ZmbGluZUNvbnRyb2xsZXIucmVzdG9yZUxvY2FsTWFuaWZlc3QoXCI2MTYzNzYwNTcyMzA4Mzg5ODg4XCIpO1xufTtcblxuRG93bnN0cmVhbUVsZWN0cm9uQkUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuc2VydmVyLnN0b3AoKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgLSBhcGkgZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9taXNlSWQgLSBwcm9taXNlIGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBhcmdzIC0gYXJndW1lbnRzXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IC0gdGFyZ2V0IHdpbmRvdyBpZFxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3duc3RyZWFtRWxlY3Ryb25CRS5wcm90b3R5cGUuX2FwaU1ldGhvZHMgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSwgcHJvbWlzZUlkLCBhcmdzLCB0YXJnZXQpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGNvbnN0IG1hbmlmZXN0SWQgPSBhcmdzWzBdO1xuICBsZXQgcmVzcG9uc2UgPSB7fTtcbiAgcmVzcG9uc2UucHJvbWlzZUlkID0gcHJvbWlzZUlkO1xuICBjb25zdCBvblN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzdWx0LCBzdWJzY3JpYmVyc0lkKSB7XG4gICAgcmVzcG9uc2Uuc3Vic2NyaWJlcnNJZCA9IHN1YnNjcmliZXJzSWQ7XG4gICAgcmVzcG9uc2Uuc3RhdHVzID0gXCJPS1wiO1xuICAgIHJlc3BvbnNlLnJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXNwb25zZS5tYW5pZmVzdElkID0gbWFuaWZlc3RJZDtcbiAgICBzZWxmLl9zZW5kKHJlc3BvbnNlLCB0YXJnZXQpO1xuICB9O1xuICBjb25zdCBvbkZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyLCBpbnRlcm5hbEVycm9yKSB7XG4gICAgY29uc3QgZXJyb3JJZCA9IFN0cmluZyhTbm93Zmxha2UuU25vd2ZsYWtlSWQuZ2V0VVVJRCgpKTtcbiAgICBjb25zdCBlcnJvckluZm8gPSBfLmNsb25lKHtcbiAgICAgIGVycm9ySWQ6IGVycm9ySWQsXG4gICAgICBtZXRob2ROYW1lOiBtZXRob2ROYW1lLFxuICAgICAgYXJnczogYXJncy5zbGljZSg0KSxcbiAgICAgIGVycjogZXJyLFxuICAgICAgaW50ZXJuYWxFcnJvcjogaW50ZXJuYWxFcnJvclxuICAgIH0pO1xuICAgIHJlc3BvbnNlLm1hbmlmZXN0SWQgPSBtYW5pZmVzdElkO1xuICAgIHJlc3BvbnNlLnN0YXR1cyA9IFwiRVJST1JcIjtcbiAgICByZXNwb25zZS5lcnJvciA9IGVyciB8fCB7fTtcbiAgICByZXNwb25zZS5lcnJvci5lcnJvcklkID0gZXJyb3JJZDtcbiAgICByZXNwb25zZS5lcnJvci5kZXRhaWxzID0gaW50ZXJuYWxFcnJvcjtcblxuICAgIHNlbGYuX3NlbmQocmVzcG9uc2UsIHRhcmdldCk7XG5cbiAgICAvLyBAVE9ETyBsb2cgYWxsIGVycm9ycyB0aGF0IHVzZXIgaGF2ZSBzZWVuLCB0aGUgZXJyb3JJZCB3aWxsIGhlbHAgdG8gZmluZCBzdGFja1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmVycm9yKG5ldyBEYXRlKCksIFwiRXJyb3Igb2NjdXJyZWRcIiwgSlNPTi5zdHJpbmdpZnkoZXJyb3JJbmZvKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy9kbyBub3RoaW5nXG4gICAgfVxuICB9O1xuICBhcmdzID0gYXJncyB8fCBbXTtcbiAgYXJncy51bnNoaWZ0KHRhcmdldCk7XG4gIGFyZ3MudW5zaGlmdChvbkZhaWx1cmUpO1xuICBhcmdzLnVuc2hpZnQob25TdWNjZXNzKTtcbiAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICBjb25zdCBtZXRob2QgPSB0aGlzLl9nZXRNZXRob2QobWV0aG9kTmFtZSk7XG4gIGlmICh0eXBlb2YgbWV0aG9kID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBtZXRob2QuYXBwbHkobnVsbCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzID0gXCJFUlJPUlwiO1xuICAgIHJlc3BvbnNlLmVycm9yID0gXCJQcm92aWRlZCBtZXRob2QgJ1wiICsgbWV0aG9kTmFtZSArIFwiJyBkb2Vzbid0IGV4aXN0c1wiO1xuICAgIHRoaXMuX3NlbmQocmVzcG9uc2UsIHRhcmdldCk7XG4gICAgY29uc29sZS5lcnJvcihcIkVSUk9SXCIsIFwiUHJvdmlkZWQgbWV0aG9kICdcIiArIG1ldGhvZE5hbWUgKyBcIicgZG9lc24ndCBleGlzdHNcIik7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bnN0cmVhbUVsZWN0cm9uQkUucHJvdG90eXBlLl9hdHRhY2hFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGlwY01haW4gPSByZXF1aXJlKCdlbGVjdHJvbicpLmlwY01haW47XG4gIGlwY01haW4ub24oXCJkb3duc3RyZWFtRWxlY3Ryb25CRVwiLCB0aGlzLl9vbkFwaVJlcXVlc3QpO1xufTtcblxuLyoqXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3duc3RyZWFtRWxlY3Ryb25CRS5wcm90b3R5cGUuX2NyZWF0ZUNvbnRyb2xsZXJzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLm1hbmlmZXN0Q29udHJvbGxlciA9IG5ldyBNYW5pZmVzdENvbnRyb2xsZXIoKTtcbiAgdGhpcy5vZmZsaW5lQ29udHJvbGxlciA9IG5ldyBPZmZsaW5lQ29udHJvbGxlcih0aGlzLm1hbmlmZXN0Q29udHJvbGxlcik7XG4gIHRoaXMuZG93bmxvYWRzQ29udHJvbGxlciA9IG5ldyBEb3dubG9hZHNDb250cm9sbGVyKHRoaXMubWFuaWZlc3RDb250cm9sbGVyLCB0aGlzLm9mZmxpbmVDb250cm9sbGVyKTtcbiAgdGhpcy5zdWJzY3JpYmVyc0NvbnRyb2xsZXIgPSBuZXcgU3Vic2NyaWJlcnNDb250cm9sbGVyKCk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSAtIG1ldGhvZCBuYW1lXG4gKiBAcmV0dXJucyB7Kn0gLSBtZXRob2RcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25zdHJlYW1FbGVjdHJvbkJFLnByb3RvdHlwZS5fZ2V0TWV0aG9kID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcbiAgY29uc3QgbmFtZXMgPSBtZXRob2ROYW1lLnNwbGl0KFwiLlwiKTtcbiAgbGV0IGksIGosIG1ldGhvZDtcbiAgbWV0aG9kID0gYmVNZXRob2RzW25hbWVzWzBdXTtcbiAgZm9yIChpID0gMSwgaiA9IG5hbWVzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIG1ldGhvZCA9IG1ldGhvZFtuYW1lc1tpXV07XG4gIH1cbiAgcmV0dXJuIG1ldGhvZDtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBldnQgLSBldmVudFxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBkYXRhIGZyb20gcmVuZGVyZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgLSB0YXJnZXQgd2luZG93IGlkXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25zdHJlYW1FbGVjdHJvbkJFLnByb3RvdHlwZS5fb25BcGlSZXF1ZXN0ID0gZnVuY3Rpb24gKGV2dCwgZGF0YSwgdGFyZ2V0KSB7XG4gIGNvbnN0IHByb21pc2VJZCA9IGRhdGEucHJvbWlzZUlkO1xuICBjb25zdCBhcmdzT2JqID0gZGVzZXJpYWxpemUoZGF0YS5hcmdzKSB8fCB7fTtcbiAgY29uc3QgbWV0aG9kID0gZGF0YS5tZXRob2Q7XG4gIGNvbnN0IHdpbmRvd0lkID0gZGF0YS53aW5kb3dJZDtcbiAgdGFyZ2V0ID0gd2luZG93SWQ7XG4gIGxldCBhcmdzID0gW107XG4gIGxldCBpID0gMDtcbiAgd2hpbGUgKGFyZ3NPYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICBhcmdzLnB1c2goYXJnc09ialtpXSk7XG4gICAgaSsrO1xuICB9XG4gIHRoaXMuX2FwaU1ldGhvZHMobWV0aG9kLCBwcm9taXNlSWQsIGFyZ3MsIHRhcmdldCk7XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgLSByZXNwb25zZVxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldCAtIHdpbmRvdyB0YXJnZXQgaWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3duc3RyZWFtRWxlY3Ryb25CRS5wcm90b3R5cGUuX3NlbmQgPSBmdW5jdGlvbiAocmVzcG9uc2UsIHRhcmdldCkge1xuICB0cnkge1xuICAgIGNvbnN0IHdpbmRvd3MgPSByZXF1aXJlKCdlbGVjdHJvbicpLkJyb3dzZXJXaW5kb3cuZ2V0QWxsV2luZG93cygpO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gd2luZG93cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGlmICh3aW5kb3dzW2ldLmlkID09PSB0YXJnZXQpIHtcbiAgICAgICAgd2luZG93c1tpXS53ZWJDb250ZW50cy5zZW5kKCdkb3duc3RyZWFtRWxlY3Ryb25GRScsIHJlc3BvbnNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiaW50ZXJuYWwgZXJyb3Igb2N1cnJlZFwiLCBlcnIpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bnN0cmVhbUVsZWN0cm9uQkUucHJvdG90eXBlLl9zZXJ2ZU9mZmxpbmVDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgY29uc3QgbWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlO1xuXG4gIHRoaXMuc2VydmVyID0gbmV3IFNlcnZlcih0aGlzLm9mZmxpbmVDb250cm9sbGVyLCB0aGlzLmRvd25sb2Fkc0NvbnRyb2xsZXIsIG1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlLCB0aGlzLl9vZmZsaW5lQ29udGVudFBvcnQpO1xuICB0aGlzLnNlcnZlci5zZXJ2ZU9mZmxpbmVDb250ZW50KGZ1bmN0aW9uIChvZmZsaW5lUG9ydCkge1xuICAgIHNlbGYuX29mZmxpbmVDb250ZW50UG9ydCA9IG9mZmxpbmVQb3J0O1xuICB9KVxuXG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gb2ZmbGluZSBwYXRoXG4gKi9cbkRvd25zdHJlYW1FbGVjdHJvbkJFLnByb3RvdHlwZS5nZXRPZmZsaW5lUGF0aCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIGxldCBvZmZsaW5lUGF0aCA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkub2ZmbGluZURvbWFpbjtcbiAgbGV0IG9mZmxpbmVDb250ZW50UG9ydCA9IHRoaXMuX29mZmxpbmVDb250ZW50UG9ydDtcbiAgaWYgKG9mZmxpbmVDb250ZW50UG9ydCkge1xuICAgIG9mZmxpbmVQYXRoICs9IFwiOlwiICsgb2ZmbGluZUNvbnRlbnRQb3J0O1xuICB9XG4gIG9mZmxpbmVQYXRoICs9IFwiL1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZG93bmxvYWRzTmFtZSkgKyBcIi9cIiArIGVuY29kZVVSSUNvbXBvbmVudChtYW5pZmVzdElkKSArIFwiL1wiO1xuICByZXR1cm4gb2ZmbGluZVBhdGg7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3Vic2NyaWJlcklkIC0gc3Vic2NyaWJlciBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge29iamVjdH0gZXJyIC0gZXJyb3JcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXN1bHQgLSByZXN1bHRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgLSB3aW5kb3cgdGFyZ2V0IGlkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN1YnNjcmliZXJGaW5pc2hlZCAtIGRvd25sb2FkIGZpbmlzaGVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bnN0cmVhbUVsZWN0cm9uQkUucHJvdG90eXBlLnByb2Nlc3NTdWJzY3JpYmVyID0gZnVuY3Rpb24gKHN1YnNjcmliZXJJZCwgZXJyLCByZXN1bHQsIHRhcmdldCwgc3Vic2NyaWJlckZpbmlzaGVkKSB7XG4gIGxldCByZXNwb25zZSA9IHt9O1xuICByZXNwb25zZS5zdWJzY3JpYmVySWQgPSBzdWJzY3JpYmVySWQ7XG4gIHJlc3BvbnNlLnN0YXR1cyA9IGVyciA/IFwiRVJST1JcIiA6IFwiT0tcIjtcbiAgcmVzcG9uc2UuZXJyID0gZXJyO1xuICByZXNwb25zZS5yZXN1bHQgPSByZXN1bHQ7XG4gIHJlc3BvbnNlLnN1YnNjcmliZXJGaW5pc2hlZCA9IHN1YnNjcmliZXJGaW5pc2hlZDtcbiAgdGhpcy5fc2VuZChyZXNwb25zZSwgdGFyZ2V0KTtcbiAgaWYgKHN1YnNjcmliZXJGaW5pc2hlZCkge1xuICAgIHRoaXMuc3Vic2NyaWJlcnNDb250cm9sbGVyLnJlbW92ZUFsbE1hbmlmZXN0U3Vic2NyaWJlcnNCeUlkKHN1YnNjcmliZXJJZCk7XG4gIH1cbn07XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdDogZnVuY3Rpb24gKHVzZXJTZXR0aW5ncykge1xuICAgIGFwcFNldHRpbmdzLmxvYWQodXNlclNldHRpbmdzKTtcbiAgICByZXR1cm4gbmV3IERvd25zdHJlYW1FbGVjdHJvbkJFKCk7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJTbm93Zmxha2UiLCJhcHBTZXR0aW5ncyIsImJlTWV0aG9kcyIsIkRvd25sb2Fkc0NvbnRyb2xsZXIiLCJNYW5pZmVzdENvbnRyb2xsZXIiLCJPZmZsaW5lQ29udHJvbGxlciIsIlN1YnNjcmliZXJzQ29udHJvbGxlciIsIlNlcnZlciIsIkRvd25zdHJlYW1FbGVjdHJvbkJFIiwiZGVzZXJpYWxpemUiLCJzZXJpYWxpemVkSmF2YXNjcmlwdCIsIkpTT04iLCJwYXJzZSIsImVyciIsIl9vZmZsaW5lQ29udGVudFBvcnQiLCJnZXRTZXR0aW5ncyIsIm9mZmxpbmVDb250ZW50UG9ydFN0YXJ0IiwiYmluZEFsbCIsIl9jcmVhdGVDb250cm9sbGVycyIsIl9zZXJ2ZU9mZmxpbmVDb250ZW50IiwiX2F0dGFjaEV2ZW50cyIsInByb3RvdHlwZSIsInN0b3AiLCJzZXJ2ZXIiLCJfYXBpTWV0aG9kcyIsIm1ldGhvZE5hbWUiLCJwcm9taXNlSWQiLCJhcmdzIiwidGFyZ2V0Iiwic2VsZiIsIm1hbmlmZXN0SWQiLCJyZXNwb25zZSIsIm9uU3VjY2VzcyIsInJlc3VsdCIsInN1YnNjcmliZXJzSWQiLCJzdGF0dXMiLCJfc2VuZCIsIm9uRmFpbHVyZSIsImludGVybmFsRXJyb3IiLCJlcnJvcklkIiwiU3RyaW5nIiwiU25vd2ZsYWtlSWQiLCJnZXRVVUlEIiwiZXJyb3JJbmZvIiwiY2xvbmUiLCJzbGljZSIsImVycm9yIiwiZGV0YWlscyIsImNvbnNvbGUiLCJEYXRlIiwic3RyaW5naWZ5IiwiZSIsInVuc2hpZnQiLCJtZXRob2QiLCJfZ2V0TWV0aG9kIiwiYXBwbHkiLCJpcGNNYWluIiwib24iLCJfb25BcGlSZXF1ZXN0IiwibWFuaWZlc3RDb250cm9sbGVyIiwib2ZmbGluZUNvbnRyb2xsZXIiLCJkb3dubG9hZHNDb250cm9sbGVyIiwic3Vic2NyaWJlcnNDb250cm9sbGVyIiwibmFtZXMiLCJzcGxpdCIsImkiLCJqIiwibGVuZ3RoIiwiZXZ0IiwiZGF0YSIsImFyZ3NPYmoiLCJ3aW5kb3dJZCIsImhhc093blByb3BlcnR5IiwicHVzaCIsIndpbmRvd3MiLCJCcm93c2VyV2luZG93IiwiZ2V0QWxsV2luZG93cyIsImlkIiwid2ViQ29udGVudHMiLCJzZW5kIiwibWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UiLCJzZXJ2ZU9mZmxpbmVDb250ZW50Iiwib2ZmbGluZVBvcnQiLCJnZXRPZmZsaW5lUGF0aCIsIm9mZmxpbmVQYXRoIiwib2ZmbGluZURvbWFpbiIsIm9mZmxpbmVDb250ZW50UG9ydCIsImVuY29kZVVSSUNvbXBvbmVudCIsImRvd25sb2Fkc05hbWUiLCJwcm9jZXNzU3Vic2NyaWJlciIsInN1YnNjcmliZXJJZCIsInN1YnNjcmliZXJGaW5pc2hlZCIsInJlbW92ZUFsbE1hbmlmZXN0U3Vic2NyaWJlcnNCeUlkIiwibW9kdWxlIiwiZXhwb3J0cyIsImluaXQiLCJ1c2VyU2V0dGluZ3MiLCJsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///588\n')},7258:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fieldsPicker = __webpack_require__(9241);\n\nmodule.exports = function AudioRepresentation(attr) {\n  fieldsPicker(this, ["audioSamplingRate", "bandwidth", "id", "lang", "durationInS"], attr);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzI1OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUE1Qjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLG1CQUFULENBQThCQyxJQUE5QixFQUFvQztFQUNuREwsWUFBWSxDQUFDLElBQUQsRUFBTyxDQUNqQixtQkFEaUIsRUFFakIsV0FGaUIsRUFHakIsSUFIaUIsRUFJakIsTUFKaUIsRUFLakIsYUFMaUIsQ0FBUCxFQU1USyxJQU5TLENBQVo7QUFPRCxDQVJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9qc29uL2F1ZGlvLXJlcHJlc2VudGF0aW9uLmpzP2UzMzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBmaWVsZHNQaWNrZXIgPSByZXF1aXJlKFwiLi4vLi4vdXRpbC9maWVsZHMtcGlja2VyXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEF1ZGlvUmVwcmVzZW50YXRpb24gKGF0dHIpIHtcbiAgZmllbGRzUGlja2VyKHRoaXMsIFtcbiAgICBcImF1ZGlvU2FtcGxpbmdSYXRlXCIsXG4gICAgXCJiYW5kd2lkdGhcIixcbiAgICBcImlkXCIsXG4gICAgXCJsYW5nXCIsXG4gICAgXCJkdXJhdGlvbkluU1wiXG4gIF0sIGF0dHIpO1xufTtcbiJdLCJuYW1lcyI6WyJmaWVsZHNQaWNrZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsIkF1ZGlvUmVwcmVzZW50YXRpb24iLCJhdHRyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7258\n')},8798:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fieldsPicker = __webpack_require__(9241);\n\nmodule.exports = function LinkSave(attr) {\n  fieldsPicker(this, ["id", "contentType", "bandwidth", "remoteUrl", "stats", "localUrl"], attr);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc5OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUE1Qjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLFFBQVQsQ0FBbUJDLElBQW5CLEVBQXlCO0VBQ3hDTCxZQUFZLENBQUMsSUFBRCxFQUFPLENBQ2pCLElBRGlCLEVBRWpCLGFBRmlCLEVBR2pCLFdBSGlCLEVBSWpCLFdBSmlCLEVBS2pCLE9BTGlCLEVBTWpCLFVBTmlCLENBQVAsRUFPVEssSUFQUyxDQUFaO0FBUUQsQ0FURCIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvanNvbi9saW5rLXNhdmUuanM/MWEwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGZpZWxkc1BpY2tlciA9IHJlcXVpcmUoXCIuLi8uLi91dGlsL2ZpZWxkcy1waWNrZXJcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gTGlua1NhdmUgKGF0dHIpIHtcbiAgZmllbGRzUGlja2VyKHRoaXMsIFtcbiAgICBcImlkXCIsXG4gICAgXCJjb250ZW50VHlwZVwiLFxuICAgIFwiYmFuZHdpZHRoXCIsXG4gICAgXCJyZW1vdGVVcmxcIixcbiAgICBcInN0YXRzXCIsXG4gICAgXCJsb2NhbFVybFwiXG4gIF0sIGF0dHIpO1xufTsiXSwibmFtZXMiOlsiZmllbGRzUGlja2VyIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJMaW5rU2F2ZSIsImF0dHIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8798\n')},6092:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fieldsPicker = __webpack_require__(9241);\n\nmodule.exports = function TextRepresentation(attr) {\n  fieldsPicker(this, ["bandwidth", "id", "lang", "durationInS"], attr);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA5Mi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUE1Qjs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLGtCQUFULENBQTZCQyxJQUE3QixFQUFtQztFQUNsREwsWUFBWSxDQUFDLElBQUQsRUFBTyxDQUNqQixXQURpQixFQUVqQixJQUZpQixFQUdqQixNQUhpQixFQUlqQixhQUppQixDQUFQLEVBS1RLLElBTFMsQ0FBWjtBQU1ELENBUEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L2pzb24vdGV4dC1yZXByZXNlbnRhdGlvbi5qcz9lMDBiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgZmllbGRzUGlja2VyID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvZmllbGRzLXBpY2tlclwiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gVGV4dFJlcHJlc2VudGF0aW9uIChhdHRyKSB7XG4gIGZpZWxkc1BpY2tlcih0aGlzLCBbXG4gICAgXCJiYW5kd2lkdGhcIixcbiAgICBcImlkXCIsXG4gICAgXCJsYW5nXCIsXG4gICAgXCJkdXJhdGlvbkluU1wiXG4gIF0sIGF0dHIpO1xufTtcbiJdLCJuYW1lcyI6WyJmaWVsZHNQaWNrZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsIlRleHRSZXByZXNlbnRhdGlvbiIsImF0dHIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6092\n')},5533:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fieldsPicker = __webpack_require__(9241);\n\nmodule.exports = function VideoRepresentation(attr) {\n  fieldsPicker(this, ["bandwidth", "id", "height", "lang", "width", "durationInS"], attr);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUzMy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUE1Qjs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLG1CQUFULENBQThCQyxJQUE5QixFQUFvQztFQUNuREwsWUFBWSxDQUFDLElBQUQsRUFBTyxDQUNqQixXQURpQixFQUVqQixJQUZpQixFQUdqQixRQUhpQixFQUlqQixNQUppQixFQUtqQixPQUxpQixFQU1qQixhQU5pQixDQUFQLEVBT1RLLElBUFMsQ0FBWjtBQVFELENBVEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L2pzb24vdmlkZW8tcmVwcmVzZW50YXRpb24uanM/NTFhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGZpZWxkc1BpY2tlciA9IHJlcXVpcmUoXCIuLi8uLi91dGlsL2ZpZWxkcy1waWNrZXJcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIFZpZGVvUmVwcmVzZW50YXRpb24gKGF0dHIpIHtcbiAgZmllbGRzUGlja2VyKHRoaXMsIFtcbiAgICBcImJhbmR3aWR0aFwiLFxuICAgIFwiaWRcIixcbiAgICBcImhlaWdodFwiLFxuICAgIFwibGFuZ1wiLFxuICAgIFwid2lkdGhcIixcbiAgICBcImR1cmF0aW9uSW5TXCJcbiAgXSwgYXR0cik7XG59O1xuIl0sIm5hbWVzIjpbImZpZWxkc1BpY2tlciIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiVmlkZW9SZXByZXNlbnRhdGlvbiIsImF0dHIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5533\n')},2927:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar _require = __webpack_require__(7194),\n    net = _require.net;\n\nvar appSettings = __webpack_require__(9277);\n\nvar ManifestLoader = function () {\n  function ManifestLoader() {}\n\n  ManifestLoader.prototype.load = function (url) {\n    return this.sendXMLHttpRequest(url);\n  };\n\n  ManifestLoader.prototype.sendXMLHttpRequest = function (url) {\n    var req_options = Object.assign({\n      url: url,\n      method: 'GET'\n    }, appSettings.getSettings().defaultManifestRequestOptions);\n    return new Promise(function (resolve, reject) {\n      var req = net.request(req_options);\n      req.chunkedEncoding = appSettings.getSettings().useChunkedEncoding;\n      req.on('error', function (err) {\n        reject(err);\n      });\n      req.on('response', function (response) {\n        response.on(\"error\", function (error) {\n          reject(new Error(\"MANIFEST LOAD FAILURE \" + error));\n        });\n        var error;\n\n        if (response.statusCode >= 400) {\n          error = response.statusMessage;\n        }\n\n        if (!error) {\n          var body = [];\n          response.on('data', function (chunk) {\n            body.push(chunk);\n          }).on('end', function () {\n            body = Buffer.concat(body);\n            resolve({\n              response: body,\n              url: url\n            });\n          });\n        } else {\n          reject(new Error(\"MANIFEST LOAD FAILURE \" + error));\n        }\n      });\n      req.end();\n    });\n  };\n\n  return ManifestLoader;\n}();\n\nexports.ManifestLoader = ManifestLoader;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkyNy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixlQUFjQSxtQkFBTyxDQUFDLElBQUQsQ0FBckI7QUFBQSxJQUFPQyxHQUFQLFlBQU9BLEdBQVA7O0FBQ0EsSUFBTUMsV0FBVyxHQUFHRixtQkFBTyxDQUFDLElBQUQsQ0FBM0I7O0FBRUEsSUFBTUcsY0FBYyxHQUFJLFlBQVk7RUFDbEMsU0FBU0EsY0FBVCxHQUEyQixDQUFFOztFQUU3QkEsY0FBYyxDQUFDQyxTQUFmLENBQXlCQyxJQUF6QixHQUFnQyxVQUFVQyxHQUFWLEVBQWU7SUFDN0MsT0FBTyxLQUFLQyxrQkFBTCxDQUF3QkQsR0FBeEIsQ0FBUDtFQUNELENBRkQ7O0VBR0FILGNBQWMsQ0FBQ0MsU0FBZixDQUF5Qkcsa0JBQXpCLEdBQThDLFVBQVVELEdBQVYsRUFBZTtJQUMzRCxJQUFNRSxXQUFXLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO01BQ2hDSixHQUFHLEVBQUVBLEdBRDJCO01BRWhDSyxNQUFNLEVBQUU7SUFGd0IsQ0FBZCxFQUdqQlQsV0FBVyxDQUFDVSxXQUFaLEdBQTBCQyw2QkFIVCxDQUFwQjtJQUtBLE9BQU8sSUFBSUMsT0FBSixDQUFZLFVBQVVDLE9BQVYsRUFBbUJDLE1BQW5CLEVBQTJCO01BQzVDLElBQUlDLEdBQUcsR0FBR2hCLEdBQUcsQ0FBQ2lCLE9BQUosQ0FBWVYsV0FBWixDQUFWO01BQ0FTLEdBQUcsQ0FBQ0UsZUFBSixHQUFzQmpCLFdBQVcsQ0FBQ1UsV0FBWixHQUEwQlEsa0JBQWhEO01BRUFILEdBQUcsQ0FBQ0ksRUFBSixDQUFPLE9BQVAsRUFBZ0IsVUFBQ0MsR0FBRCxFQUFTO1FBQ3ZCTixNQUFNLENBQUNNLEdBQUQsQ0FBTjtNQUNELENBRkQ7TUFJQUwsR0FBRyxDQUFDSSxFQUFKLENBQU8sVUFBUCxFQUFtQixVQUFDRSxRQUFELEVBQWM7UUFFL0JBLFFBQVEsQ0FBQ0YsRUFBVCxDQUFZLE9BQVosRUFBcUIsVUFBVUcsS0FBVixFQUFpQjtVQUNwQ1IsTUFBTSxDQUFDLElBQUlTLEtBQUosQ0FBVSwyQkFBMkJELEtBQXJDLENBQUQsQ0FBTjtRQUNELENBRkQ7UUFJQSxJQUFJQSxLQUFKOztRQUNBLElBQUlELFFBQVEsQ0FBQ0csVUFBVCxJQUF1QixHQUEzQixFQUFnQztVQUM1QkYsS0FBSyxHQUFHRCxRQUFRLENBQUNJLGFBQWpCO1FBQ0g7O1FBRUQsSUFBSSxDQUFDSCxLQUFMLEVBQVk7VUFDVixJQUFJSSxJQUFJLEdBQUcsRUFBWDtVQUNBTCxRQUFRLENBQUNGLEVBQVQsQ0FBWSxNQUFaLEVBQW9CLFVBQUNRLEtBQUQsRUFBVztZQUM3QkQsSUFBSSxDQUFDRSxJQUFMLENBQVVELEtBQVY7VUFDRCxDQUZELEVBRUdSLEVBRkgsQ0FFTSxLQUZOLEVBRWEsWUFBTTtZQUNqQk8sSUFBSSxHQUFHRyxNQUFNLENBQUNDLE1BQVAsQ0FBY0osSUFBZCxDQUFQO1lBQ0FiLE9BQU8sQ0FBQztjQUFDUSxRQUFRLEVBQUVLLElBQVg7Y0FBaUJ0QixHQUFHLEVBQUVBO1lBQXRCLENBQUQsQ0FBUDtVQUNELENBTEQ7UUFNRCxDQVJELE1BUU87VUFDSFUsTUFBTSxDQUFDLElBQUlTLEtBQUosQ0FBVSwyQkFBMkJELEtBQXJDLENBQUQsQ0FBTjtRQUNIO01BQ0YsQ0F0QkQ7TUF1QkFQLEdBQUcsQ0FBQ2dCLEdBQUo7SUFDRCxDQWhDTSxDQUFQO0VBaUNELENBdkNEOztFQXdDQSxPQUFPOUIsY0FBUDtBQUNELENBL0N1QixFQUF4Qjs7QUFnREErQixzQkFBQSxHQUF5Qi9CLGNBQXpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9sb2FkZXIvbWFuaWZlc3QtbG9hZGVyLmpzPzk1NDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB7bmV0fSA9IHJlcXVpcmUoJ2VsZWN0cm9uJyk7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL2FwcC1zZXR0aW5ncycpO1xuXG5jb25zdCBNYW5pZmVzdExvYWRlciA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1hbmlmZXN0TG9hZGVyICgpIHt9XG5cbiAgTWFuaWZlc3RMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VuZFhNTEh0dHBSZXF1ZXN0KHVybCk7XG4gIH07XG4gIE1hbmlmZXN0TG9hZGVyLnByb3RvdHlwZS5zZW5kWE1MSHR0cFJlcXVlc3QgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgY29uc3QgcmVxX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgIH0sIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZGVmYXVsdE1hbmlmZXN0UmVxdWVzdE9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGxldCByZXEgPSBuZXQucmVxdWVzdChyZXFfb3B0aW9ucyk7XG4gICAgICByZXEuY2h1bmtlZEVuY29kaW5nID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS51c2VDaHVua2VkRW5jb2Rpbmc7XG5cbiAgICAgIHJlcS5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlcS5vbigncmVzcG9uc2UnLCAocmVzcG9uc2UpID0+IHtcblxuICAgICAgICByZXNwb25zZS5vbihcImVycm9yXCIsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJNQU5JRkVTVCBMT0FEIEZBSUxVUkUgXCIgKyBlcnJvcikpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgZXJyb3I7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID49IDQwMCkge1xuICAgICAgICAgICAgZXJyb3IgPSByZXNwb25zZS5zdGF0dXNNZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgIGxldCBib2R5ID0gW107XG4gICAgICAgICAgcmVzcG9uc2Uub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgIGJvZHkucHVzaChjaHVuayk7XG4gICAgICAgICAgfSkub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGJvZHkgPSBCdWZmZXIuY29uY2F0KGJvZHkpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7cmVzcG9uc2U6IGJvZHksIHVybDogdXJsfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiTUFOSUZFU1QgTE9BRCBGQUlMVVJFIFwiICsgZXJyb3IpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXEuZW5kKCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBNYW5pZmVzdExvYWRlcjtcbn0oKSk7XG5leHBvcnRzLk1hbmlmZXN0TG9hZGVyID0gTWFuaWZlc3RMb2FkZXI7XG4iXSwibmFtZXMiOlsicmVxdWlyZSIsIm5ldCIsImFwcFNldHRpbmdzIiwiTWFuaWZlc3RMb2FkZXIiLCJwcm90b3R5cGUiLCJsb2FkIiwidXJsIiwic2VuZFhNTEh0dHBSZXF1ZXN0IiwicmVxX29wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJtZXRob2QiLCJnZXRTZXR0aW5ncyIsImRlZmF1bHRNYW5pZmVzdFJlcXVlc3RPcHRpb25zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXEiLCJyZXF1ZXN0IiwiY2h1bmtlZEVuY29kaW5nIiwidXNlQ2h1bmtlZEVuY29kaW5nIiwib24iLCJlcnIiLCJyZXNwb25zZSIsImVycm9yIiwiRXJyb3IiLCJzdGF0dXNDb2RlIiwic3RhdHVzTWVzc2FnZSIsImJvZHkiLCJjaHVuayIsInB1c2giLCJCdWZmZXIiLCJjb25jYXQiLCJlbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2927\n")},3895:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fs = __webpack_require__(7147);\n\nvar path = __webpack_require__(1017);\n/**\n * @param {string} url - local url\n * @returns {Promise} promise\n * @constructor\n */\n\n\nfunction ManifestLocalLoader(url) {\n  return new Promise(function (resolve, reject) {\n    fs.readFile(path.resolve(url), "utf-8", function (err, content) {\n      if (!err) {\n        resolve(content);\n      } else {\n        reject(err);\n      }\n    });\n  });\n}\n\nmodule.exports = ManifestLocalLoader;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg5NS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxFQUFFLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxJQUFNQyxJQUFJLEdBQUdELG1CQUFPLENBQUMsSUFBRCxDQUFwQjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFNBQVNFLG1CQUFULENBQThCQyxHQUE5QixFQUFtQztFQUNqQyxPQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFVQyxPQUFWLEVBQW1CQyxNQUFuQixFQUEyQjtJQUM1Q1AsRUFBRSxDQUFDUSxRQUFILENBQVlOLElBQUksQ0FBQ0ksT0FBTCxDQUFhRixHQUFiLENBQVosRUFBK0IsT0FBL0IsRUFBd0MsVUFBVUssR0FBVixFQUFlQyxPQUFmLEVBQXdCO01BQzlELElBQUksQ0FBQ0QsR0FBTCxFQUFVO1FBQ1JILE9BQU8sQ0FBQ0ksT0FBRCxDQUFQO01BQ0QsQ0FGRCxNQUVPO1FBQ0xILE1BQU0sQ0FBQ0UsR0FBRCxDQUFOO01BQ0Q7SUFDRixDQU5EO0VBT0QsQ0FSTSxDQUFQO0FBU0Q7O0FBQ0RFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlQsbUJBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9sb2FkZXIvbWFuaWZlc3QtbG9jYWwtbG9hZGVyLmpzP2YzNjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBsb2NhbCB1cmxcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFuaWZlc3RMb2NhbExvYWRlciAodXJsKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnMucmVhZEZpbGUocGF0aC5yZXNvbHZlKHVybCksIFwidXRmLThcIiwgZnVuY3Rpb24gKGVyciwgY29udGVudCkge1xuICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgcmVzb2x2ZShjb250ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gTWFuaWZlc3RMb2NhbExvYWRlcjtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiTWFuaWZlc3RMb2NhbExvYWRlciIsInVybCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhZEZpbGUiLCJlcnIiLCJjb250ZW50IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3895\n')},1269:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar ManifestLoader = __webpack_require__(2927);\n\nvar ManifestLocalLoader = __webpack_require__(3895); // const ManifestXML_1 = require(\"./../parser/manifest-xml\");\n\n\nvar ManifestXML_1 = __webpack_require__(4624);\n\nvar AllAdaptationSets_1 = __webpack_require__(7936);\n\nvar SnowflakeId_1 = __webpack_require__(9499);\n\nvar jsonRepresentation = __webpack_require__(1700);\n\nvar jsonRepresentationWithProtection = __webpack_require__(4723);\n\nvar manifestLoader = new ManifestLoader.ManifestLoader();\n\nvar urlParse = __webpack_require__(3720);\n\nvar encoding = __webpack_require__(5169);\n\nvar Manifest = function () {\n  function Manifest(id) {\n    if (!id) {\n      this.id = String(SnowflakeId_1.SnowflakeId.getUUID());\n    } else {\n      this.id = id;\n    }\n  }\n\n  Manifest.prototype._setUpUrl = function (url) {\n    var pathName = urlParse(url).pathname;\n    this.url = url;\n    this.url_domain = url.substring(0, url.lastIndexOf('/') + 1);\n    this.manifest_name = pathName.substring(pathName.lastIndexOf('/') + 1, pathName.length);\n  };\n\n  Manifest.prototype.load = function (url) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      _this._setUpUrl(url);\n\n      var p = manifestLoader.load(url);\n      p.then(function (v) {\n        var isEncodingUTF16 = encoding.isUTF16(v.response);\n        v.response = v.response.toString(isEncodingUTF16 ? 'utf16le' : 'utf-8');\n        var xml = v.response;\n        _this.manifestXML = new ManifestXML_1.ManifestXML();\n\n        _this.manifestXML.parse(xml, function () {\n          resolve();\n        }, function (e) {\n          reject(e);\n          throw new Error(\"Manifest parsing error\");\n        });\n      }, function (e) {\n        reject(e);\n      });\n    });\n  };\n\n  Manifest.prototype.loadWithManifest = function (url, manifest) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      _this._setUpUrl(url);\n\n      _this.manifestXML = new ManifestXML_1.ManifestXML();\n\n      _this.manifestXML.parse(manifest, function () {\n        resolve();\n      }, function (e) {\n        reject(e);\n        throw new Error(\"Manifest parsing error\");\n      });\n    });\n  };\n\n  Manifest.prototype.loadFromLocal = function (localPath, url) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!url || !localPath) {\n        reject('wrong parameter');\n        return;\n      }\n\n      ManifestLocalLoader(localPath).then(function (str) {\n        _this._setUpUrl(url);\n\n        _this.manifestXML = new ManifestXML_1.ManifestXML();\n\n        _this.manifestXML.parse(str, function () {\n          resolve();\n        }, function (e) {\n          reject(e);\n        });\n      }, function (e) {\n        reject(e);\n      });\n    });\n  };\n\n  Manifest.prototype.loadFromStr = function (str, url) {\n    this.url_domain = url.substring(0, url.lastIndexOf('/') + 1);\n    this.manifest_name = url.substring(url.lastIndexOf('/') + 1, url.length);\n    this.manifestXML = new ManifestXML_1.ManifestXML();\n    this.manifestXML.parse(str);\n  };\n\n  Manifest.prototype.getAdaptationSets = function () {\n    var vid = this.manifestXML.getVideoAdaptation();\n    var audio = this.manifestXML.getAudioAdaptation();\n    var text = this.manifestXML.getTextAdaptation();\n    var all = new AllAdaptationSets_1.AllAdaptationSets(vid, audio, text);\n    return all;\n  };\n\n  Manifest.prototype.getVideoRepresentations = function () {\n    return this.manifestXML.getVideoAdaptation();\n  };\n\n  Manifest.prototype.getAudioRepresentations = function () {\n    return this.manifestXML.getAudioAdaptation();\n  };\n\n  Manifest.prototype.getTextRepresentations = function () {\n    return this.manifestXML.getTextAdaptation();\n  };\n\n  Manifest.prototype.getProtections = function () {\n    var protections = {};\n    protections.video = jsonRepresentationWithProtection(this.getVideoRepresentations());\n    protections.audio = jsonRepresentationWithProtection(this.getAudioRepresentations());\n    protections.text = jsonRepresentationWithProtection(this.getTextRepresentations());\n    return protections;\n  };\n\n  Manifest.prototype.getRemoteDomain = function () {\n    return this.url_domain;\n  };\n\n  Manifest.prototype.getManifestName = function () {\n    return this.manifest_name;\n  };\n\n  Manifest.prototype.getManifestUrl = function () {\n    return this.url;\n  };\n\n  Manifest.prototype.getManifestXML = function () {\n    return this.manifestXML.getManifestXML();\n  };\n\n  Manifest.prototype.removeNode = function () {\n    this.manifestXML.removeNode();\n  };\n\n  Manifest.prototype.getJsonInfo = function () {\n    var json = {};\n    json.id = this.id;\n    json.audio = jsonRepresentation(this.getAudioRepresentations());\n    json.video = jsonRepresentation(this.getVideoRepresentations());\n    json.text = jsonRepresentation(this.getTextRepresentations());\n    json.protections = this.getProtections();\n    return json;\n  };\n\n  return Manifest;\n}();\n\nexports.G = Manifest;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQVo7RUFDRCxDQUZEOztFQUdBYixRQUFRLENBQUNLLFNBQVQsQ0FBbUJtRCxjQUFuQixHQUFvQyxZQUFZO0lBQzlDLE9BQU8sS0FBS2pELEdBQVo7RUFDRCxDQUZEOztFQUdBUCxRQUFRLENBQUNLLFNBQVQsQ0FBbUJvRCxjQUFuQixHQUFvQyxZQUFZO0lBQzlDLE9BQU8sS0FBSzdCLFdBQUwsQ0FBaUI2QixjQUFqQixFQUFQO0VBQ0QsQ0FGRDs7RUFHQXpELFFBQVEsQ0FBQ0ssU0FBVCxDQUFtQnFELFVBQW5CLEdBQWdDLFlBQVk7SUFDMUMsS0FBSzlCLFdBQUwsQ0FBaUI4QixVQUFqQjtFQUNELENBRkQ7O0VBR0ExRCxRQUFRLENBQUNLLFNBQVQsQ0FBbUJzRCxXQUFuQixHQUFpQyxZQUFZO0lBQzNDLElBQUlDLElBQUksR0FBRyxFQUFYO0lBQ0FBLElBQUksQ0FBQzNELEVBQUwsR0FBVSxLQUFLQSxFQUFmO0lBQ0EyRCxJQUFJLENBQUNsQixLQUFMLEdBQWEvQyxrQkFBa0IsQ0FBQyxLQUFLc0QsdUJBQUwsRUFBRCxDQUEvQjtJQUNBVyxJQUFJLENBQUNQLEtBQUwsR0FBYTFELGtCQUFrQixDQUFDLEtBQUtxRCx1QkFBTCxFQUFELENBQS9CO0lBQ0FZLElBQUksQ0FBQ2hCLElBQUwsR0FBWWpELGtCQUFrQixDQUFDLEtBQUt1RCxzQkFBTCxFQUFELENBQTlCO0lBQ0FVLElBQUksQ0FBQ1IsV0FBTCxHQUFtQixLQUFLRCxjQUFMLEVBQW5CO0lBQ0EsT0FBT1MsSUFBUDtFQUNELENBUkQ7O0VBU0EsT0FBTzVELFFBQVA7QUFDRCxDQWhJaUIsRUFBbEI7O0FBaUlBNkQsU0FBQSxHQUFtQjdELFFBQW5CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9sb2FkZXIvbWFuaWZlc3QuanM/N2I5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IE1hbmlmZXN0TG9hZGVyID0gcmVxdWlyZShcIi4vbWFuaWZlc3QtbG9hZGVyXCIpO1xuY29uc3QgTWFuaWZlc3RMb2NhbExvYWRlciA9IHJlcXVpcmUoXCIuL21hbmlmZXN0LWxvY2FsLWxvYWRlclwiKTtcbi8vIGNvbnN0IE1hbmlmZXN0WE1MXzEgPSByZXF1aXJlKFwiLi8uLi9wYXJzZXIvbWFuaWZlc3QteG1sXCIpO1xuY29uc3QgTWFuaWZlc3RYTUxfMSA9IHJlcXVpcmUoXCIuLy4uL3BhcnNlci9tc3MvbWFuaWZlc3QteG1sXCIpO1xuY29uc3QgQWxsQWRhcHRhdGlvblNldHNfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZXIvYWxsLWFkYXB0YXRpb24tc2V0c1wiKTtcbmNvbnN0IFNub3dmbGFrZUlkXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbC9zbm93Zmxha2UtaWRcIik7XG5jb25zdCBqc29uUmVwcmVzZW50YXRpb24gPSByZXF1aXJlKFwiLi4vcGFyc2VyL2pzb24tcmVwcmVzZW50YXRpb25cIik7XG5jb25zdCBqc29uUmVwcmVzZW50YXRpb25XaXRoUHJvdGVjdGlvbiA9IHJlcXVpcmUoXCIuLi9wYXJzZXIvanNvbi1yZXByZXNlbnRhdGlvbi13aXRoLXByb3RlY3Rpb25cIik7XG5jb25zdCBtYW5pZmVzdExvYWRlciA9IG5ldyBNYW5pZmVzdExvYWRlci5NYW5pZmVzdExvYWRlcigpO1xuY29uc3QgdXJsUGFyc2UgPSByZXF1aXJlKFwidXJsLXBhcnNlXCIpO1xuY29uc3QgZW5jb2RpbmcgPSByZXF1aXJlKFwiLi4vLi4vdXRpbC9lbmNvZGluZ1wiKTtcblxuY29uc3QgTWFuaWZlc3QgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNYW5pZmVzdCAoaWQpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aGlzLmlkID0gU3RyaW5nKFNub3dmbGFrZUlkXzEuU25vd2ZsYWtlSWQuZ2V0VVVJRCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cbiAgfVxuXG4gIE1hbmlmZXN0LnByb3RvdHlwZS5fc2V0VXBVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgY29uc3QgcGF0aE5hbWUgPSB1cmxQYXJzZSh1cmwpLnBhdGhuYW1lO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMudXJsX2RvbWFpbiA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICB0aGlzLm1hbmlmZXN0X25hbWUgPSBwYXRoTmFtZS5zdWJzdHJpbmcocGF0aE5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEsIHBhdGhOYW1lLmxlbmd0aCk7XG4gIH07XG5cbiAgTWFuaWZlc3QucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfdGhpcy5fc2V0VXBVcmwodXJsKTtcbiAgICAgIGNvbnN0IHAgPSBtYW5pZmVzdExvYWRlci5sb2FkKHVybCk7XG4gICAgICBwLnRoZW4oZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdmFyIGlzRW5jb2RpbmdVVEYxNiA9IGVuY29kaW5nLmlzVVRGMTYodi5yZXNwb25zZSk7XG4gICAgICAgIHYucmVzcG9uc2UgPSB2LnJlc3BvbnNlLnRvU3RyaW5nKGlzRW5jb2RpbmdVVEYxNiA/ICd1dGYxNmxlJyA6ICd1dGYtOCcpO1xuICAgICAgICBjb25zdCB4bWwgPSB2LnJlc3BvbnNlO1xuICAgICAgICBfdGhpcy5tYW5pZmVzdFhNTCA9IG5ldyBNYW5pZmVzdFhNTF8xLk1hbmlmZXN0WE1MKCk7XG4gICAgICAgIF90aGlzLm1hbmlmZXN0WE1MLnBhcnNlKHhtbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFuaWZlc3QgcGFyc2luZyBlcnJvclwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuTWFuaWZlc3QucHJvdG90eXBlLmxvYWRXaXRoTWFuaWZlc3QgPSBmdW5jdGlvbiAodXJsLCBtYW5pZmVzdCkge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBfdGhpcy5fc2V0VXBVcmwodXJsKTtcbiAgICAgICAgX3RoaXMubWFuaWZlc3RYTUwgPSBuZXcgTWFuaWZlc3RYTUxfMS5NYW5pZmVzdFhNTCgpO1xuICAgICAgICBfdGhpcy5tYW5pZmVzdFhNTC5wYXJzZShtYW5pZmVzdCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFuaWZlc3QgcGFyc2luZyBlcnJvclwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuICBNYW5pZmVzdC5wcm90b3R5cGUubG9hZEZyb21Mb2NhbCA9IGZ1bmN0aW9uIChsb2NhbFBhdGgsIHVybCkge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKCF1cmwgfHwgIWxvY2FsUGF0aCkge1xuICAgICAgICByZWplY3QoJ3dyb25nIHBhcmFtZXRlcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBNYW5pZmVzdExvY2FsTG9hZGVyKGxvY2FsUGF0aCkudGhlbihmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIF90aGlzLl9zZXRVcFVybCh1cmwpO1xuICAgICAgICBfdGhpcy5tYW5pZmVzdFhNTCA9IG5ldyBNYW5pZmVzdFhNTF8xLk1hbmlmZXN0WE1MKCk7XG4gICAgICAgIF90aGlzLm1hbmlmZXN0WE1MLnBhcnNlKHN0ciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgfTtcblxuICBNYW5pZmVzdC5wcm90b3R5cGUubG9hZEZyb21TdHIgPSBmdW5jdGlvbiAoc3RyLCB1cmwpIHtcbiAgICB0aGlzLnVybF9kb21haW4gPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgdGhpcy5tYW5pZmVzdF9uYW1lID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy8nKSArIDEsIHVybC5sZW5ndGgpO1xuICAgIHRoaXMubWFuaWZlc3RYTUwgPSBuZXcgTWFuaWZlc3RYTUxfMS5NYW5pZmVzdFhNTCgpO1xuICAgIHRoaXMubWFuaWZlc3RYTUwucGFyc2Uoc3RyKTtcbiAgfTtcblxuICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0QWRhcHRhdGlvblNldHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdmlkID0gdGhpcy5tYW5pZmVzdFhNTC5nZXRWaWRlb0FkYXB0YXRpb24oKTtcbiAgICBjb25zdCBhdWRpbyA9IHRoaXMubWFuaWZlc3RYTUwuZ2V0QXVkaW9BZGFwdGF0aW9uKCk7XG4gICAgY29uc3QgdGV4dCA9IHRoaXMubWFuaWZlc3RYTUwuZ2V0VGV4dEFkYXB0YXRpb24oKTtcbiAgICBjb25zdCBhbGwgPSBuZXcgQWxsQWRhcHRhdGlvblNldHNfMS5BbGxBZGFwdGF0aW9uU2V0cyh2aWQsIGF1ZGlvLCB0ZXh0KTtcbiAgICByZXR1cm4gYWxsO1xuICB9O1xuICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0VmlkZW9SZXByZXNlbnRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFuaWZlc3RYTUwuZ2V0VmlkZW9BZGFwdGF0aW9uKCk7XG4gIH07XG4gIE1hbmlmZXN0LnByb3RvdHlwZS5nZXRBdWRpb1JlcHJlc2VudGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYW5pZmVzdFhNTC5nZXRBdWRpb0FkYXB0YXRpb24oKTtcbiAgfTtcbiAgTWFuaWZlc3QucHJvdG90eXBlLmdldFRleHRSZXByZXNlbnRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFuaWZlc3RYTUwuZ2V0VGV4dEFkYXB0YXRpb24oKTtcbiAgfTtcbiAgTWFuaWZlc3QucHJvdG90eXBlLmdldFByb3RlY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBwcm90ZWN0aW9ucyA9IHt9O1xuICAgIHByb3RlY3Rpb25zLnZpZGVvID0ganNvblJlcHJlc2VudGF0aW9uV2l0aFByb3RlY3Rpb24odGhpcy5nZXRWaWRlb1JlcHJlc2VudGF0aW9ucygpKTtcbiAgICBwcm90ZWN0aW9ucy5hdWRpbyA9IGpzb25SZXByZXNlbnRhdGlvbldpdGhQcm90ZWN0aW9uKHRoaXMuZ2V0QXVkaW9SZXByZXNlbnRhdGlvbnMoKSk7XG4gICAgcHJvdGVjdGlvbnMudGV4dCA9IGpzb25SZXByZXNlbnRhdGlvbldpdGhQcm90ZWN0aW9uKHRoaXMuZ2V0VGV4dFJlcHJlc2VudGF0aW9ucygpKTtcbiAgICByZXR1cm4gcHJvdGVjdGlvbnM7XG4gIH07XG4gIE1hbmlmZXN0LnByb3RvdHlwZS5nZXRSZW1vdGVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXJsX2RvbWFpbjtcbiAgfTtcbiAgTWFuaWZlc3QucHJvdG90eXBlLmdldE1hbmlmZXN0TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYW5pZmVzdF9uYW1lO1xuICB9O1xuICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXJsO1xuICB9O1xuICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RYTUwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFuaWZlc3RYTUwuZ2V0TWFuaWZlc3RYTUwoKTtcbiAgfTtcbiAgTWFuaWZlc3QucHJvdG90eXBlLnJlbW92ZU5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tYW5pZmVzdFhNTC5yZW1vdmVOb2RlKCk7XG4gIH07XG4gIE1hbmlmZXN0LnByb3RvdHlwZS5nZXRKc29uSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQganNvbiA9IHt9O1xuICAgIGpzb24uaWQgPSB0aGlzLmlkO1xuICAgIGpzb24uYXVkaW8gPSBqc29uUmVwcmVzZW50YXRpb24odGhpcy5nZXRBdWRpb1JlcHJlc2VudGF0aW9ucygpKTtcbiAgICBqc29uLnZpZGVvID0ganNvblJlcHJlc2VudGF0aW9uKHRoaXMuZ2V0VmlkZW9SZXByZXNlbnRhdGlvbnMoKSk7XG4gICAganNvbi50ZXh0ID0ganNvblJlcHJlc2VudGF0aW9uKHRoaXMuZ2V0VGV4dFJlcHJlc2VudGF0aW9ucygpKTtcbiAgICBqc29uLnByb3RlY3Rpb25zID0gdGhpcy5nZXRQcm90ZWN0aW9ucygpO1xuICAgIHJldHVybiBqc29uO1xuICB9O1xuICByZXR1cm4gTWFuaWZlc3Q7XG59KCkpO1xuZXhwb3J0cy5NYW5pZmVzdCA9IE1hbmlmZXN0O1xuIl0sIm5hbWVzIjpbIk1hbmlmZXN0TG9hZGVyIiwicmVxdWlyZSIsIk1hbmlmZXN0TG9jYWxMb2FkZXIiLCJNYW5pZmVzdFhNTF8xIiwiQWxsQWRhcHRhdGlvblNldHNfMSIsIlNub3dmbGFrZUlkXzEiLCJqc29uUmVwcmVzZW50YXRpb24iLCJqc29uUmVwcmVzZW50YXRpb25XaXRoUHJvdGVjdGlvbiIsIm1hbmlmZXN0TG9hZGVyIiwidXJsUGFyc2UiLCJlbmNvZGluZyIsIk1hbmlmZXN0IiwiaWQiLCJTdHJpbmciLCJTbm93Zmxha2VJZCIsImdldFVVSUQiLCJwcm90b3R5cGUiLCJfc2V0VXBVcmwiLCJ1cmwiLCJwYXRoTmFtZSIsInBhdGhuYW1lIiwidXJsX2RvbWFpbiIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwibWFuaWZlc3RfbmFtZSIsImxlbmd0aCIsImxvYWQiLCJfdGhpcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicCIsInRoZW4iLCJ2IiwiaXNFbmNvZGluZ1VURjE2IiwiaXNVVEYxNiIsInJlc3BvbnNlIiwidG9TdHJpbmciLCJ4bWwiLCJtYW5pZmVzdFhNTCIsIk1hbmlmZXN0WE1MIiwicGFyc2UiLCJlIiwiRXJyb3IiLCJsb2FkV2l0aE1hbmlmZXN0IiwibWFuaWZlc3QiLCJsb2FkRnJvbUxvY2FsIiwibG9jYWxQYXRoIiwic3RyIiwibG9hZEZyb21TdHIiLCJnZXRBZGFwdGF0aW9uU2V0cyIsInZpZCIsImdldFZpZGVvQWRhcHRhdGlvbiIsImF1ZGlvIiwiZ2V0QXVkaW9BZGFwdGF0aW9uIiwidGV4dCIsImdldFRleHRBZGFwdGF0aW9uIiwiYWxsIiwiQWxsQWRhcHRhdGlvblNldHMiLCJnZXRWaWRlb1JlcHJlc2VudGF0aW9ucyIsImdldEF1ZGlvUmVwcmVzZW50YXRpb25zIiwiZ2V0VGV4dFJlcHJlc2VudGF0aW9ucyIsImdldFByb3RlY3Rpb25zIiwicHJvdGVjdGlvbnMiLCJ2aWRlbyIsImdldFJlbW90ZURvbWFpbiIsImdldE1hbmlmZXN0TmFtZSIsImdldE1hbmlmZXN0VXJsIiwiZ2V0TWFuaWZlc3RYTUwiLCJyZW1vdmVOb2RlIiwiZ2V0SnNvbkluZm8iLCJqc29uIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1269\n")},4872:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar BASE64 = __webpack_require__(7769);\n\nvar pssh = __webpack_require__(2310);\n\nvar MPEG_DASH_PROTECTION_SCHEME_ID_URI = 'urn:mpeg:dash:mp4protection:2011';\nvar WIDEVINE_SCHEME_ID_URI = 'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed';\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n\nvar ManifestNode_1 = __webpack_require__(2167);\n\nvar RepresentationNode_1 = __webpack_require__(3188);\n\nvar AdaptationSetNode = function (_super) {\n  __extends(AdaptationSetNode, _super);\n\n  function AdaptationSetNode(node, xml) {\n    _super.call(this, node, xml);\n\n    this.representationColl = [];\n    this.contentProtections = [];\n    this.parse();\n  }\n\n  AdaptationSetNode.prototype.parse = function () {\n    var rep = this.currentNode.getElementsByTagName('Representation');\n\n    for (var i = 0; i < rep.length; i++) {\n      var repNode = new RepresentationNode_1.RepresentationNode(rep[i], this.xml);\n      this.representationColl[i] = repNode;\n\n      if (this.representationColl[0].hasMimeType()) {\n        {\n          this.attributeList['mimeType'] = this.representationColl[0].getMimeType();\n        }\n      }\n    }\n\n    var contentProtections = this.currentNode.getElementsByTagName('ContentProtection');\n    var KID; // find CENC KEY ID if there is some\n\n    for (var _i = 0; _i < contentProtections.length; _i++) {\n      var attrs = contentProtections[_i].attributes;\n      var schemeIdUri = attrs.getNamedItem(\"schemeIdUri\");\n\n      if (schemeIdUri && schemeIdUri.value.toLowerCase() === MPEG_DASH_PROTECTION_SCHEME_ID_URI) {\n        if (attrs.getNamedItem(\"cenc:default_KID\")) {\n          KID = attrs.getNamedItem(\"cenc:default_KID\").value; // Get KID (base64 decoded) as byte array\n\n          KID = BASE64.toByteArray(KID);\n          break;\n        }\n      }\n    }\n\n    for (var _i2 = 0; _i2 < contentProtections.length; _i2++) {\n      var _attrs = contentProtections[_i2].attributes;\n\n      if (_attrs.getNamedItem(\"schemeIdUri\")) {\n        var scheme = _attrs.getNamedItem(\"schemeIdUri\").value.toLowerCase();\n\n        var cenc = contentProtections[_i2].getElementsByTagName(\"cenc:pssh\");\n\n        if (cenc.length) {\n          var contentProtection = {\n            schemeIdUri: scheme,\n            cencPSSH: cenc[0].childNodes[0].data\n          };\n          this.contentProtections.push(contentProtection);\n        } else if (KID && scheme === WIDEVINE_SCHEME_ID_URI) {\n          var psshWV = pssh.createWidevinePssh(KID);\n          var _contentProtection = {\n            schemeIdUri: scheme,\n            cencPSSH: psshWV\n          };\n          this.contentProtections.push(_contentProtection);\n        }\n      }\n    }\n  };\n\n  AdaptationSetNode.prototype.getContentProtections = function () {\n    return this.contentProtections;\n  };\n\n  AdaptationSetNode.prototype.getWidevineProtection = function () {\n    return this.contentProtections.filter(function (item) {\n      return item.schemeIdUri && item.schemeIdUri.toLowerCase() === WIDEVINE_SCHEME_ID_URI;\n    });\n  };\n\n  AdaptationSetNode.prototype.isMimeType = function (str) {\n    return this.attributeList['mimeType'].indexOf(str) != -1 ? true : false;\n  };\n\n  AdaptationSetNode.prototype.isContentType = function (str) {\n    return this.attributeList['contentType'] && this.attributeList['contentType'].indexOf(str) != -1 ? true : false;\n  };\n\n  return AdaptationSetNode;\n}(ManifestNode_1.ManifestNode);\n\nexports.AdaptationSetNode = AdaptationSetNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBbUcsS0FBMUc7RUFDRCxDQUZEOztFQUdBLE9BQU94QyxpQkFBUDtBQUNELENBL0UwQixDQStFekJGLGNBQWMsQ0FBQzZDLFlBL0VVLENBQTNCOztBQWdGQUMseUJBQUEsR0FBNEI1QyxpQkFBNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L3BhcnNlci9hZGFwdGF0aW9uLXNldC1ub2RlLmpzPzNjNTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBCQVNFNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKTtcbmNvbnN0IHBzc2ggPSByZXF1aXJlKFwiLi9wc3NoXCIpO1xuY29uc3QgTVBFR19EQVNIX1BST1RFQ1RJT05fU0NIRU1FX0lEX1VSSSA9ICd1cm46bXBlZzpkYXNoOm1wNHByb3RlY3Rpb246MjAxMSc7XG5jb25zdCBXSURFVklORV9TQ0hFTUVfSURfVVJJID0gJ3Vybjp1dWlkOmVkZWY4YmE5LTc5ZDYtNGFjZS1hM2M4LTI3ZGNkNTFkMjFlZCc7XG5cbmNvbnN0IF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZm9yIChsZXQgcCBpbiBiKSB7XG4gICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF9fICgpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICB9XG5cbiAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xuY29uc3QgTWFuaWZlc3ROb2RlXzEgPSByZXF1aXJlKFwiLi9tYW5pZmVzdC1ub2RlXCIpO1xuY29uc3QgUmVwcmVzZW50YXRpb25Ob2RlXzEgPSByZXF1aXJlKFwiLi9yZXByZXNlbnRhdGlvbi1ub2RlXCIpO1xuY29uc3QgQWRhcHRhdGlvblNldE5vZGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQWRhcHRhdGlvblNldE5vZGUsIF9zdXBlcik7XG4gIGZ1bmN0aW9uIEFkYXB0YXRpb25TZXROb2RlIChub2RlLCB4bWwpIHtcbiAgICBfc3VwZXIuY2FsbCh0aGlzLCBub2RlLCB4bWwpO1xuICAgIHRoaXMucmVwcmVzZW50YXRpb25Db2xsID0gW107XG4gICAgdGhpcy5jb250ZW50UHJvdGVjdGlvbnMgPSBbXTtcbiAgICB0aGlzLnBhcnNlKCk7XG4gIH1cblxuICBBZGFwdGF0aW9uU2V0Tm9kZS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcmVwID0gdGhpcy5jdXJyZW50Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnUmVwcmVzZW50YXRpb24nKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmVwTm9kZSA9IG5ldyBSZXByZXNlbnRhdGlvbk5vZGVfMS5SZXByZXNlbnRhdGlvbk5vZGUocmVwW2ldLCB0aGlzLnhtbCk7XG4gICAgICB0aGlzLnJlcHJlc2VudGF0aW9uQ29sbFtpXSA9IHJlcE5vZGU7XG4gICAgICBpZiAodGhpcy5yZXByZXNlbnRhdGlvbkNvbGxbMF0uaGFzTWltZVR5cGUoKSkge1xuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5hdHRyaWJ1dGVMaXN0WydtaW1lVHlwZSddID0gdGhpcy5yZXByZXNlbnRhdGlvbkNvbGxbMF0uZ2V0TWltZVR5cGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnRQcm90ZWN0aW9ucyA9IHRoaXMuY3VycmVudE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0NvbnRlbnRQcm90ZWN0aW9uJyk7XG5cbiAgICBsZXQgS0lEO1xuICAgIC8vIGZpbmQgQ0VOQyBLRVkgSUQgaWYgdGhlcmUgaXMgc29tZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudFByb3RlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgYXR0cnMgPSBjb250ZW50UHJvdGVjdGlvbnNbaV0uYXR0cmlidXRlcztcbiAgICAgIGxldCBzY2hlbWVJZFVyaSA9IGF0dHJzLmdldE5hbWVkSXRlbShcInNjaGVtZUlkVXJpXCIpO1xuICAgICAgaWYgKHNjaGVtZUlkVXJpICYmIHNjaGVtZUlkVXJpLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IE1QRUdfREFTSF9QUk9URUNUSU9OX1NDSEVNRV9JRF9VUkkpIHtcbiAgICAgICAgaWYgKGF0dHJzLmdldE5hbWVkSXRlbShcImNlbmM6ZGVmYXVsdF9LSURcIikpIHtcbiAgICAgICAgICBLSUQgPSBhdHRycy5nZXROYW1lZEl0ZW0oXCJjZW5jOmRlZmF1bHRfS0lEXCIpLnZhbHVlO1xuICAgICAgICAgIC8vIEdldCBLSUQgKGJhc2U2NCBkZWNvZGVkKSBhcyBieXRlIGFycmF5XG4gICAgICAgICAgS0lEID0gQkFTRTY0LnRvQnl0ZUFycmF5KEtJRCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnRQcm90ZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYXR0cnMgPSBjb250ZW50UHJvdGVjdGlvbnNbaV0uYXR0cmlidXRlcztcbiAgICAgIGlmIChhdHRycy5nZXROYW1lZEl0ZW0oXCJzY2hlbWVJZFVyaVwiKSkge1xuICAgICAgICBjb25zdCBzY2hlbWUgPSBhdHRycy5nZXROYW1lZEl0ZW0oXCJzY2hlbWVJZFVyaVwiKS52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBjZW5jID0gY29udGVudFByb3RlY3Rpb25zW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiY2VuYzpwc3NoXCIpO1xuICAgICAgICBpZiAoY2VuYy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50UHJvdGVjdGlvbiA9IHtcbiAgICAgICAgICAgIHNjaGVtZUlkVXJpOiBzY2hlbWUsXG4gICAgICAgICAgICBjZW5jUFNTSDogY2VuY1swXS5jaGlsZE5vZGVzWzBdLmRhdGFcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuY29udGVudFByb3RlY3Rpb25zLnB1c2goY29udGVudFByb3RlY3Rpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKEtJRCAmJiBzY2hlbWUgPT09IFdJREVWSU5FX1NDSEVNRV9JRF9VUkkpIHtcbiAgICAgICAgICBjb25zdCBwc3NoV1YgPSBwc3NoLmNyZWF0ZVdpZGV2aW5lUHNzaChLSUQpO1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnRQcm90ZWN0aW9uID0ge1xuICAgICAgICAgICAgc2NoZW1lSWRVcmk6IHNjaGVtZSxcbiAgICAgICAgICAgIGNlbmNQU1NIOiBwc3NoV1ZcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuY29udGVudFByb3RlY3Rpb25zLnB1c2goY29udGVudFByb3RlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEFkYXB0YXRpb25TZXROb2RlLnByb3RvdHlwZS5nZXRDb250ZW50UHJvdGVjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFByb3RlY3Rpb25zO1xuICB9O1xuXG4gIEFkYXB0YXRpb25TZXROb2RlLnByb3RvdHlwZS5nZXRXaWRldmluZVByb3RlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFByb3RlY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uc2NoZW1lSWRVcmkgJiYgaXRlbS5zY2hlbWVJZFVyaS50b0xvd2VyQ2FzZSgpID09PSBXSURFVklORV9TQ0hFTUVfSURfVVJJO1xuICAgIH0pO1xuICB9O1xuXG4gIEFkYXB0YXRpb25TZXROb2RlLnByb3RvdHlwZS5pc01pbWVUeXBlID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21pbWVUeXBlJ10uaW5kZXhPZihzdHIpICE9IC0xID8gdHJ1ZSA6IGZhbHNlO1xuICB9O1xuXG4gIEFkYXB0YXRpb25TZXROb2RlLnByb3RvdHlwZS5pc0NvbnRlbnRUeXBlID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZUxpc3RbJ2NvbnRlbnRUeXBlJ10gJiYgdGhpcy5hdHRyaWJ1dGVMaXN0Wydjb250ZW50VHlwZSddLmluZGV4T2Yoc3RyKSAhPSAtMSA/IHRydWUgOiBmYWxzZTtcbiAgfTtcbiAgcmV0dXJuIEFkYXB0YXRpb25TZXROb2RlO1xufShNYW5pZmVzdE5vZGVfMS5NYW5pZmVzdE5vZGUpKTtcbmV4cG9ydHMuQWRhcHRhdGlvblNldE5vZGUgPSBBZGFwdGF0aW9uU2V0Tm9kZTtcbiJdLCJuYW1lcyI6WyJCQVNFNjQiLCJyZXF1aXJlIiwicHNzaCIsIk1QRUdfREFTSF9QUk9URUNUSU9OX1NDSEVNRV9JRF9VUkkiLCJXSURFVklORV9TQ0hFTUVfSURfVVJJIiwiX19leHRlbmRzIiwiZCIsImIiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiTWFuaWZlc3ROb2RlXzEiLCJSZXByZXNlbnRhdGlvbk5vZGVfMSIsIkFkYXB0YXRpb25TZXROb2RlIiwiX3N1cGVyIiwibm9kZSIsInhtbCIsImNhbGwiLCJyZXByZXNlbnRhdGlvbkNvbGwiLCJjb250ZW50UHJvdGVjdGlvbnMiLCJwYXJzZSIsInJlcCIsImN1cnJlbnROb2RlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpIiwibGVuZ3RoIiwicmVwTm9kZSIsIlJlcHJlc2VudGF0aW9uTm9kZSIsImhhc01pbWVUeXBlIiwiYXR0cmlidXRlTGlzdCIsImdldE1pbWVUeXBlIiwiS0lEIiwiYXR0cnMiLCJhdHRyaWJ1dGVzIiwic2NoZW1lSWRVcmkiLCJnZXROYW1lZEl0ZW0iLCJ2YWx1ZSIsInRvTG93ZXJDYXNlIiwidG9CeXRlQXJyYXkiLCJzY2hlbWUiLCJjZW5jIiwiY29udGVudFByb3RlY3Rpb24iLCJjZW5jUFNTSCIsImNoaWxkTm9kZXMiLCJkYXRhIiwicHVzaCIsInBzc2hXViIsImNyZWF0ZVdpZGV2aW5lUHNzaCIsImdldENvbnRlbnRQcm90ZWN0aW9ucyIsImdldFdpZGV2aW5lUHJvdGVjdGlvbiIsImZpbHRlciIsIml0ZW0iLCJpc01pbWVUeXBlIiwic3RyIiwiaW5kZXhPZiIsImlzQ29udGVudFR5cGUiLCJNYW5pZmVzdE5vZGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4872\n")},7936:(__unused_webpack_module,exports)=>{"use strict";eval("\n\nvar AllAdaptationSets = function () {\n  function AllAdaptationSets(vid, audio, text) {\n    this.videoAdaptation = vid;\n\n    if (audio) {\n      this.audioAdaptation = audio;\n    }\n\n    if (text) {\n      this.textAdaptation = text;\n    }\n  }\n\n  return AllAdaptationSets;\n}();\n\nexports.AllAdaptationSets = AllAdaptationSets;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkzNi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxpQkFBaUIsR0FBSSxZQUFZO0VBQ3JDLFNBQVNBLGlCQUFULENBQTRCQyxHQUE1QixFQUFpQ0MsS0FBakMsRUFBd0NDLElBQXhDLEVBQThDO0lBQzVDLEtBQUtDLGVBQUwsR0FBdUJILEdBQXZCOztJQUNBLElBQUlDLEtBQUosRUFBVztNQUNULEtBQUtHLGVBQUwsR0FBdUJILEtBQXZCO0lBQ0Q7O0lBQ0QsSUFBSUMsSUFBSixFQUFVO01BQ1IsS0FBS0csY0FBTCxHQUFzQkgsSUFBdEI7SUFDRDtFQUNGOztFQUVELE9BQU9ILGlCQUFQO0FBQ0QsQ0FaMEIsRUFBM0I7O0FBYUFPLHlCQUFBLEdBQTRCUCxpQkFBNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L3BhcnNlci9hbGwtYWRhcHRhdGlvbi1zZXRzLmpzPzU3ZWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBBbGxBZGFwdGF0aW9uU2V0cyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFsbEFkYXB0YXRpb25TZXRzICh2aWQsIGF1ZGlvLCB0ZXh0KSB7XG4gICAgdGhpcy52aWRlb0FkYXB0YXRpb24gPSB2aWQ7XG4gICAgaWYgKGF1ZGlvKSB7XG4gICAgICB0aGlzLmF1ZGlvQWRhcHRhdGlvbiA9IGF1ZGlvO1xuICAgIH1cbiAgICBpZiAodGV4dCkge1xuICAgICAgdGhpcy50ZXh0QWRhcHRhdGlvbiA9IHRleHQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIEFsbEFkYXB0YXRpb25TZXRzO1xufSgpKTtcbmV4cG9ydHMuQWxsQWRhcHRhdGlvblNldHMgPSBBbGxBZGFwdGF0aW9uU2V0cztcbiJdLCJuYW1lcyI6WyJBbGxBZGFwdGF0aW9uU2V0cyIsInZpZCIsImF1ZGlvIiwidGV4dCIsInZpZGVvQWRhcHRhdGlvbiIsImF1ZGlvQWRhcHRhdGlvbiIsInRleHRBZGFwdGF0aW9uIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7936\n")},4723:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar AudioRepresentation = __webpack_require__(7258);\n\nvar VideoRepresentation = __webpack_require__(5533);\n\nvar TextRepresentation = __webpack_require__(6092);\n\nmodule.exports = function jsonRepresentation(representations) {\n  var reprObj = [];\n\n  for (var i = 0, j = representations.length; i < j; i++) {\n    var cols = representations[i].representationColl;\n\n    for (var k = 0, l = cols.length; k < l; k++) {\n      var attr = cols[k].attributeList;\n      var contentType = attr.contentType || attr.mimeType;\n\n      if (contentType.indexOf("video") >= 0) {\n        contentType = "video";\n      } else if (contentType.indexOf("audio") >= 0) {\n        contentType = "audio";\n      } else {\n        contentType = "text";\n      }\n\n      switch (contentType) {\n        case "audio":\n          reprObj.push(new AudioRepresentation(attr));\n          break;\n\n        case "video":\n          reprObj.push(new VideoRepresentation(attr));\n          break;\n\n        default:\n          reprObj.push(new TextRepresentation(attr));\n      }\n\n      reprObj[k].protections = representations[i].contentProtections.slice();\n    }\n  }\n\n  return reprObj;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcyMy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxtQkFBbUIsR0FBR0MsbUJBQU8sQ0FBQyxJQUFELENBQW5DOztBQUNBLElBQU1DLG1CQUFtQixHQUFHRCxtQkFBTyxDQUFDLElBQUQsQ0FBbkM7O0FBQ0EsSUFBTUUsa0JBQWtCLEdBQUdGLG1CQUFPLENBQUMsSUFBRCxDQUFsQzs7QUFFQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLGtCQUFULENBQTZCQyxlQUE3QixFQUE4QztFQUM3RCxJQUFJQyxPQUFPLEdBQUcsRUFBZDs7RUFDQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFSLEVBQVdDLENBQUMsR0FBR0gsZUFBZSxDQUFDSSxNQUFwQyxFQUE0Q0YsQ0FBQyxHQUFHQyxDQUFoRCxFQUFtREQsQ0FBQyxFQUFwRCxFQUF3RDtJQUN0RCxJQUFNRyxJQUFJLEdBQUdMLGVBQWUsQ0FBQ0UsQ0FBRCxDQUFmLENBQW1CSSxrQkFBaEM7O0lBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBUixFQUFXQyxDQUFDLEdBQUdILElBQUksQ0FBQ0QsTUFBekIsRUFBaUNHLENBQUMsR0FBR0MsQ0FBckMsRUFBd0NELENBQUMsRUFBekMsRUFBNkM7TUFDM0MsSUFBTUUsSUFBSSxHQUFHSixJQUFJLENBQUNFLENBQUQsQ0FBSixDQUFRRyxhQUFyQjtNQUNBLElBQUlDLFdBQVcsR0FBR0YsSUFBSSxDQUFDRSxXQUFMLElBQW9CRixJQUFJLENBQUNHLFFBQTNDOztNQUNBLElBQUlELFdBQVcsQ0FBQ0UsT0FBWixDQUFvQixPQUFwQixLQUFnQyxDQUFwQyxFQUF1QztRQUNyQ0YsV0FBVyxHQUFHLE9BQWQ7TUFDRCxDQUZELE1BRU8sSUFBSUEsV0FBVyxDQUFDRSxPQUFaLENBQW9CLE9BQXBCLEtBQWdDLENBQXBDLEVBQXVDO1FBQzVDRixXQUFXLEdBQUcsT0FBZDtNQUNELENBRk0sTUFFQTtRQUNMQSxXQUFXLEdBQUcsTUFBZDtNQUNEOztNQUNELFFBQVFBLFdBQVI7UUFDRSxLQUFLLE9BQUw7VUFDRVYsT0FBTyxDQUFDYSxJQUFSLENBQWEsSUFBSXJCLG1CQUFKLENBQXdCZ0IsSUFBeEIsQ0FBYjtVQUNBOztRQUVGLEtBQUssT0FBTDtVQUNFUixPQUFPLENBQUNhLElBQVIsQ0FBYSxJQUFJbkIsbUJBQUosQ0FBd0JjLElBQXhCLENBQWI7VUFDQTs7UUFFRjtVQUNFUixPQUFPLENBQUNhLElBQVIsQ0FBYSxJQUFJbEIsa0JBQUosQ0FBdUJhLElBQXZCLENBQWI7TUFWSjs7TUFZQVIsT0FBTyxDQUFDTSxDQUFELENBQVAsQ0FBV1EsV0FBWCxHQUF5QmYsZUFBZSxDQUFDRSxDQUFELENBQWYsQ0FBbUJjLGtCQUFuQixDQUFzQ0MsS0FBdEMsRUFBekI7SUFDRDtFQUVGOztFQUNELE9BQU9oQixPQUFQO0FBQ0QsQ0EvQkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L3BhcnNlci9qc29uLXJlcHJlc2VudGF0aW9uLXdpdGgtcHJvdGVjdGlvbi5qcz81MTRiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgQXVkaW9SZXByZXNlbnRhdGlvbiA9IHJlcXVpcmUoXCIuLi9qc29uL2F1ZGlvLXJlcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgVmlkZW9SZXByZXNlbnRhdGlvbiA9IHJlcXVpcmUoXCIuLi9qc29uL3ZpZGVvLXJlcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgVGV4dFJlcHJlc2VudGF0aW9uID0gcmVxdWlyZShcIi4uL2pzb24vdGV4dC1yZXByZXNlbnRhdGlvblwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBqc29uUmVwcmVzZW50YXRpb24gKHJlcHJlc2VudGF0aW9ucykge1xuICBsZXQgcmVwck9iaiA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHJlcHJlc2VudGF0aW9ucy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBjb25zdCBjb2xzID0gcmVwcmVzZW50YXRpb25zW2ldLnJlcHJlc2VudGF0aW9uQ29sbDtcbiAgICBmb3IgKGxldCBrID0gMCwgbCA9IGNvbHMubGVuZ3RoOyBrIDwgbDsgaysrKSB7XG4gICAgICBjb25zdCBhdHRyID0gY29sc1trXS5hdHRyaWJ1dGVMaXN0O1xuICAgICAgbGV0IGNvbnRlbnRUeXBlID0gYXR0ci5jb250ZW50VHlwZSB8fCBhdHRyLm1pbWVUeXBlO1xuICAgICAgaWYgKGNvbnRlbnRUeXBlLmluZGV4T2YoXCJ2aWRlb1wiKSA+PSAwKSB7XG4gICAgICAgIGNvbnRlbnRUeXBlID0gXCJ2aWRlb1wiO1xuICAgICAgfSBlbHNlIGlmIChjb250ZW50VHlwZS5pbmRleE9mKFwiYXVkaW9cIikgPj0gMCkge1xuICAgICAgICBjb250ZW50VHlwZSA9IFwiYXVkaW9cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnRUeXBlID0gXCJ0ZXh0XCI7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJhdWRpb1wiOlxuICAgICAgICAgIHJlcHJPYmoucHVzaChuZXcgQXVkaW9SZXByZXNlbnRhdGlvbihhdHRyKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgICAgcmVwck9iai5wdXNoKG5ldyBWaWRlb1JlcHJlc2VudGF0aW9uKGF0dHIpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlcHJPYmoucHVzaChuZXcgVGV4dFJlcHJlc2VudGF0aW9uKGF0dHIpKTtcbiAgICAgIH1cbiAgICAgIHJlcHJPYmpba10ucHJvdGVjdGlvbnMgPSByZXByZXNlbnRhdGlvbnNbaV0uY29udGVudFByb3RlY3Rpb25zLnNsaWNlKCk7XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIHJlcHJPYmo7XG59O1xuIl0sIm5hbWVzIjpbIkF1ZGlvUmVwcmVzZW50YXRpb24iLCJyZXF1aXJlIiwiVmlkZW9SZXByZXNlbnRhdGlvbiIsIlRleHRSZXByZXNlbnRhdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJqc29uUmVwcmVzZW50YXRpb24iLCJyZXByZXNlbnRhdGlvbnMiLCJyZXByT2JqIiwiaSIsImoiLCJsZW5ndGgiLCJjb2xzIiwicmVwcmVzZW50YXRpb25Db2xsIiwiayIsImwiLCJhdHRyIiwiYXR0cmlidXRlTGlzdCIsImNvbnRlbnRUeXBlIiwibWltZVR5cGUiLCJpbmRleE9mIiwicHVzaCIsInByb3RlY3Rpb25zIiwiY29udGVudFByb3RlY3Rpb25zIiwic2xpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4723\n')},1700:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar AudioRepresentation = __webpack_require__(7258);\n\nvar VideoRepresentation = __webpack_require__(5533);\n\nvar TextRepresentation = __webpack_require__(6092);\n\nmodule.exports = function jsonRepresentation(representations) {\n  var reprObj = [];\n\n  for (var i = 0, j = representations.length; i < j; i++) {\n    var cols = representations[i].representationColl;\n\n    for (var k = 0, l = cols.length; k < l; k++) {\n      var attr = cols[k].attributeList;\n      var contentType = attr.contentType || attr.mimeType;\n\n      if (contentType.indexOf("video") >= 0) {\n        contentType = "video";\n      } else if (contentType.indexOf("audio") >= 0) {\n        contentType = "audio";\n      } else {\n        contentType = "text";\n      }\n\n      switch (contentType) {\n        case "audio":\n          reprObj.push(new AudioRepresentation(attr));\n          break;\n\n        case "video":\n          reprObj.push(new VideoRepresentation(attr));\n          break;\n\n        default:\n          reprObj.push(new TextRepresentation(attr));\n      }\n    }\n  }\n\n  return reprObj;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcwMC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxtQkFBbUIsR0FBR0MsbUJBQU8sQ0FBQyxJQUFELENBQW5DOztBQUNBLElBQU1DLG1CQUFtQixHQUFHRCxtQkFBTyxDQUFDLElBQUQsQ0FBbkM7O0FBQ0EsSUFBTUUsa0JBQWtCLEdBQUdGLG1CQUFPLENBQUMsSUFBRCxDQUFsQzs7QUFFQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLGtCQUFULENBQTZCQyxlQUE3QixFQUE4QztFQUM3RCxJQUFJQyxPQUFPLEdBQUcsRUFBZDs7RUFDQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFSLEVBQVdDLENBQUMsR0FBR0gsZUFBZSxDQUFDSSxNQUFwQyxFQUE0Q0YsQ0FBQyxHQUFHQyxDQUFoRCxFQUFtREQsQ0FBQyxFQUFwRCxFQUF3RDtJQUN0RCxJQUFNRyxJQUFJLEdBQUdMLGVBQWUsQ0FBQ0UsQ0FBRCxDQUFmLENBQW1CSSxrQkFBaEM7O0lBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBUixFQUFXQyxDQUFDLEdBQUdILElBQUksQ0FBQ0QsTUFBekIsRUFBaUNHLENBQUMsR0FBR0MsQ0FBckMsRUFBd0NELENBQUMsRUFBekMsRUFBNkM7TUFDM0MsSUFBTUUsSUFBSSxHQUFHSixJQUFJLENBQUNFLENBQUQsQ0FBSixDQUFRRyxhQUFyQjtNQUNBLElBQUlDLFdBQVcsR0FBR0YsSUFBSSxDQUFDRSxXQUFMLElBQW9CRixJQUFJLENBQUNHLFFBQTNDOztNQUNBLElBQUlELFdBQVcsQ0FBQ0UsT0FBWixDQUFvQixPQUFwQixLQUFnQyxDQUFwQyxFQUF1QztRQUNyQ0YsV0FBVyxHQUFHLE9BQWQ7TUFDRCxDQUZELE1BRU8sSUFBSUEsV0FBVyxDQUFDRSxPQUFaLENBQW9CLE9BQXBCLEtBQWdDLENBQXBDLEVBQXVDO1FBQzVDRixXQUFXLEdBQUcsT0FBZDtNQUNELENBRk0sTUFFQTtRQUNMQSxXQUFXLEdBQUcsTUFBZDtNQUNEOztNQUNELFFBQVFBLFdBQVI7UUFDRSxLQUFLLE9BQUw7VUFDRVYsT0FBTyxDQUFDYSxJQUFSLENBQWEsSUFBSXJCLG1CQUFKLENBQXdCZ0IsSUFBeEIsQ0FBYjtVQUNBOztRQUVGLEtBQUssT0FBTDtVQUNFUixPQUFPLENBQUNhLElBQVIsQ0FBYSxJQUFJbkIsbUJBQUosQ0FBd0JjLElBQXhCLENBQWI7VUFDQTs7UUFFRjtVQUNFUixPQUFPLENBQUNhLElBQVIsQ0FBYSxJQUFJbEIsa0JBQUosQ0FBdUJhLElBQXZCLENBQWI7TUFWSjtJQVlEO0VBQ0Y7O0VBQ0QsT0FBT1IsT0FBUDtBQUNELENBN0JEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9wYXJzZXIvanNvbi1yZXByZXNlbnRhdGlvbi5qcz8xYzg4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgQXVkaW9SZXByZXNlbnRhdGlvbiA9IHJlcXVpcmUoXCIuLi9qc29uL2F1ZGlvLXJlcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgVmlkZW9SZXByZXNlbnRhdGlvbiA9IHJlcXVpcmUoXCIuLi9qc29uL3ZpZGVvLXJlcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgVGV4dFJlcHJlc2VudGF0aW9uID0gcmVxdWlyZShcIi4uL2pzb24vdGV4dC1yZXByZXNlbnRhdGlvblwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBqc29uUmVwcmVzZW50YXRpb24gKHJlcHJlc2VudGF0aW9ucykge1xuICBsZXQgcmVwck9iaiA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHJlcHJlc2VudGF0aW9ucy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBjb25zdCBjb2xzID0gcmVwcmVzZW50YXRpb25zW2ldLnJlcHJlc2VudGF0aW9uQ29sbDtcbiAgICBmb3IgKGxldCBrID0gMCwgbCA9IGNvbHMubGVuZ3RoOyBrIDwgbDsgaysrKSB7XG4gICAgICBjb25zdCBhdHRyID0gY29sc1trXS5hdHRyaWJ1dGVMaXN0O1xuICAgICAgbGV0IGNvbnRlbnRUeXBlID0gYXR0ci5jb250ZW50VHlwZSB8fCBhdHRyLm1pbWVUeXBlO1xuICAgICAgaWYgKGNvbnRlbnRUeXBlLmluZGV4T2YoXCJ2aWRlb1wiKSA+PSAwKSB7XG4gICAgICAgIGNvbnRlbnRUeXBlID0gXCJ2aWRlb1wiO1xuICAgICAgfSBlbHNlIGlmIChjb250ZW50VHlwZS5pbmRleE9mKFwiYXVkaW9cIikgPj0gMCkge1xuICAgICAgICBjb250ZW50VHlwZSA9IFwiYXVkaW9cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnRUeXBlID0gXCJ0ZXh0XCI7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJhdWRpb1wiOlxuICAgICAgICAgIHJlcHJPYmoucHVzaChuZXcgQXVkaW9SZXByZXNlbnRhdGlvbihhdHRyKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgICAgcmVwck9iai5wdXNoKG5ldyBWaWRlb1JlcHJlc2VudGF0aW9uKGF0dHIpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlcHJPYmoucHVzaChuZXcgVGV4dFJlcHJlc2VudGF0aW9uKGF0dHIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcHJPYmo7XG59O1xuIl0sIm5hbWVzIjpbIkF1ZGlvUmVwcmVzZW50YXRpb24iLCJyZXF1aXJlIiwiVmlkZW9SZXByZXNlbnRhdGlvbiIsIlRleHRSZXByZXNlbnRhdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJqc29uUmVwcmVzZW50YXRpb24iLCJyZXByZXNlbnRhdGlvbnMiLCJyZXByT2JqIiwiaSIsImoiLCJsZW5ndGgiLCJjb2xzIiwicmVwcmVzZW50YXRpb25Db2xsIiwiayIsImwiLCJhdHRyIiwiYXR0cmlidXRlTGlzdCIsImNvbnRlbnRUeXBlIiwibWltZVR5cGUiLCJpbmRleE9mIiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1700\n')},2167:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar SnowflakeId_1 = __webpack_require__(9499);\n\nvar ManifestNode = function () {\n  function ManifestNode(node, xml) {\n    this.childCollection = [];\n    this.attributeList = {};\n    this.setCurrentNode(node);\n    this.setChildCollection(node.childNodes);\n    this.buildAttributeList(node, this.attributeList);\n    this.setParentNode(node.parentNode);\n    this.xml = xml;\n    this.id = SnowflakeId_1.SnowflakeId.getUUID();\n  }\n\n  ManifestNode.prototype.setParentNode = function (node) {\n    this.parentNode = node;\n  };\n\n  ManifestNode.prototype.setChildCollection = function (coll) {\n    this.childCollection = coll;\n  };\n\n  ManifestNode.prototype.setCurrentNode = function (node) {\n    this.currentNode = node;\n  };\n\n  ManifestNode.prototype.buildAttributeList = function (node, list) {\n    this.writeAttributesToList(node, list);\n  };\n\n  ManifestNode.prototype.writeAttributesToList = function (node, list) {\n    var attrList = node.attributes;\n\n    for (var attr in attrList) {\n      if (!list[attrList[attr].nodeName]) {\n        list[attrList[attr].nodeName] = attrList[attr].nodeValue;\n      }\n    }\n\n    if (node.parentNode !== null) {\n      this.buildAttributeList(node.parentNode, list);\n    }\n  };\n\n  ManifestNode.prototype.getCurrentNode = function () {\n    return this.currentNode;\n  };\n\n  ManifestNode.prototype.markNodeForDownload = function (value) {\n    var newAtt = this.xml.createAttribute('markForDownload');\n\n    if (!value) {\n      this.currentNode.removeAttribute('markForDownload');\n    } else {\n      newAtt.value = value.toString();\n      this.currentNode.setAttributeNode(newAtt);\n    }\n  };\n\n  ManifestNode.prototype.getAttributeList = function () {\n    return this.attributeList;\n  };\n\n  return ManifestNode;\n}();\n\nexports.ManifestNode = ManifestNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNwRCxPQUFPLEtBQUs1QixhQUFaO0VBQ0QsQ0FGRDs7RUFHQSxPQUFPSixZQUFQO0FBQ0QsQ0FuRHFCLEVBQXRCOztBQW9EQWlDLG9CQUFBLEdBQXVCakMsWUFBdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L3BhcnNlci9tYW5pZmVzdC1ub2RlLmpzPzMxYjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBTbm93Zmxha2VJZF8xID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvc25vd2ZsYWtlLWlkXCIpO1xuY29uc3QgTWFuaWZlc3ROb2RlID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWFuaWZlc3ROb2RlIChub2RlLCB4bWwpIHtcbiAgICB0aGlzLmNoaWxkQ29sbGVjdGlvbiA9IFtdO1xuICAgIHRoaXMuYXR0cmlidXRlTGlzdCA9IHt9O1xuICAgIHRoaXMuc2V0Q3VycmVudE5vZGUobm9kZSk7XG4gICAgdGhpcy5zZXRDaGlsZENvbGxlY3Rpb24obm9kZS5jaGlsZE5vZGVzKTtcbiAgICB0aGlzLmJ1aWxkQXR0cmlidXRlTGlzdChub2RlLCB0aGlzLmF0dHJpYnV0ZUxpc3QpO1xuICAgIHRoaXMuc2V0UGFyZW50Tm9kZShub2RlLnBhcmVudE5vZGUpO1xuICAgIHRoaXMueG1sID0geG1sO1xuICAgIHRoaXMuaWQgPSBTbm93Zmxha2VJZF8xLlNub3dmbGFrZUlkLmdldFVVSUQoKTtcbiAgfVxuXG4gIE1hbmlmZXN0Tm9kZS5wcm90b3R5cGUuc2V0UGFyZW50Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdGhpcy5wYXJlbnROb2RlID0gbm9kZTtcbiAgfTtcbiAgTWFuaWZlc3ROb2RlLnByb3RvdHlwZS5zZXRDaGlsZENvbGxlY3Rpb24gPSBmdW5jdGlvbiAoY29sbCkge1xuICAgIHRoaXMuY2hpbGRDb2xsZWN0aW9uID0gY29sbDtcbiAgfTtcbiAgTWFuaWZlc3ROb2RlLnByb3RvdHlwZS5zZXRDdXJyZW50Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdGhpcy5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gIH07XG4gIE1hbmlmZXN0Tm9kZS5wcm90b3R5cGUuYnVpbGRBdHRyaWJ1dGVMaXN0ID0gZnVuY3Rpb24gKG5vZGUsIGxpc3QpIHtcbiAgICB0aGlzLndyaXRlQXR0cmlidXRlc1RvTGlzdChub2RlLCBsaXN0KTtcbiAgfTtcbiAgTWFuaWZlc3ROb2RlLnByb3RvdHlwZS53cml0ZUF0dHJpYnV0ZXNUb0xpc3QgPSBmdW5jdGlvbiAobm9kZSwgbGlzdCkge1xuICAgIGNvbnN0IGF0dHJMaXN0ID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgIGZvciAobGV0IGF0dHIgaW4gYXR0ckxpc3QpIHtcbiAgICAgIGlmICghbGlzdFthdHRyTGlzdFthdHRyXS5ub2RlTmFtZV0pIHtcbiAgICAgICAgbGlzdFthdHRyTGlzdFthdHRyXS5ub2RlTmFtZV0gPSBhdHRyTGlzdFthdHRyXS5ub2RlVmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYnVpbGRBdHRyaWJ1dGVMaXN0KG5vZGUucGFyZW50Tm9kZSwgbGlzdCk7XG4gICAgfVxuICB9O1xuICBNYW5pZmVzdE5vZGUucHJvdG90eXBlLmdldEN1cnJlbnROb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnROb2RlO1xuICB9O1xuICBNYW5pZmVzdE5vZGUucHJvdG90eXBlLm1hcmtOb2RlRm9yRG93bmxvYWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBjb25zdCBuZXdBdHQgPSB0aGlzLnhtbC5jcmVhdGVBdHRyaWJ1dGUoJ21hcmtGb3JEb3dubG9hZCcpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHRoaXMuY3VycmVudE5vZGUucmVtb3ZlQXR0cmlidXRlKCdtYXJrRm9yRG93bmxvYWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3QXR0LnZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIHRoaXMuY3VycmVudE5vZGUuc2V0QXR0cmlidXRlTm9kZShuZXdBdHQpO1xuICAgIH1cbiAgfTtcbiAgTWFuaWZlc3ROb2RlLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVMaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZUxpc3Q7XG4gIH07XG4gIHJldHVybiBNYW5pZmVzdE5vZGU7XG59KCkpO1xuZXhwb3J0cy5NYW5pZmVzdE5vZGUgPSBNYW5pZmVzdE5vZGU7XG4iXSwibmFtZXMiOlsiU25vd2ZsYWtlSWRfMSIsInJlcXVpcmUiLCJNYW5pZmVzdE5vZGUiLCJub2RlIiwieG1sIiwiY2hpbGRDb2xsZWN0aW9uIiwiYXR0cmlidXRlTGlzdCIsInNldEN1cnJlbnROb2RlIiwic2V0Q2hpbGRDb2xsZWN0aW9uIiwiY2hpbGROb2RlcyIsImJ1aWxkQXR0cmlidXRlTGlzdCIsInNldFBhcmVudE5vZGUiLCJwYXJlbnROb2RlIiwiaWQiLCJTbm93Zmxha2VJZCIsImdldFVVSUQiLCJwcm90b3R5cGUiLCJjb2xsIiwiY3VycmVudE5vZGUiLCJsaXN0Iiwid3JpdGVBdHRyaWJ1dGVzVG9MaXN0IiwiYXR0ckxpc3QiLCJhdHRyaWJ1dGVzIiwiYXR0ciIsIm5vZGVOYW1lIiwibm9kZVZhbHVlIiwiZ2V0Q3VycmVudE5vZGUiLCJtYXJrTm9kZUZvckRvd25sb2FkIiwidmFsdWUiLCJuZXdBdHQiLCJjcmVhdGVBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0b1N0cmluZyIsInNldEF0dHJpYnV0ZU5vZGUiLCJnZXRBdHRyaWJ1dGVMaXN0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2167\n")},9559:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar AdaptationSetNode_1 = __webpack_require__(4872);\n\nvar DOMParser = (__webpack_require__(678).DOMParser);\n\nvar ManifestXML = function () {\n  function ManifestXML() {}\n\n  ManifestXML.prototype.parse = function (str, onSuccess, onError) {\n    var parser;\n\n    if (typeof onSuccess === \"function\" && typeof onError === \"function\") {\n      parser = new DOMParser({\n        errorHandler: {\n          warning: function warning() {},\n          error: onError,\n          fatalError: onError\n        }\n      });\n    } else {\n      parser = new DOMParser();\n    }\n\n    this.adaptationSetColl = [];\n    this.xml = parser.parseFromString(str, \"application/xml\");\n    this.parseAdaptations();\n\n    if (typeof onSuccess === \"function\") {\n      onSuccess();\n    }\n  };\n\n  ManifestXML.prototype.getAdaptationSetNodeName = function () {\n    return 'AdaptationSet';\n  };\n\n  ManifestXML.prototype.getRepresentationNodeName = function () {\n    return 'Representation';\n  };\n\n  ManifestXML.prototype.parseAdaptations = function () {\n    var adaptations = this.xml.getElementsByTagName('AdaptationSet');\n\n    for (var i = 0; i < adaptations.length; i++) {\n      var adaptNode = new AdaptationSetNode_1.AdaptationSetNode(adaptations[i], this.xml);\n      this.adaptationSetColl[i] = adaptNode;\n    }\n  };\n\n  ManifestXML.prototype.getVideoAdaptation = function () {\n    return this.getAdaptations('video');\n  };\n\n  ManifestXML.prototype.getAudioAdaptation = function () {\n    return this.getAdaptations('audio');\n  };\n\n  ManifestXML.prototype.getTextAdaptation = function () {\n    return this.getAdaptations('text');\n  };\n\n  ManifestXML.prototype.getManifestXML = function () {\n    return this.xml;\n  };\n\n  ManifestXML.prototype.getAdaptations = function (which) {\n    var adaptations = this.adaptationSetColl.map(function (item) {\n      return item;\n    }).filter(function (item) {\n      if (item.isMimeType(which) || item.isContentType(which)) {\n        return true;\n      }\n    });\n    return adaptations;\n  };\n\n  ManifestXML.cloneXML = function (xml) {\n    var newDocument = xml.implementation.createDocument(xml.namespaceURI, null, null);\n    var newNode = newDocument.importNode(xml.documentElement, true);\n    newDocument.appendChild(newNode);\n    return newDocument;\n  };\n\n  ManifestXML.prototype.removeNode = function () {\n    var self = this;\n    var representationCollection = this.xml.documentElement.getElementsByTagName(this.getRepresentationNodeName());\n    var adaptationCollection = this.xml.documentElement.getElementsByTagName(this.getAdaptationSetNodeName());\n    var repArray = [];\n    var adaptationArray = [];\n\n    for (var i = 0; i < representationCollection.length; i++) {\n      repArray[i] = representationCollection[i];\n    }\n\n    repArray.forEach(function (item) {\n      var markForDownload = item.attributes.getNamedItem(\"markForDownload\") && item.attributes.getNamedItem(\"markForDownload\").value == 'true' ? true : false;\n\n      if (!markForDownload) {\n        item.parentNode.removeChild(item);\n      }\n\n      item.removeAttribute('markForDownload');\n    }, this);\n\n    for (var _i = 0; _i < adaptationCollection.length; _i++) {\n      adaptationArray[_i] = adaptationCollection[_i];\n    }\n\n    adaptationArray.forEach(function (item) {\n      if (!item.getElementsByTagName(self.getRepresentationNodeName()).length) {\n        item.parentNode.removeChild(item);\n      }\n    });\n  };\n\n  return ManifestXML;\n}();\n\nexports.ManifestXML = ManifestXML;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L3BhcnNlci9tYW5pZmVzdC14bWwuanM/N2UwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IEFkYXB0YXRpb25TZXROb2RlXzEgPSByZXF1aXJlKFwiLi9hZGFwdGF0aW9uLXNldC1ub2RlXCIpO1xuY29uc3QgRE9NUGFyc2VyID0gcmVxdWlyZSgneG1sZG9tJykuRE9NUGFyc2VyO1xuY29uc3QgTWFuaWZlc3RYTUwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNYW5pZmVzdFhNTCAoKSB7XG4gIH1cbiAgTWFuaWZlc3RYTUwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHN0ciwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgbGV0IHBhcnNlcjtcbiAgICBpZiAodHlwZW9mIG9uU3VjY2VzcyA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvbkVycm9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHBhcnNlciA9IG5ldyBET01QYXJzZXIoe1xuICAgICAgICBlcnJvckhhbmRsZXI6IHtcbiAgICAgICAgICB3YXJuaW5nOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgICBlcnJvcjogb25FcnJvciwgZmF0YWxFcnJvcjogb25FcnJvclxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgfVxuICAgIHRoaXMuYWRhcHRhdGlvblNldENvbGwgPSBbXTtcbiAgICB0aGlzLnhtbCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3RyLCBcImFwcGxpY2F0aW9uL3htbFwiKTtcblxuICAgIHRoaXMucGFyc2VBZGFwdGF0aW9ucygpO1xuXG4gICAgaWYgKHR5cGVvZiBvblN1Y2Nlc3MgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgb25TdWNjZXNzKCk7XG4gICAgfVxuICB9O1xuICBNYW5pZmVzdFhNTC5wcm90b3R5cGUuZ2V0QWRhcHRhdGlvblNldE5vZGVOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnQWRhcHRhdGlvblNldCc7XG4gIH07XG4gIE1hbmlmZXN0WE1MLnByb3RvdHlwZS5nZXRSZXByZXNlbnRhdGlvbk5vZGVOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnUmVwcmVzZW50YXRpb24nO1xuICB9O1xuICBNYW5pZmVzdFhNTC5wcm90b3R5cGUucGFyc2VBZGFwdGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBhZGFwdGF0aW9ucyA9IHRoaXMueG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdBZGFwdGF0aW9uU2V0Jyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhZGFwdGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYWRhcHROb2RlID0gbmV3IEFkYXB0YXRpb25TZXROb2RlXzEuQWRhcHRhdGlvblNldE5vZGUoYWRhcHRhdGlvbnNbaV0sIHRoaXMueG1sKTtcbiAgICAgIHRoaXMuYWRhcHRhdGlvblNldENvbGxbaV0gPSBhZGFwdE5vZGU7XG4gICAgfVxuICB9O1xuICBNYW5pZmVzdFhNTC5wcm90b3R5cGUuZ2V0VmlkZW9BZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldEFkYXB0YXRpb25zKCd2aWRlbycpO1xuICB9O1xuICBNYW5pZmVzdFhNTC5wcm90b3R5cGUuZ2V0QXVkaW9BZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldEFkYXB0YXRpb25zKCdhdWRpbycpO1xuICB9O1xuICBNYW5pZmVzdFhNTC5wcm90b3R5cGUuZ2V0VGV4dEFkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QWRhcHRhdGlvbnMoJ3RleHQnKTtcbiAgfTtcbiAgTWFuaWZlc3RYTUwucHJvdG90eXBlLmdldE1hbmlmZXN0WE1MID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnhtbDtcbiAgfTtcbiAgTWFuaWZlc3RYTUwucHJvdG90eXBlLmdldEFkYXB0YXRpb25zID0gZnVuY3Rpb24gKHdoaWNoKSB7XG4gICAgY29uc3QgYWRhcHRhdGlvbnMgPSB0aGlzLmFkYXB0YXRpb25TZXRDb2xsLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBpZiAoaXRlbS5pc01pbWVUeXBlKHdoaWNoKSB8fCBpdGVtLmlzQ29udGVudFR5cGUod2hpY2gpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhZGFwdGF0aW9ucztcbiAgfTtcbiAgTWFuaWZlc3RYTUwuY2xvbmVYTUwgPSBmdW5jdGlvbiAoeG1sKSB7XG4gICAgY29uc3QgbmV3RG9jdW1lbnQgPSB4bWwuaW1wbGVtZW50YXRpb24uY3JlYXRlRG9jdW1lbnQoeG1sLm5hbWVzcGFjZVVSSSwgbnVsbCwgbnVsbCk7XG4gICAgY29uc3QgbmV3Tm9kZSA9IG5ld0RvY3VtZW50LmltcG9ydE5vZGUoeG1sLmRvY3VtZW50RWxlbWVudCwgdHJ1ZSk7XG4gICAgbmV3RG9jdW1lbnQuYXBwZW5kQ2hpbGQobmV3Tm9kZSk7XG4gICAgcmV0dXJuIG5ld0RvY3VtZW50O1xuICB9O1xuICBNYW5pZmVzdFhNTC5wcm90b3R5cGUucmVtb3ZlTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgcmVwcmVzZW50YXRpb25Db2xsZWN0aW9uID0gdGhpcy54bWwuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRoaXMuZ2V0UmVwcmVzZW50YXRpb25Ob2RlTmFtZSgpKTtcbiAgICBsZXQgYWRhcHRhdGlvbkNvbGxlY3Rpb24gPSB0aGlzLnhtbC5kb2N1bWVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGhpcy5nZXRBZGFwdGF0aW9uU2V0Tm9kZU5hbWUoKSk7XG4gICAgbGV0IHJlcEFycmF5ID0gW107XG4gICAgbGV0IGFkYXB0YXRpb25BcnJheSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVwcmVzZW50YXRpb25Db2xsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXBBcnJheVtpXSA9IHJlcHJlc2VudGF0aW9uQ29sbGVjdGlvbltpXTtcbiAgICB9XG4gICAgcmVwQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgY29uc3QgbWFya0ZvckRvd25sb2FkID0gKGl0ZW0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJtYXJrRm9yRG93bmxvYWRcIikgJiZcbiAgICAgICAgICBpdGVtLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwibWFya0ZvckRvd25sb2FkXCIpLnZhbHVlID09ICd0cnVlJylcbiAgICAgICAgICA/IHRydWUgOiBmYWxzZTtcbiAgICAgIGlmICghbWFya0ZvckRvd25sb2FkKSB7XG4gICAgICAgIGl0ZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpdGVtKTtcbiAgICAgIH1cbiAgICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKCdtYXJrRm9yRG93bmxvYWQnKTtcbiAgICB9LCB0aGlzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkYXB0YXRpb25Db2xsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhZGFwdGF0aW9uQXJyYXlbaV0gPSBhZGFwdGF0aW9uQ29sbGVjdGlvbltpXTtcbiAgICB9XG4gICAgYWRhcHRhdGlvbkFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIGlmICghaXRlbS5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxmLmdldFJlcHJlc2VudGF0aW9uTm9kZU5hbWUoKSkubGVuZ3RoKSB7XG4gICAgICAgIGl0ZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpdGVtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIE1hbmlmZXN0WE1MO1xufSgpKTtcbmV4cG9ydHMuTWFuaWZlc3RYTUwgPSBNYW5pZmVzdFhNTDtcbiJdLCJuYW1lcyI6WyJBZGFwdGF0aW9uU2V0Tm9kZV8xIiwicmVxdWlyZSIsIkRPTVBhcnNlciIsIk1hbmlmZXN0WE1MIiwicHJvdG90eXBlIiwicGFyc2UiLCJzdHIiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwicGFyc2VyIiwiZXJyb3JIYW5kbGVyIiwid2FybmluZyIsImVycm9yIiwiZmF0YWxFcnJvciIsImFkYXB0YXRpb25TZXRDb2xsIiwieG1sIiwicGFyc2VGcm9tU3RyaW5nIiwicGFyc2VBZGFwdGF0aW9ucyIsImdldEFkYXB0YXRpb25TZXROb2RlTmFtZSIsImdldFJlcHJlc2VudGF0aW9uTm9kZU5hbWUiLCJhZGFwdGF0aW9ucyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaSIsImxlbmd0aCIsImFkYXB0Tm9kZSIsIkFkYXB0YXRpb25TZXROb2RlIiwiZ2V0VmlkZW9BZGFwdGF0aW9uIiwiZ2V0QWRhcHRhdGlvbnMiLCJnZXRBdWRpb0FkYXB0YXRpb24iLCJnZXRUZXh0QWRhcHRhdGlvbiIsImdldE1hbmlmZXN0WE1MIiwid2hpY2giLCJtYXAiLCJpdGVtIiwiZmlsdGVyIiwiaXNNaW1lVHlwZSIsImlzQ29udGVudFR5cGUiLCJjbG9uZVhNTCIsIm5ld0RvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVEb2N1bWVudCIsIm5hbWVzcGFjZVVSSSIsIm5ld05vZGUiLCJpbXBvcnROb2RlIiwiZG9jdW1lbnRFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVOb2RlIiwic2VsZiIsInJlcHJlc2VudGF0aW9uQ29sbGVjdGlvbiIsImFkYXB0YXRpb25Db2xsZWN0aW9uIiwicmVwQXJyYXkiLCJhZGFwdGF0aW9uQXJyYXkiLCJmb3JFYWNoIiwibWFya0ZvckRvd25sb2FkIiwiYXR0cmlidXRlcyIsImdldE5hbWVkSXRlbSIsInZhbHVlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9559\n")},9786:(__unused_webpack_module,exports)=>{"use strict";eval("\n\nvar MediaUrl = function () {\n  function MediaUrl(baseURL, mediaFile, mimeType, url_domain) {\n    if (url_domain === void 0) {\n      url_domain = '';\n    }\n\n    this.baseURL = '';\n\n    if (baseURL.startsWith('http') === false) {\n      this.baseURL = baseURL;\n    }\n\n    this.mediaFile = mediaFile.indexOf('/') !== -1 ? this.truncateMediaFilePath(mediaFile) : mediaFile;\n    this.url_domain = url_domain;\n    this.mimeType = mimeType;\n  }\n\n  MediaUrl.prototype.truncateMediaFilePath = function (mediaFile) {\n    var startIndex = mediaFile.lastIndexOf('/');\n    var front = mediaFile.substring(0, startIndex);\n    var end = mediaFile.substring(startIndex + 1, mediaFile.length);\n    this.baseURL += front;\n    return end;\n  };\n\n  MediaUrl.prototype.getFileAddress = function () {\n    return this.baseURL + this.mediaFile;\n  };\n\n  return MediaUrl;\n}();\n\nexports.MediaUrl = MediaUrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTc4Ni5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxRQUFRLEdBQUksWUFBWTtFQUM1QixTQUFTQSxRQUFULENBQW1CQyxPQUFuQixFQUE0QkMsU0FBNUIsRUFBdUNDLFFBQXZDLEVBQWlEQyxVQUFqRCxFQUE2RDtJQUMzRCxJQUFJQSxVQUFVLEtBQUssS0FBSyxDQUF4QixFQUEyQjtNQUN6QkEsVUFBVSxHQUFHLEVBQWI7SUFDRDs7SUFDRCxLQUFLSCxPQUFMLEdBQWUsRUFBZjs7SUFDQSxJQUFJQSxPQUFPLENBQUNJLFVBQVIsQ0FBbUIsTUFBbkIsTUFBK0IsS0FBbkMsRUFBMEM7TUFDeEMsS0FBS0osT0FBTCxHQUFlQSxPQUFmO0lBQ0Q7O0lBQ0QsS0FBS0MsU0FBTCxHQUFrQkEsU0FBUyxDQUFDSSxPQUFWLENBQWtCLEdBQWxCLE1BQTJCLENBQUMsQ0FBN0IsR0FBa0MsS0FBS0MscUJBQUwsQ0FBMkJMLFNBQTNCLENBQWxDLEdBQTBFQSxTQUEzRjtJQUNBLEtBQUtFLFVBQUwsR0FBa0JBLFVBQWxCO0lBQ0EsS0FBS0QsUUFBTCxHQUFnQkEsUUFBaEI7RUFDRDs7RUFFREgsUUFBUSxDQUFDUSxTQUFULENBQW1CRCxxQkFBbkIsR0FBMkMsVUFBVUwsU0FBVixFQUFxQjtJQUM5RCxJQUFNTyxVQUFVLEdBQUdQLFNBQVMsQ0FBQ1EsV0FBVixDQUFzQixHQUF0QixDQUFuQjtJQUNBLElBQU1DLEtBQUssR0FBR1QsU0FBUyxDQUFDVSxTQUFWLENBQW9CLENBQXBCLEVBQXVCSCxVQUF2QixDQUFkO0lBQ0EsSUFBTUksR0FBRyxHQUFHWCxTQUFTLENBQUNVLFNBQVYsQ0FBb0JILFVBQVUsR0FBRyxDQUFqQyxFQUFvQ1AsU0FBUyxDQUFDWSxNQUE5QyxDQUFaO0lBQ0EsS0FBS2IsT0FBTCxJQUFnQlUsS0FBaEI7SUFDQSxPQUFPRSxHQUFQO0VBQ0QsQ0FORDs7RUFPQWIsUUFBUSxDQUFDUSxTQUFULENBQW1CTyxjQUFuQixHQUFvQyxZQUFZO0lBQzlDLE9BQU8sS0FBS2QsT0FBTCxHQUFlLEtBQUtDLFNBQTNCO0VBQ0QsQ0FGRDs7RUFHQSxPQUFPRixRQUFQO0FBQ0QsQ0F6QmlCLEVBQWxCOztBQTBCQWdCLGdCQUFBLEdBQW1CaEIsUUFBbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L3BhcnNlci9tZWRpYS11cmwuanM/MTE3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IE1lZGlhVXJsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWVkaWFVcmwgKGJhc2VVUkwsIG1lZGlhRmlsZSwgbWltZVR5cGUsIHVybF9kb21haW4pIHtcbiAgICBpZiAodXJsX2RvbWFpbiA9PT0gdm9pZCAwKSB7XG4gICAgICB1cmxfZG9tYWluID0gJyc7XG4gICAgfVxuICAgIHRoaXMuYmFzZVVSTCA9ICcnO1xuICAgIGlmIChiYXNlVVJMLnN0YXJ0c1dpdGgoJ2h0dHAnKSA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgfVxuICAgIHRoaXMubWVkaWFGaWxlID0gKG1lZGlhRmlsZS5pbmRleE9mKCcvJykgIT09IC0xKSA/IHRoaXMudHJ1bmNhdGVNZWRpYUZpbGVQYXRoKG1lZGlhRmlsZSkgOiBtZWRpYUZpbGU7XG4gICAgdGhpcy51cmxfZG9tYWluID0gdXJsX2RvbWFpbjtcbiAgICB0aGlzLm1pbWVUeXBlID0gbWltZVR5cGU7XG4gIH1cblxuICBNZWRpYVVybC5wcm90b3R5cGUudHJ1bmNhdGVNZWRpYUZpbGVQYXRoID0gZnVuY3Rpb24gKG1lZGlhRmlsZSkge1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBtZWRpYUZpbGUubGFzdEluZGV4T2YoJy8nKTtcbiAgICBjb25zdCBmcm9udCA9IG1lZGlhRmlsZS5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCk7XG4gICAgY29uc3QgZW5kID0gbWVkaWFGaWxlLnN1YnN0cmluZyhzdGFydEluZGV4ICsgMSwgbWVkaWFGaWxlLmxlbmd0aCk7XG4gICAgdGhpcy5iYXNlVVJMICs9IGZyb250O1xuICAgIHJldHVybiBlbmQ7XG4gIH07XG4gIE1lZGlhVXJsLnByb3RvdHlwZS5nZXRGaWxlQWRkcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlVVJMICsgdGhpcy5tZWRpYUZpbGU7XG4gIH07XG4gIHJldHVybiBNZWRpYVVybDtcbn0oKSk7XG5leHBvcnRzLk1lZGlhVXJsID0gTWVkaWFVcmw7XG4iXSwibmFtZXMiOlsiTWVkaWFVcmwiLCJiYXNlVVJMIiwibWVkaWFGaWxlIiwibWltZVR5cGUiLCJ1cmxfZG9tYWluIiwic3RhcnRzV2l0aCIsImluZGV4T2YiLCJ0cnVuY2F0ZU1lZGlhRmlsZVBhdGgiLCJwcm90b3R5cGUiLCJzdGFydEluZGV4IiwibGFzdEluZGV4T2YiLCJmcm9udCIsInN1YnN0cmluZyIsImVuZCIsImxlbmd0aCIsImdldEZpbGVBZGRyZXNzIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9786\n")},3515:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n\nvar MediaUrl_1 = __webpack_require__(9786);\n\nvar SegmentInformation_1 = __webpack_require__(4749);\n\nvar FragmentInformation = function (_super) {\n  __extends(FragmentInformation, _super);\n\n  function FragmentInformation(presentationDuration, bandwidth, baseUrl, representationID, mimeType, segmentTemplate) {\n    _super.call(this, presentationDuration, bandwidth, baseUrl, representationID, mimeType);\n\n    if (segmentTemplate) {\n      this.segmentTemplate = segmentTemplate;\n      this.mediaTemplate = this.segmentTemplate.media;\n      this.mediaTemplate = this.replace$Bandwidth$(this.mediaTemplate, this.bandwidth);\n    }\n\n    if (this.segmentTemplate.media) {\n      this.timelineItemList = this.segmentTemplate.SegmentTimeline;\n    }\n\n    this.createFragmentUrlsFromTimeline(this.timelineItemList);\n  }\n\n  FragmentInformation.prototype.createFragmentUrlsFromTimeline = function (segmentNodes) {\n    for (var i = 0; i < segmentNodes.S.length; i++) {\n      var fragment = this.mediaTemplate;\n      fragment = this.replace$Time$(fragment, segmentNodes.S[i].t);\n      this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment, this.mimeType));\n    }\n  };\n\n  return FragmentInformation;\n}(SegmentInformation_1.SegmentInformation);\n\nexports.FragmentInformation = FragmentInformation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUxNS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxTQUFTLEdBQUksUUFBUSxLQUFLQSxTQUFkLElBQTRCLFVBQVVDLENBQVYsRUFBYUMsQ0FBYixFQUFnQjtFQUN4RCxLQUFLLElBQUlDLENBQVQsSUFBY0QsQ0FBZCxFQUFpQjtJQUNmLElBQUlBLENBQUMsQ0FBQ0UsY0FBRixDQUFpQkQsQ0FBakIsQ0FBSixFQUF5QjtNQUN2QkYsQ0FBQyxDQUFDRSxDQUFELENBQUQsR0FBT0QsQ0FBQyxDQUFDQyxDQUFELENBQVI7SUFDRDtFQUNGOztFQUNELFNBQVNFLEVBQVQsR0FBZTtJQUNiLEtBQUtDLFdBQUwsR0FBbUJMLENBQW5CO0VBQ0Q7O0VBRURBLENBQUMsQ0FBQ00sU0FBRixHQUFjTCxDQUFDLEtBQUssSUFBTixHQUFhTSxNQUFNLENBQUNDLE1BQVAsQ0FBY1AsQ0FBZCxDQUFiLElBQWlDRyxFQUFFLENBQUNFLFNBQUgsR0FBZUwsQ0FBQyxDQUFDSyxTQUFqQixFQUE0QixJQUFJRixFQUFKLEVBQTdELENBQWQ7QUFDRCxDQVhMOztBQVlBLElBQU1LLFVBQVUsR0FBR0MsbUJBQU8sQ0FBQyxJQUFELENBQTFCOztBQUNBLElBQU1DLG9CQUFvQixHQUFHRCxtQkFBTyxDQUFDLElBQUQsQ0FBcEM7O0FBQ0EsSUFBTUUsbUJBQW1CLEdBQUksVUFBVUMsTUFBVixFQUFrQjtFQUM3Q2QsU0FBUyxDQUFDYSxtQkFBRCxFQUFzQkMsTUFBdEIsQ0FBVDs7RUFDQSxTQUFTRCxtQkFBVCxDQUE4QkUsb0JBQTlCLEVBQW9EQyxTQUFwRCxFQUErREMsT0FBL0QsRUFBd0VDLGdCQUF4RSxFQUEwRkMsUUFBMUYsRUFBb0dDLGVBQXBHLEVBQXFIO0lBQ25ITixNQUFNLENBQUNPLElBQVAsQ0FBWSxJQUFaLEVBQWtCTixvQkFBbEIsRUFBd0NDLFNBQXhDLEVBQW1EQyxPQUFuRCxFQUE0REMsZ0JBQTVELEVBQThFQyxRQUE5RTs7SUFDQSxJQUFJQyxlQUFKLEVBQXFCO01BQ25CLEtBQUtBLGVBQUwsR0FBdUJBLGVBQXZCO01BQ0EsS0FBS0UsYUFBTCxHQUFxQixLQUFLRixlQUFMLENBQXFCRyxLQUExQztNQUNBLEtBQUtELGFBQUwsR0FBcUIsS0FBS0Usa0JBQUwsQ0FBd0IsS0FBS0YsYUFBN0IsRUFBNEMsS0FBS04sU0FBakQsQ0FBckI7SUFDRDs7SUFDRCxJQUFJLEtBQUtJLGVBQUwsQ0FBcUJHLEtBQXpCLEVBQWdDO01BQzlCLEtBQUtFLGdCQUFMLEdBQXdCLEtBQUtMLGVBQUwsQ0FBcUJNLGVBQTdDO0lBQ0Q7O0lBQ0QsS0FBS0MsOEJBQUwsQ0FBb0MsS0FBS0YsZ0JBQXpDO0VBQ0Q7O0VBRURaLG1CQUFtQixDQUFDTixTQUFwQixDQUE4Qm9CLDhCQUE5QixHQUErRCxVQUFVQyxZQUFWLEVBQXdCO0lBQ3JGLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0QsWUFBWSxDQUFDRSxDQUFiLENBQWVDLE1BQW5DLEVBQTJDRixDQUFDLEVBQTVDLEVBQWdEO01BQzlDLElBQUlHLFFBQVEsR0FBRyxLQUFLVixhQUFwQjtNQUNBVSxRQUFRLEdBQUcsS0FBS0MsYUFBTCxDQUFtQkQsUUFBbkIsRUFBNkJKLFlBQVksQ0FBQ0UsQ0FBYixDQUFlRCxDQUFmLEVBQWtCSyxDQUEvQyxDQUFYO01BRUEsS0FBS0MsU0FBTCxDQUFlQyxJQUFmLENBQW9CLElBQUkxQixVQUFVLENBQUMyQixRQUFmLENBQXdCLEtBQUtwQixPQUE3QixFQUFzQ2UsUUFBdEMsRUFBZ0QsS0FBS2IsUUFBckQsQ0FBcEI7SUFDRDtFQUNGLENBUEQ7O0VBUUEsT0FBT04sbUJBQVA7QUFDRCxDQXhCNEIsQ0F3QjNCRCxvQkFBb0IsQ0FBQzBCLGtCQXhCTSxDQUE3Qjs7QUF5QkFDLDJCQUFBLEdBQThCMUIsbUJBQTlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9wYXJzZXIvbXNzL2ZyYWdtZW50LWluZm9ybWF0aW9uLmpzP2I4MTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgIGZvciAobGV0IHAgaW4gYikge1xuICAgICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBfXyAoKSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICAgICAgfVxuXG4gICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbmNvbnN0IE1lZGlhVXJsXzEgPSByZXF1aXJlKFwiLi4vbWVkaWEtdXJsXCIpO1xuY29uc3QgU2VnbWVudEluZm9ybWF0aW9uXzEgPSByZXF1aXJlKFwiLi4vc2VnbWVudC1pbmZvcm1hdGlvblwiKTtcbmNvbnN0IEZyYWdtZW50SW5mb3JtYXRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoRnJhZ21lbnRJbmZvcm1hdGlvbiwgX3N1cGVyKTtcbiAgZnVuY3Rpb24gRnJhZ21lbnRJbmZvcm1hdGlvbiAocHJlc2VudGF0aW9uRHVyYXRpb24sIGJhbmR3aWR0aCwgYmFzZVVybCwgcmVwcmVzZW50YXRpb25JRCwgbWltZVR5cGUsIHNlZ21lbnRUZW1wbGF0ZSkge1xuICAgIF9zdXBlci5jYWxsKHRoaXMsIHByZXNlbnRhdGlvbkR1cmF0aW9uLCBiYW5kd2lkdGgsIGJhc2VVcmwsIHJlcHJlc2VudGF0aW9uSUQsIG1pbWVUeXBlKTtcbiAgICBpZiAoc2VnbWVudFRlbXBsYXRlKSB7XG4gICAgICB0aGlzLnNlZ21lbnRUZW1wbGF0ZSA9IHNlZ21lbnRUZW1wbGF0ZTtcbiAgICAgIHRoaXMubWVkaWFUZW1wbGF0ZSA9IHRoaXMuc2VnbWVudFRlbXBsYXRlLm1lZGlhO1xuICAgICAgdGhpcy5tZWRpYVRlbXBsYXRlID0gdGhpcy5yZXBsYWNlJEJhbmR3aWR0aCQodGhpcy5tZWRpYVRlbXBsYXRlLCB0aGlzLmJhbmR3aWR0aCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnNlZ21lbnRUZW1wbGF0ZS5tZWRpYSkge1xuICAgICAgdGhpcy50aW1lbGluZUl0ZW1MaXN0ID0gdGhpcy5zZWdtZW50VGVtcGxhdGUuU2VnbWVudFRpbWVsaW5lO1xuICAgIH1cbiAgICB0aGlzLmNyZWF0ZUZyYWdtZW50VXJsc0Zyb21UaW1lbGluZSh0aGlzLnRpbWVsaW5lSXRlbUxpc3QpO1xuICB9XG5cbiAgRnJhZ21lbnRJbmZvcm1hdGlvbi5wcm90b3R5cGUuY3JlYXRlRnJhZ21lbnRVcmxzRnJvbVRpbWVsaW5lID0gZnVuY3Rpb24gKHNlZ21lbnROb2Rlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudE5vZGVzLlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBmcmFnbWVudCA9IHRoaXMubWVkaWFUZW1wbGF0ZTtcbiAgICAgIGZyYWdtZW50ID0gdGhpcy5yZXBsYWNlJFRpbWUkKGZyYWdtZW50LCBzZWdtZW50Tm9kZXMuU1tpXS50KTtcblxuICAgICAgdGhpcy5tZWRpYVVybHMucHVzaChuZXcgTWVkaWFVcmxfMS5NZWRpYVVybCh0aGlzLmJhc2VVcmwsIGZyYWdtZW50LCB0aGlzLm1pbWVUeXBlKSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gRnJhZ21lbnRJbmZvcm1hdGlvbjtcbn0oU2VnbWVudEluZm9ybWF0aW9uXzEuU2VnbWVudEluZm9ybWF0aW9uKSk7XG5leHBvcnRzLkZyYWdtZW50SW5mb3JtYXRpb24gPSBGcmFnbWVudEluZm9ybWF0aW9uOyJdLCJuYW1lcyI6WyJfX2V4dGVuZHMiLCJkIiwiYiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJNZWRpYVVybF8xIiwicmVxdWlyZSIsIlNlZ21lbnRJbmZvcm1hdGlvbl8xIiwiRnJhZ21lbnRJbmZvcm1hdGlvbiIsIl9zdXBlciIsInByZXNlbnRhdGlvbkR1cmF0aW9uIiwiYmFuZHdpZHRoIiwiYmFzZVVybCIsInJlcHJlc2VudGF0aW9uSUQiLCJtaW1lVHlwZSIsInNlZ21lbnRUZW1wbGF0ZSIsImNhbGwiLCJtZWRpYVRlbXBsYXRlIiwibWVkaWEiLCJyZXBsYWNlJEJhbmR3aWR0aCQiLCJ0aW1lbGluZUl0ZW1MaXN0IiwiU2VnbWVudFRpbWVsaW5lIiwiY3JlYXRlRnJhZ21lbnRVcmxzRnJvbVRpbWVsaW5lIiwic2VnbWVudE5vZGVzIiwiaSIsIlMiLCJsZW5ndGgiLCJmcmFnbWVudCIsInJlcGxhY2UkVGltZSQiLCJ0IiwibWVkaWFVcmxzIiwicHVzaCIsIk1lZGlhVXJsIiwiU2VnbWVudEluZm9ybWF0aW9uIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3515\n")},4624:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar ManifestXML_1 = __webpack_require__(9559);\n\nvar StreamIndexNode_1 = __webpack_require__(3605);\n\nManifestXML_1.ManifestXML.prototype.getManifestType = function (xml) {\n  return xml.getElementsByTagName('SmoothStreamingMedia').length !== 0 ? 'MSS' : 'DASH';\n};\n\nManifestXML_1.ManifestXML.prototype.getAdaptationSetNodeName = function () {\n  return this.manifestType === 'MSS' ? 'StreamIndex' : 'AdaptationSet';\n};\n\nManifestXML_1.ManifestXML.prototype.getRepresentationNodeName = function () {\n  return this.manifestType === 'MSS' ? 'QualityLevel' : 'Representation';\n};\n\nManifestXML_1.ManifestXML.prototype.parseStreams = function () {\n  var streams = this.xml.getElementsByTagName('StreamIndex');\n\n  for (var i = 0; i < streams.length; i++) {\n    var streamNode = new StreamIndexNode_1.StreamIndexNode(streams[i], this.xml);\n    this.adaptationSetColl[i] = streamNode;\n  }\n};\n\nManifestXML_1.ManifestXML.prototype._parseAdaptations = ManifestXML_1.ManifestXML.prototype.parseAdaptations;\n\nManifestXML_1.ManifestXML.prototype.parseAdaptations = function () {\n  // Manifest type detection\n  this.manifestType = this.getManifestType(this.xml);\n\n  if (this.manifestType === 'MSS') {\n    return this.parseStreams();\n  } else {\n    return this._parseAdaptations();\n  }\n};\n\nexports.ManifestXML = ManifestXML_1.ManifestXML;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYyNC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxhQUFhLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUE3Qjs7QUFDQSxJQUFNQyxpQkFBaUIsR0FBR0QsbUJBQU8sQ0FBQyxJQUFELENBQWpDOztBQUdBRCxhQUFhLENBQUNHLFdBQWQsQ0FBMEJDLFNBQTFCLENBQW9DQyxlQUFwQyxHQUFzRCxVQUFVQyxHQUFWLEVBQWU7RUFDbkUsT0FBT0EsR0FBRyxDQUFDQyxvQkFBSixDQUF5QixzQkFBekIsRUFBaURDLE1BQWpELEtBQTRELENBQTVELEdBQWdFLEtBQWhFLEdBQXdFLE1BQS9FO0FBQ0QsQ0FGRDs7QUFJQVIsYUFBYSxDQUFDRyxXQUFkLENBQTBCQyxTQUExQixDQUFvQ0ssd0JBQXBDLEdBQStELFlBQVk7RUFDekUsT0FBUSxLQUFLQyxZQUFMLEtBQXNCLEtBQXZCLEdBQWdDLGFBQWhDLEdBQWdELGVBQXZEO0FBQ0QsQ0FGRDs7QUFHQVYsYUFBYSxDQUFDRyxXQUFkLENBQTBCQyxTQUExQixDQUFvQ08seUJBQXBDLEdBQWdFLFlBQVk7RUFDMUUsT0FBUSxLQUFLRCxZQUFMLEtBQXNCLEtBQXZCLEdBQWdDLGNBQWhDLEdBQWlELGdCQUF4RDtBQUNELENBRkQ7O0FBR0FWLGFBQWEsQ0FBQ0csV0FBZCxDQUEwQkMsU0FBMUIsQ0FBb0NRLFlBQXBDLEdBQW1ELFlBQVk7RUFDN0QsSUFBTUMsT0FBTyxHQUFHLEtBQUtQLEdBQUwsQ0FBU0Msb0JBQVQsQ0FBOEIsYUFBOUIsQ0FBaEI7O0VBQ0EsS0FBSyxJQUFJTyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHRCxPQUFPLENBQUNMLE1BQTVCLEVBQW9DTSxDQUFDLEVBQXJDLEVBQXlDO0lBQ3ZDLElBQU1DLFVBQVUsR0FBRyxJQUFJYixpQkFBaUIsQ0FBQ2MsZUFBdEIsQ0FBc0NILE9BQU8sQ0FBQ0MsQ0FBRCxDQUE3QyxFQUFrRCxLQUFLUixHQUF2RCxDQUFuQjtJQUNBLEtBQUtXLGlCQUFMLENBQXVCSCxDQUF2QixJQUE0QkMsVUFBNUI7RUFDRDtBQUNGLENBTkQ7O0FBT0FmLGFBQWEsQ0FBQ0csV0FBZCxDQUEwQkMsU0FBMUIsQ0FBb0NjLGlCQUFwQyxHQUF3RGxCLGFBQWEsQ0FBQ0csV0FBZCxDQUEwQkMsU0FBMUIsQ0FBb0NlLGdCQUE1Rjs7QUFDQW5CLGFBQWEsQ0FBQ0csV0FBZCxDQUEwQkMsU0FBMUIsQ0FBb0NlLGdCQUFwQyxHQUF1RCxZQUFZO0VBQ2pFO0VBQ0EsS0FBS1QsWUFBTCxHQUFvQixLQUFLTCxlQUFMLENBQXFCLEtBQUtDLEdBQTFCLENBQXBCOztFQUVBLElBQUksS0FBS0ksWUFBTCxLQUFzQixLQUExQixFQUFpQztJQUMvQixPQUFPLEtBQUtFLFlBQUwsRUFBUDtFQUNELENBRkQsTUFFTztJQUNMLE9BQU8sS0FBS00saUJBQUwsRUFBUDtFQUNEO0FBQ0YsQ0FURDs7QUFXQUUsbUJBQUEsR0FBc0JwQixhQUFhLENBQUNHLFdBQXBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9wYXJzZXIvbXNzL21hbmlmZXN0LXhtbC5qcz82NWQwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgTWFuaWZlc3RYTUxfMSA9IHJlcXVpcmUoJy4uL21hbmlmZXN0LXhtbCcpO1xuY29uc3QgU3RyZWFtSW5kZXhOb2RlXzEgPSByZXF1aXJlKCcuL3N0cmVhbUluZGV4LW5vZGUnKTtcblxuXG5NYW5pZmVzdFhNTF8xLk1hbmlmZXN0WE1MLnByb3RvdHlwZS5nZXRNYW5pZmVzdFR5cGUgPSBmdW5jdGlvbiAoeG1sKSB7XG4gIHJldHVybiB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1Ntb290aFN0cmVhbWluZ01lZGlhJykubGVuZ3RoICE9PSAwID8gJ01TUycgOiAnREFTSCc7XG59O1xuXG5NYW5pZmVzdFhNTF8xLk1hbmlmZXN0WE1MLnByb3RvdHlwZS5nZXRBZGFwdGF0aW9uU2V0Tm9kZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAodGhpcy5tYW5pZmVzdFR5cGUgPT09ICdNU1MnKSA/ICdTdHJlYW1JbmRleCcgOiAnQWRhcHRhdGlvblNldCc7XG59O1xuTWFuaWZlc3RYTUxfMS5NYW5pZmVzdFhNTC5wcm90b3R5cGUuZ2V0UmVwcmVzZW50YXRpb25Ob2RlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICh0aGlzLm1hbmlmZXN0VHlwZSA9PT0gJ01TUycpID8gJ1F1YWxpdHlMZXZlbCcgOiAnUmVwcmVzZW50YXRpb24nO1xufTtcbk1hbmlmZXN0WE1MXzEuTWFuaWZlc3RYTUwucHJvdG90eXBlLnBhcnNlU3RyZWFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3Qgc3RyZWFtcyA9IHRoaXMueG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdTdHJlYW1JbmRleCcpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmVhbXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdHJlYW1Ob2RlID0gbmV3IFN0cmVhbUluZGV4Tm9kZV8xLlN0cmVhbUluZGV4Tm9kZShzdHJlYW1zW2ldLCB0aGlzLnhtbCk7XG4gICAgdGhpcy5hZGFwdGF0aW9uU2V0Q29sbFtpXSA9IHN0cmVhbU5vZGU7XG4gIH1cbn07XG5NYW5pZmVzdFhNTF8xLk1hbmlmZXN0WE1MLnByb3RvdHlwZS5fcGFyc2VBZGFwdGF0aW9ucyA9IE1hbmlmZXN0WE1MXzEuTWFuaWZlc3RYTUwucHJvdG90eXBlLnBhcnNlQWRhcHRhdGlvbnM7XG5NYW5pZmVzdFhNTF8xLk1hbmlmZXN0WE1MLnByb3RvdHlwZS5wYXJzZUFkYXB0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAvLyBNYW5pZmVzdCB0eXBlIGRldGVjdGlvblxuICB0aGlzLm1hbmlmZXN0VHlwZSA9IHRoaXMuZ2V0TWFuaWZlc3RUeXBlKHRoaXMueG1sKTtcblxuICBpZiAodGhpcy5tYW5pZmVzdFR5cGUgPT09ICdNU1MnKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2VTdHJlYW1zKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlQWRhcHRhdGlvbnMoKTtcbiAgfVxufTtcblxuZXhwb3J0cy5NYW5pZmVzdFhNTCA9IE1hbmlmZXN0WE1MXzEuTWFuaWZlc3RYTUw7XG4iXSwibmFtZXMiOlsiTWFuaWZlc3RYTUxfMSIsInJlcXVpcmUiLCJTdHJlYW1JbmRleE5vZGVfMSIsIk1hbmlmZXN0WE1MIiwicHJvdG90eXBlIiwiZ2V0TWFuaWZlc3RUeXBlIiwieG1sIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJnZXRBZGFwdGF0aW9uU2V0Tm9kZU5hbWUiLCJtYW5pZmVzdFR5cGUiLCJnZXRSZXByZXNlbnRhdGlvbk5vZGVOYW1lIiwicGFyc2VTdHJlYW1zIiwic3RyZWFtcyIsImkiLCJzdHJlYW1Ob2RlIiwiU3RyZWFtSW5kZXhOb2RlIiwiYWRhcHRhdGlvblNldENvbGwiLCJfcGFyc2VBZGFwdGF0aW9ucyIsInBhcnNlQWRhcHRhdGlvbnMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4624\n")},5968:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n\nvar ManifestNode_1 = __webpack_require__(2167);\n\nvar IsoDurationParser_1 = __webpack_require__(6052);\n\nvar FragmentInformation_1 = __webpack_require__(3515);\n\nvar TIME_SCALE_100_NANOSECOND_UNIT = 10000000.0;\n\nvar QualityLevelNode = function (_super) {\n  __extends(QualityLevelNode, _super);\n\n  function QualityLevelNode(node, xml) {\n    _super.call(this, node, xml);\n  }\n\n  QualityLevelNode.prototype.createSegmentInformation = function () {\n    var presentationDuration = IsoDurationParser_1.IsoDurationParser.getDuration(parseFloat(this.attributeList['Duration'] / TIME_SCALE_100_NANOSECOND_UNIT));\n    var representationID = this.attributeList['id'];\n    this.bandwidth = this.attributeList['bandwidth'] ? parseInt(this.attributeList['bandwidth']) : -1;\n    this.segmentTemplate = this.mapMssSegmentTemplate();\n    this.segmentInformation = new FragmentInformation_1.FragmentInformation(presentationDuration, this.bandwidth, this.baseURL, representationID, this.attributeList['mimeType'], this.segmentTemplate);\n  };\n\n  QualityLevelNode.prototype.mapMssSegmentTemplate = function () {\n    var segmentTemplate = {};\n    var mediaUrl;\n    mediaUrl = this.attributeList['Url'].replace('{bitrate}', '$Bandwidth$');\n    mediaUrl = mediaUrl.replace('{start time}', '$Time$');\n    segmentTemplate.media = mediaUrl;\n    segmentTemplate.timescale = TIME_SCALE_100_NANOSECOND_UNIT;\n    segmentTemplate.SegmentTimeline = this.mapMssSegmentTimeline();\n    return segmentTemplate;\n  };\n\n  QualityLevelNode.prototype.mapMssSegmentTimeline = function () {\n    var segmentTimeline = {};\n    var chunks = this.currentNode.parentNode.getElementsByTagName('c');\n    var segments = [];\n    var segment;\n    var prevSegment;\n    var tManifest;\n    var i;\n    var duration = 0;\n\n    for (i = 0; i < chunks.length; i++) {\n      segment = {}; // Get time 't' attribute value\n\n      tManifest = chunks[i].getAttribute('t'); // => segment.tManifest = original timestamp value as a string (for constructing the fragment request url, see DashHandler)\n      // => segment.t = number value of timestamp (maybe rounded value, but only for 0.1 microsecond)\n\n      segment.tManifest = parseFloat(tManifest);\n      segment.t = parseFloat(tManifest); // Get duration 'd' attribute value\n\n      segment.d = parseFloat(chunks[i].getAttribute('d')); // If 't' not defined for first segment then t=0\n\n      if (i === 0 && !segment.t) {\n        segment.t = 0;\n      }\n\n      if (i > 0) {\n        prevSegment = segments[segments.length - 1]; // Update previous segment duration if not defined\n\n        if (!prevSegment.d) {\n          if (prevSegment.tManifest) {\n            prevSegment.d = parseFloat(tManifest) - parseFloat(prevSegment.tManifest);\n          } else {\n            prevSegment.d = segment.t - prevSegment.t;\n          }\n        } // Set segment absolute timestamp if not set in manifest\n\n\n        if (!segment.t) {\n          if (prevSegment.tManifest) {\n            segment.tManifest = parseFloat(prevSegment.tManifest) + prevSegment.d;\n            segment.t = parseFloat(segment.tManifest);\n          } else {\n            segment.t = prevSegment.t + prevSegment.d;\n          }\n        }\n      }\n\n      duration += segment.d; // Create new segment\n\n      segments.push(segment);\n    }\n\n    segmentTimeline.S = segments;\n    segmentTimeline.S_asArray = segments;\n    segmentTimeline.duration = duration / TIME_SCALE_100_NANOSECOND_UNIT;\n    return segmentTimeline;\n  };\n\n  QualityLevelNode.prototype.writeAttributesToList = function (node, list) {\n    var attrList = node.attributes;\n    var mimeTypeMap = {\n      'video': 'video/mp4',\n      'audio': 'audio/mp4',\n      'text': 'application/mp4'\n    };\n\n    for (var i = 0; i < node.childNodes.length; i++) {\n      if (!this.baseURL && node.childNodes[i].nodeName == 'BaseURL') {\n        this.baseURL = node.childNodes[i].firstChild.nodeValue;\n      }\n\n      if (!this.segmentBase && node.childNodes[i].nodeName == 'SegmentBase') {\n        this.segmentBase = node.childNodes[i];\n      }\n\n      if (!this.segmentTemplate && node.childNodes[i].nodeName == 'SegmentTemplate') {\n        this.segmentTemplate = node.childNodes[i];\n      }\n\n      if (!this.segmentList && node.childNodes[i].nodeName == 'SegmentList') {\n        this.segmentList = node.childNodes[i];\n      }\n    }\n\n    for (var attr in attrList) {\n      if (!list[attrList[attr].nodeName]) {\n        list[attrList[attr].nodeName] = attrList[attr].nodeValue;\n      }\n    }\n\n    if (list['Type'] !== undefined) {\n      list['contentType'] = list['Type'];\n      list['mimeType'] = mimeTypeMap[list['contentType']];\n      list['bandwidth'] = list['Bitrate'];\n      list['width'] = list['MaxWidth'];\n      list['height'] = list['MaxHeight'];\n      list.lang = list['Language'] || 'und';\n      var indexId = list['Name'] ? list['Name'] : list['Type']; // build id\n\n      list['id'] = indexId + '_' + list['Index'];\n\n      if (list['Type'] === 'audio') {\n        list.audioSamplingRate = list['SamplingRate'];\n      }\n    }\n\n    if (list['Duration'] !== undefined) {\n      list['durationInS'] = this.attributeList['Duration'] / TIME_SCALE_100_NANOSECOND_UNIT;\n    }\n\n    if (node.parentNode !== null) {\n      this.buildAttributeList(node.parentNode, list);\n    } else {\n      if (!this.segmentInformation) {\n        this.createSegmentInformation();\n      }\n    }\n\n    _super.prototype.writeAttributesToList.call(this, node, list);\n  };\n\n  QualityLevelNode.prototype.getMimeType = function () {\n    return this.attributeList['mimeType'];\n  };\n\n  QualityLevelNode.prototype.hasMimeType = function () {\n    return this.attributeList['mimeType'] ? true : false;\n  };\n\n  QualityLevelNode.prototype.getContentType = function () {\n    return this.attributeList['contentType'];\n  };\n\n  QualityLevelNode.prototype.hasContentType = function () {\n    return this.attributeList['contentType'] ? true : false;\n  };\n\n  return QualityLevelNode;\n}(ManifestNode_1.ManifestNode);\n\nexports.QualityLevelNode = QualityLevelNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MkMsS0FBbEQ7RUFDRCxDQUZEOztFQUdBLE9BQU9WLGdCQUFQO0FBQ0QsQ0FwS3lCLENBb0t4QkwsY0FBYyxDQUFDb0UsWUFwS1MsQ0FBMUI7O0FBcUtBQyx3QkFBQSxHQUEyQmhFLGdCQUEzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvcGFyc2VyL21zcy9xdWFsaXR5TGV2ZWwtbm9kZS5qcz8zZDBmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gIGZvciAobGV0IHAgaW4gYikge1xuICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICBkW3BdID0gYltwXTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX18gKCkge1xuICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICB9XG5cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcblxuY29uc3QgTWFuaWZlc3ROb2RlXzEgPSByZXF1aXJlKFwiLi4vbWFuaWZlc3Qtbm9kZVwiKTtcbmNvbnN0IElzb0R1cmF0aW9uUGFyc2VyXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbC9Jc28tZHVyYXRpb24tcGFyc2VyXCIpO1xuY29uc3QgRnJhZ21lbnRJbmZvcm1hdGlvbl8xID0gcmVxdWlyZShcIi4vZnJhZ21lbnQtaW5mb3JtYXRpb25cIik7XG5jb25zdCBUSU1FX1NDQUxFXzEwMF9OQU5PU0VDT05EX1VOSVQgPSAxMDAwMDAwMC4wO1xuY29uc3QgUXVhbGl0eUxldmVsTm9kZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhRdWFsaXR5TGV2ZWxOb2RlLCBfc3VwZXIpO1xuICBmdW5jdGlvbiBRdWFsaXR5TGV2ZWxOb2RlIChub2RlLCB4bWwpIHtcbiAgICBfc3VwZXIuY2FsbCh0aGlzLCBub2RlLCB4bWwpO1xuICB9XG5cbiAgUXVhbGl0eUxldmVsTm9kZS5wcm90b3R5cGUuY3JlYXRlU2VnbWVudEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHByZXNlbnRhdGlvbkR1cmF0aW9uID0gSXNvRHVyYXRpb25QYXJzZXJfMS5Jc29EdXJhdGlvblBhcnNlci5nZXREdXJhdGlvbihwYXJzZUZsb2F0KHRoaXMuYXR0cmlidXRlTGlzdFsnRHVyYXRpb24nXSAvIFRJTUVfU0NBTEVfMTAwX05BTk9TRUNPTkRfVU5JVCkpO1xuICAgIGNvbnN0IHJlcHJlc2VudGF0aW9uSUQgPSB0aGlzLmF0dHJpYnV0ZUxpc3RbJ2lkJ107XG5cbiAgICB0aGlzLmJhbmR3aWR0aCA9ICh0aGlzLmF0dHJpYnV0ZUxpc3RbJ2JhbmR3aWR0aCddKSA/IHBhcnNlSW50KHRoaXMuYXR0cmlidXRlTGlzdFsnYmFuZHdpZHRoJ10pIDogLTE7XG5cbiAgICB0aGlzLnNlZ21lbnRUZW1wbGF0ZSA9IHRoaXMubWFwTXNzU2VnbWVudFRlbXBsYXRlKCk7XG4gICAgdGhpcy5zZWdtZW50SW5mb3JtYXRpb24gPSBuZXcgRnJhZ21lbnRJbmZvcm1hdGlvbl8xLkZyYWdtZW50SW5mb3JtYXRpb24ocHJlc2VudGF0aW9uRHVyYXRpb24sIHRoaXMuYmFuZHdpZHRoLCB0aGlzLmJhc2VVUkwsIHJlcHJlc2VudGF0aW9uSUQsIHRoaXMuYXR0cmlidXRlTGlzdFsnbWltZVR5cGUnXSwgdGhpcy5zZWdtZW50VGVtcGxhdGUpO1xuICB9O1xuXG4gIFF1YWxpdHlMZXZlbE5vZGUucHJvdG90eXBlLm1hcE1zc1NlZ21lbnRUZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc2VnbWVudFRlbXBsYXRlID0ge307XG4gICAgbGV0IG1lZGlhVXJsO1xuXG4gICAgbWVkaWFVcmwgPSB0aGlzLmF0dHJpYnV0ZUxpc3RbJ1VybCddLnJlcGxhY2UoJ3tiaXRyYXRlfScsICckQmFuZHdpZHRoJCcpO1xuICAgIG1lZGlhVXJsID0gbWVkaWFVcmwucmVwbGFjZSgne3N0YXJ0IHRpbWV9JywgJyRUaW1lJCcpO1xuXG4gICAgc2VnbWVudFRlbXBsYXRlLm1lZGlhID0gbWVkaWFVcmw7XG4gICAgc2VnbWVudFRlbXBsYXRlLnRpbWVzY2FsZSA9IFRJTUVfU0NBTEVfMTAwX05BTk9TRUNPTkRfVU5JVDtcblxuICAgIHNlZ21lbnRUZW1wbGF0ZS5TZWdtZW50VGltZWxpbmUgPSB0aGlzLm1hcE1zc1NlZ21lbnRUaW1lbGluZSgpO1xuXG4gICAgcmV0dXJuIHNlZ21lbnRUZW1wbGF0ZTtcbiAgfTtcblxuICBRdWFsaXR5TGV2ZWxOb2RlLnByb3RvdHlwZS5tYXBNc3NTZWdtZW50VGltZWxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNlZ21lbnRUaW1lbGluZSA9IHt9O1xuICAgIGxldCBjaHVua3MgPSB0aGlzLmN1cnJlbnROb2RlLnBhcmVudE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2MnKTtcbiAgICBsZXQgc2VnbWVudHMgPSBbXTtcbiAgICBsZXQgc2VnbWVudDtcbiAgICBsZXQgcHJldlNlZ21lbnQ7XG4gICAgbGV0IHRNYW5pZmVzdDtcbiAgICBsZXQgaTtcbiAgICBsZXQgZHVyYXRpb24gPSAwO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGNodW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzZWdtZW50ID0ge307XG5cbiAgICAgICAgLy8gR2V0IHRpbWUgJ3QnIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgICB0TWFuaWZlc3QgPSBjaHVua3NbaV0uZ2V0QXR0cmlidXRlKCd0Jyk7XG5cbiAgICAgICAgLy8gPT4gc2VnbWVudC50TWFuaWZlc3QgPSBvcmlnaW5hbCB0aW1lc3RhbXAgdmFsdWUgYXMgYSBzdHJpbmcgKGZvciBjb25zdHJ1Y3RpbmcgdGhlIGZyYWdtZW50IHJlcXVlc3QgdXJsLCBzZWUgRGFzaEhhbmRsZXIpXG4gICAgICAgIC8vID0+IHNlZ21lbnQudCA9IG51bWJlciB2YWx1ZSBvZiB0aW1lc3RhbXAgKG1heWJlIHJvdW5kZWQgdmFsdWUsIGJ1dCBvbmx5IGZvciAwLjEgbWljcm9zZWNvbmQpXG4gICAgICAgIHNlZ21lbnQudE1hbmlmZXN0ID0gcGFyc2VGbG9hdCh0TWFuaWZlc3QpO1xuICAgICAgICBzZWdtZW50LnQgPSBwYXJzZUZsb2F0KHRNYW5pZmVzdCk7XG5cbiAgICAgICAgLy8gR2V0IGR1cmF0aW9uICdkJyBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgICAgc2VnbWVudC5kID0gcGFyc2VGbG9hdChjaHVua3NbaV0uZ2V0QXR0cmlidXRlKCdkJykpO1xuXG4gICAgICAgIC8vIElmICd0JyBub3QgZGVmaW5lZCBmb3IgZmlyc3Qgc2VnbWVudCB0aGVuIHQ9MFxuICAgICAgICBpZiAoKGkgPT09IDApICYmICFzZWdtZW50LnQpIHtcbiAgICAgICAgICAgIHNlZ21lbnQudCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHByZXZTZWdtZW50ID0gc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAvLyBVcGRhdGUgcHJldmlvdXMgc2VnbWVudCBkdXJhdGlvbiBpZiBub3QgZGVmaW5lZFxuICAgICAgICAgICAgaWYgKCFwcmV2U2VnbWVudC5kKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZTZWdtZW50LnRNYW5pZmVzdCkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2U2VnbWVudC5kID0gcGFyc2VGbG9hdCh0TWFuaWZlc3QpIC0gcGFyc2VGbG9hdChwcmV2U2VnbWVudC50TWFuaWZlc3QpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZTZWdtZW50LmQgPSBzZWdtZW50LnQgLSBwcmV2U2VnbWVudC50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCBzZWdtZW50IGFic29sdXRlIHRpbWVzdGFtcCBpZiBub3Qgc2V0IGluIG1hbmlmZXN0XG4gICAgICAgICAgICBpZiAoIXNlZ21lbnQudCkge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2U2VnbWVudC50TWFuaWZlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudC50TWFuaWZlc3QgPSBwYXJzZUZsb2F0KHByZXZTZWdtZW50LnRNYW5pZmVzdCkgKyBwcmV2U2VnbWVudC5kO1xuICAgICAgICAgICAgICAgICAgICBzZWdtZW50LnQgPSBwYXJzZUZsb2F0KHNlZ21lbnQudE1hbmlmZXN0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWdtZW50LnQgPSBwcmV2U2VnbWVudC50ICsgcHJldlNlZ21lbnQuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkdXJhdGlvbiArPSBzZWdtZW50LmQ7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBzZWdtZW50XG4gICAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgfVxuXG4gICAgc2VnbWVudFRpbWVsaW5lLlMgPSBzZWdtZW50cztcbiAgICBzZWdtZW50VGltZWxpbmUuU19hc0FycmF5ID0gc2VnbWVudHM7XG4gICAgc2VnbWVudFRpbWVsaW5lLmR1cmF0aW9uID0gZHVyYXRpb24gLyBUSU1FX1NDQUxFXzEwMF9OQU5PU0VDT05EX1VOSVQ7XG5cbiAgICByZXR1cm4gc2VnbWVudFRpbWVsaW5lO1xuICB9O1xuXG4gIFF1YWxpdHlMZXZlbE5vZGUucHJvdG90eXBlLndyaXRlQXR0cmlidXRlc1RvTGlzdCA9IGZ1bmN0aW9uIChub2RlLCBsaXN0KSB7XG4gICAgY29uc3QgYXR0ckxpc3QgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgY29uc3QgbWltZVR5cGVNYXAgPSB7XG4gICAgICAndmlkZW8nOiAndmlkZW8vbXA0JyxcbiAgICAgICdhdWRpbyc6ICdhdWRpby9tcDQnLFxuICAgICAgJ3RleHQnOiAnYXBwbGljYXRpb24vbXA0J1xuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5iYXNlVVJMICYmIG5vZGUuY2hpbGROb2Rlc1tpXS5ub2RlTmFtZSA9PSAnQmFzZVVSTCcpIHtcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gbm9kZS5jaGlsZE5vZGVzW2ldLmZpcnN0Q2hpbGQubm9kZVZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnNlZ21lbnRCYXNlICYmIG5vZGUuY2hpbGROb2Rlc1tpXS5ub2RlTmFtZSA9PSAnU2VnbWVudEJhc2UnKSB7XG4gICAgICAgIHRoaXMuc2VnbWVudEJhc2UgPSBub2RlLmNoaWxkTm9kZXNbaV07XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc2VnbWVudFRlbXBsYXRlICYmIG5vZGUuY2hpbGROb2Rlc1tpXS5ub2RlTmFtZSA9PSAnU2VnbWVudFRlbXBsYXRlJykge1xuICAgICAgICB0aGlzLnNlZ21lbnRUZW1wbGF0ZSA9IG5vZGUuY2hpbGROb2Rlc1tpXTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zZWdtZW50TGlzdCAmJiBub2RlLmNoaWxkTm9kZXNbaV0ubm9kZU5hbWUgPT0gJ1NlZ21lbnRMaXN0Jykge1xuICAgICAgICB0aGlzLnNlZ21lbnRMaXN0ID0gbm9kZS5jaGlsZE5vZGVzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBhdHRyIGluIGF0dHJMaXN0KSB7XG4gICAgICBpZiAoIWxpc3RbYXR0ckxpc3RbYXR0cl0ubm9kZU5hbWVdKSB7XG4gICAgICAgIGxpc3RbYXR0ckxpc3RbYXR0cl0ubm9kZU5hbWVdID0gYXR0ckxpc3RbYXR0cl0ubm9kZVZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsaXN0WydUeXBlJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGlzdFsnY29udGVudFR5cGUnXSA9IGxpc3RbJ1R5cGUnXTtcbiAgICAgIGxpc3RbJ21pbWVUeXBlJ10gPSBtaW1lVHlwZU1hcFtsaXN0Wydjb250ZW50VHlwZSddXTtcbiAgICAgIGxpc3RbJ2JhbmR3aWR0aCddID0gbGlzdFsnQml0cmF0ZSddO1xuICAgICAgbGlzdFsnd2lkdGgnXSA9IGxpc3RbJ01heFdpZHRoJ107XG4gICAgICBsaXN0WydoZWlnaHQnXSA9IGxpc3RbJ01heEhlaWdodCddO1xuICAgICAgbGlzdC5sYW5nID0gbGlzdFsnTGFuZ3VhZ2UnXSB8fCAndW5kJztcblxuICAgICAgbGV0IGluZGV4SWQgPSBsaXN0WydOYW1lJ10gPyBsaXN0WydOYW1lJ10gOiBsaXN0WydUeXBlJ107XG4gICAgICAvLyBidWlsZCBpZFxuICAgICAgbGlzdFsnaWQnXSA9IGluZGV4SWQgKyAnXycgKyBsaXN0WydJbmRleCddO1xuXG4gICAgICBpZiAobGlzdFsnVHlwZSddID09PSAnYXVkaW8nICkge1xuICAgICAgICBsaXN0LmF1ZGlvU2FtcGxpbmdSYXRlID0gbGlzdFsnU2FtcGxpbmdSYXRlJ107XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxpc3RbJ0R1cmF0aW9uJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGlzdFsnZHVyYXRpb25JblMnXSA9IHRoaXMuYXR0cmlidXRlTGlzdFsnRHVyYXRpb24nXSAvIFRJTUVfU0NBTEVfMTAwX05BTk9TRUNPTkRfVU5JVDtcbiAgICB9XG5cbiAgICBpZiAobm9kZS5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmJ1aWxkQXR0cmlidXRlTGlzdChub2RlLnBhcmVudE5vZGUsIGxpc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMuc2VnbWVudEluZm9ybWF0aW9uKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudEluZm9ybWF0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICAgIF9zdXBlci5wcm90b3R5cGUud3JpdGVBdHRyaWJ1dGVzVG9MaXN0LmNhbGwodGhpcywgbm9kZSwgbGlzdCk7XG4gIH07XG4gIFF1YWxpdHlMZXZlbE5vZGUucHJvdG90eXBlLmdldE1pbWVUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21pbWVUeXBlJ107XG4gIH07XG4gIFF1YWxpdHlMZXZlbE5vZGUucHJvdG90eXBlLmhhc01pbWVUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21pbWVUeXBlJ10gPyB0cnVlIDogZmFsc2U7XG4gIH07XG4gIFF1YWxpdHlMZXZlbE5vZGUucHJvdG90eXBlLmdldENvbnRlbnRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZUxpc3RbJ2NvbnRlbnRUeXBlJ107XG4gIH07XG4gIFF1YWxpdHlMZXZlbE5vZGUucHJvdG90eXBlLmhhc0NvbnRlbnRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZUxpc3RbJ2NvbnRlbnRUeXBlJ10gPyB0cnVlIDogZmFsc2U7XG4gIH07XG4gIHJldHVybiBRdWFsaXR5TGV2ZWxOb2RlO1xufShNYW5pZmVzdE5vZGVfMS5NYW5pZmVzdE5vZGUpKTtcbmV4cG9ydHMuUXVhbGl0eUxldmVsTm9kZSA9IFF1YWxpdHlMZXZlbE5vZGU7XG4iXSwibmFtZXMiOlsiX19leHRlbmRzIiwiZCIsImIiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiTWFuaWZlc3ROb2RlXzEiLCJyZXF1aXJlIiwiSXNvRHVyYXRpb25QYXJzZXJfMSIsIkZyYWdtZW50SW5mb3JtYXRpb25fMSIsIlRJTUVfU0NBTEVfMTAwX05BTk9TRUNPTkRfVU5JVCIsIlF1YWxpdHlMZXZlbE5vZGUiLCJfc3VwZXIiLCJub2RlIiwieG1sIiwiY2FsbCIsImNyZWF0ZVNlZ21lbnRJbmZvcm1hdGlvbiIsInByZXNlbnRhdGlvbkR1cmF0aW9uIiwiSXNvRHVyYXRpb25QYXJzZXIiLCJnZXREdXJhdGlvbiIsInBhcnNlRmxvYXQiLCJhdHRyaWJ1dGVMaXN0IiwicmVwcmVzZW50YXRpb25JRCIsImJhbmR3aWR0aCIsInBhcnNlSW50Iiwic2VnbWVudFRlbXBsYXRlIiwibWFwTXNzU2VnbWVudFRlbXBsYXRlIiwic2VnbWVudEluZm9ybWF0aW9uIiwiRnJhZ21lbnRJbmZvcm1hdGlvbiIsImJhc2VVUkwiLCJtZWRpYVVybCIsInJlcGxhY2UiLCJtZWRpYSIsInRpbWVzY2FsZSIsIlNlZ21lbnRUaW1lbGluZSIsIm1hcE1zc1NlZ21lbnRUaW1lbGluZSIsInNlZ21lbnRUaW1lbGluZSIsImNodW5rcyIsImN1cnJlbnROb2RlIiwicGFyZW50Tm9kZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2VnbWVudHMiLCJzZWdtZW50IiwicHJldlNlZ21lbnQiLCJ0TWFuaWZlc3QiLCJpIiwiZHVyYXRpb24iLCJsZW5ndGgiLCJnZXRBdHRyaWJ1dGUiLCJ0IiwicHVzaCIsIlMiLCJTX2FzQXJyYXkiLCJ3cml0ZUF0dHJpYnV0ZXNUb0xpc3QiLCJsaXN0IiwiYXR0ckxpc3QiLCJhdHRyaWJ1dGVzIiwibWltZVR5cGVNYXAiLCJjaGlsZE5vZGVzIiwibm9kZU5hbWUiLCJmaXJzdENoaWxkIiwibm9kZVZhbHVlIiwic2VnbWVudEJhc2UiLCJzZWdtZW50TGlzdCIsImF0dHIiLCJ1bmRlZmluZWQiLCJsYW5nIiwiaW5kZXhJZCIsImF1ZGlvU2FtcGxpbmdSYXRlIiwiYnVpbGRBdHRyaWJ1dGVMaXN0IiwiZ2V0TWltZVR5cGUiLCJoYXNNaW1lVHlwZSIsImdldENvbnRlbnRUeXBlIiwiaGFzQ29udGVudFR5cGUiLCJNYW5pZmVzdE5vZGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5968\n")},3605:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar BASE64 = __webpack_require__(7769);\n\nvar pssh = __webpack_require__(2310);\n\nvar DOMParser = (__webpack_require__(678).DOMParser);\n\nvar WIDEVINE_SCHEME_ID_URI = 'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed';\nvar PLAYREADY_SCHEME_ID_URI = 'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95';\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n\nvar AdaptationSetNode_1 = __webpack_require__(4872);\n\nvar QualityLevelNode_1 = __webpack_require__(5968);\n\nvar StreamIndexNode = function (_super) {\n  __extends(StreamIndexNode, _super);\n\n  function StreamIndexNode(node, xml) {\n    _super.call(this, node, xml);\n  }\n\n  StreamIndexNode.prototype.parse = function () {\n    var qualityLevels = this.currentNode.getElementsByTagName('QualityLevel');\n\n    for (var i = 0; i < qualityLevels.length; i++) {\n      var qualityLevelNode = new QualityLevelNode_1.QualityLevelNode(qualityLevels[i], this.xml);\n      this.representationColl[i] = qualityLevelNode;\n\n      if (this.representationColl[0].hasMimeType()) {\n        this.attributeList['mimeType'] = this.representationColl[0].getMimeType();\n      }\n\n      if (this.representationColl[0].hasContentType()) {\n        this.attributeList['mimeType'] = this.representationColl[0].getContentType();\n      }\n    }\n\n    var protection = this.xml.getElementsByTagName('Protection')[0];\n\n    if (protection !== undefined) {\n      var protectionHeader = protection.getElementsByTagName('ProtectionHeader')[0]; // Some packagers put newlines into the ProtectionHeader base64 string, which is not good\n      // because this cannot be correctly parsed. Let's just filter out any newlines found in there.\n\n      var psshPR = protectionHeader.firstChild.data.replace(/\\n|\\r/g, ''); // Get KID (in CENC format) from protection header\n\n      var KID = this.getKIDFromProtectionHeader(protectionHeader); // Create ContentProtection for PlayReady\n\n      var cpPR = {\n        schemeIdUri: PLAYREADY_SCHEME_ID_URI,\n        cencPSSH: psshPR\n      };\n      this.contentProtections.push(cpPR); // Create ContentProtection for Widevine (as a CENC protection)\n\n      var psshWV = pssh.createWidevinePssh(KID);\n      var cpWV = {\n        schemeIdUri: WIDEVINE_SCHEME_ID_URI,\n        cencPSSH: psshWV\n      };\n      this.contentProtections.push(cpWV);\n    }\n  };\n\n  StreamIndexNode.prototype.getKIDFromProtectionHeader = function (protectionHeader) {\n    var prHeader, wrmHeader, xmlReader, KID; // Get PlayReady header as byte array (base64 decoded)\n\n    prHeader = BASE64.toByteArray(protectionHeader.firstChild.data); // Get Right Management header (WRMHEADER) from PlayReady header\n\n    wrmHeader = this.getWRMHeaderFromPRHeader(prHeader); // Convert from multi-byte to unicode\n\n    wrmHeader = new Uint16Array(wrmHeader.buffer); // Convert to string\n\n    wrmHeader = String.fromCharCode.apply(null, wrmHeader); // Parse <WRMHeader> to get KID field value\n\n    xmlReader = new DOMParser().parseFromString(wrmHeader, 'application/xml');\n    KID = xmlReader.getElementsByTagName('KID')[0].textContent; // Get KID (base64 decoded) as byte array\n\n    KID = BASE64.toByteArray(KID); // Convert UUID from little-endian to big-endian\n\n    this.convertUuidEndianness(KID);\n    return KID;\n  };\n\n  StreamIndexNode.prototype.convertUuidEndianness = function (uuid) {\n    this.swapBytes(uuid, 0, 3);\n    this.swapBytes(uuid, 1, 2);\n    this.swapBytes(uuid, 4, 5);\n    this.swapBytes(uuid, 6, 7);\n  };\n\n  StreamIndexNode.prototype.swapBytes = function (bytes, pos1, pos2) {\n    var temp = bytes[pos1];\n    bytes[pos1] = bytes[pos2];\n    bytes[pos2] = temp;\n  };\n\n  StreamIndexNode.prototype.getWRMHeaderFromPRHeader = function getWRMHeaderFromPRHeader(prHeader) {\n    var recordType, recordLength, recordValue;\n    var i = 0; // Parse PlayReady header\n    // Length - 32 bits (LE format)\n    // var length = (prHeader[i + 3] << 24) + (prHeader[i + 2] << 16) + (prHeader[i + 1] << 8) + prHeader[i];\n\n    i += 4; // Record count - 16 bits (LE format)\n    // var recordCount = (prHeader[i + 1] << 8) + prHeader[i];\n\n    i += 2; // Parse records\n\n    while (i < prHeader.length) {\n      // Record type - 16 bits (LE format)\n      recordType = prHeader[i + 1] * 256 + prHeader[i];\n      i += 2; // Check if Rights Management header (record type = 0x01)\n\n      if (recordType === 0x01) {\n        // Record length - 16 bits (LE format)\n        recordLength = prHeader[i + 1] * 256 + prHeader[i];\n        i += 2; // Record value => contains <WRMHEADER>\n\n        recordValue = new Uint8Array(recordLength);\n        recordValue.set(prHeader.subarray(i, i + recordLength));\n        return recordValue;\n      }\n    }\n\n    return null;\n  };\n\n  return StreamIndexNode;\n}(AdaptationSetNode_1.AdaptationSetNode);\n\nexports.StreamIndexNode = StreamIndexNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTQSx3QkFBVCxDQUFtQ0osUUFBbkMsRUFBNkM7SUFDaEcsSUFBSW1CLFVBQUosRUFDSUMsWUFESixFQUVJQyxXQUZKO0lBR0EsSUFBSWhELENBQUMsR0FBRyxDQUFSLENBSmdHLENBTWhHO0lBRUE7SUFDQTs7SUFDQUEsQ0FBQyxJQUFJLENBQUwsQ0FWZ0csQ0FZaEc7SUFDQTs7SUFDQUEsQ0FBQyxJQUFJLENBQUwsQ0FkZ0csQ0FnQmhHOztJQUNBLE9BQU9BLENBQUMsR0FBRzJCLFFBQVEsQ0FBQzFCLE1BQXBCLEVBQTRCO01BQ3hCO01BQ0E2QyxVQUFVLEdBQUluQixRQUFRLENBQUMzQixDQUFDLEdBQUcsQ0FBTCxDQUFSLEdBQWtCLEdBQW5CLEdBQTBCMkIsUUFBUSxDQUFDM0IsQ0FBRCxDQUEvQztNQUNBQSxDQUFDLElBQUksQ0FBTCxDQUh3QixDQUt4Qjs7TUFDQSxJQUFJOEMsVUFBVSxLQUFLLElBQW5CLEVBQXlCO1FBRXJCO1FBQ0FDLFlBQVksR0FBSXBCLFFBQVEsQ0FBQzNCLENBQUMsR0FBRyxDQUFMLENBQVIsR0FBa0IsR0FBbkIsR0FBMEIyQixRQUFRLENBQUMzQixDQUFELENBQWpEO1FBQ0FBLENBQUMsSUFBSSxDQUFMLENBSnFCLENBTXJCOztRQUNBZ0QsV0FBVyxHQUFHLElBQUlDLFVBQUosQ0FBZUYsWUFBZixDQUFkO1FBQ0FDLFdBQVcsQ0FBQ0UsR0FBWixDQUFnQnZCLFFBQVEsQ0FBQ3dCLFFBQVQsQ0FBa0JuRCxDQUFsQixFQUFxQkEsQ0FBQyxHQUFHK0MsWUFBekIsQ0FBaEI7UUFDQSxPQUFPQyxXQUFQO01BQ0g7SUFDSjs7SUFDRCxPQUFPLElBQVA7RUFDRCxDQXBDRDs7RUFzQ0EsT0FBT3pELGVBQVA7QUFDRCxDQXBJd0IsQ0FvSXZCRixtQkFBbUIsQ0FBQytELGlCQXBJRyxDQUF6Qjs7QUFxSUFDLHVCQUFBLEdBQTBCOUQsZUFBMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L3BhcnNlci9tc3Mvc3RyZWFtSW5kZXgtbm9kZS5qcz8yMzlmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgQkFTRTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJyk7XG5jb25zdCBwc3NoID0gcmVxdWlyZShcIi4uL3Bzc2hcIik7XG5jb25zdCBET01QYXJzZXIgPSByZXF1aXJlKCd4bWxkb20nKS5ET01QYXJzZXI7XG5cbmNvbnN0IFdJREVWSU5FX1NDSEVNRV9JRF9VUkkgPSAndXJuOnV1aWQ6ZWRlZjhiYTktNzlkNi00YWNlLWEzYzgtMjdkY2Q1MWQyMWVkJztcbmNvbnN0IFBMQVlSRUFEWV9TQ0hFTUVfSURfVVJJID0gJ3Vybjp1dWlkOjlhMDRmMDc5LTk4NDAtNDI4Ni1hYjkyLWU2NWJlMDg4NWY5NSc7XG5cbmNvbnN0IF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZm9yIChsZXQgcCBpbiBiKSB7XG4gICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF9fICgpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICB9XG5cbiAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xuY29uc3QgQWRhcHRhdGlvblNldE5vZGVfMSA9IHJlcXVpcmUoXCIuLi9hZGFwdGF0aW9uLXNldC1ub2RlXCIpO1xuY29uc3QgUXVhbGl0eUxldmVsTm9kZV8xID0gcmVxdWlyZShcIi4vcXVhbGl0eUxldmVsLW5vZGVcIik7XG5cbmNvbnN0IFN0cmVhbUluZGV4Tm9kZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhTdHJlYW1JbmRleE5vZGUsIF9zdXBlcik7XG4gIGZ1bmN0aW9uIFN0cmVhbUluZGV4Tm9kZSAobm9kZSwgeG1sKSB7XG4gICAgX3N1cGVyLmNhbGwodGhpcywgbm9kZSwgeG1sKTtcbiAgfVxuXG4gIFN0cmVhbUluZGV4Tm9kZS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBsZXQgcXVhbGl0eUxldmVscyA9IHRoaXMuY3VycmVudE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1F1YWxpdHlMZXZlbCcpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWFsaXR5TGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBxdWFsaXR5TGV2ZWxOb2RlID0gbmV3IFF1YWxpdHlMZXZlbE5vZGVfMS5RdWFsaXR5TGV2ZWxOb2RlKHF1YWxpdHlMZXZlbHNbaV0sIHRoaXMueG1sKTtcbiAgICAgIHRoaXMucmVwcmVzZW50YXRpb25Db2xsW2ldID0gcXVhbGl0eUxldmVsTm9kZTtcbiAgICAgIGlmICh0aGlzLnJlcHJlc2VudGF0aW9uQ29sbFswXS5oYXNNaW1lVHlwZSgpKSB7XG4gICAgICAgICAgdGhpcy5hdHRyaWJ1dGVMaXN0WydtaW1lVHlwZSddID0gdGhpcy5yZXByZXNlbnRhdGlvbkNvbGxbMF0uZ2V0TWltZVR5cGUoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJlcHJlc2VudGF0aW9uQ29sbFswXS5oYXNDb250ZW50VHlwZSgpKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlTGlzdFsnbWltZVR5cGUnXSA9IHRoaXMucmVwcmVzZW50YXRpb25Db2xsWzBdLmdldENvbnRlbnRUeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdGVjdGlvbiA9IHRoaXMueG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdQcm90ZWN0aW9uJylbMF07XG5cbiAgICBpZiAocHJvdGVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBwcm90ZWN0aW9uSGVhZGVyID0gcHJvdGVjdGlvbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnUHJvdGVjdGlvbkhlYWRlcicpWzBdO1xuICAgICAgLy8gU29tZSBwYWNrYWdlcnMgcHV0IG5ld2xpbmVzIGludG8gdGhlIFByb3RlY3Rpb25IZWFkZXIgYmFzZTY0IHN0cmluZywgd2hpY2ggaXMgbm90IGdvb2RcbiAgICAgIC8vIGJlY2F1c2UgdGhpcyBjYW5ub3QgYmUgY29ycmVjdGx5IHBhcnNlZC4gTGV0J3MganVzdCBmaWx0ZXIgb3V0IGFueSBuZXdsaW5lcyBmb3VuZCBpbiB0aGVyZS5cbiAgICAgIGNvbnN0IHBzc2hQUiA9IHByb3RlY3Rpb25IZWFkZXIuZmlyc3RDaGlsZC5kYXRhLnJlcGxhY2UoL1xcbnxcXHIvZywgJycpO1xuXG4gICAgICAvLyBHZXQgS0lEIChpbiBDRU5DIGZvcm1hdCkgZnJvbSBwcm90ZWN0aW9uIGhlYWRlclxuICAgICAgY29uc3QgS0lEID0gdGhpcy5nZXRLSURGcm9tUHJvdGVjdGlvbkhlYWRlcihwcm90ZWN0aW9uSGVhZGVyKTtcblxuICAgICAgLy8gQ3JlYXRlIENvbnRlbnRQcm90ZWN0aW9uIGZvciBQbGF5UmVhZHlcbiAgICAgIGNvbnN0IGNwUFIgPSB7XG4gICAgICAgIHNjaGVtZUlkVXJpOiBQTEFZUkVBRFlfU0NIRU1FX0lEX1VSSSxcbiAgICAgICAgY2VuY1BTU0g6IHBzc2hQUlxuICAgICAgfTtcbiAgICAgIHRoaXMuY29udGVudFByb3RlY3Rpb25zLnB1c2goY3BQUik7XG5cbiAgICAgIC8vIENyZWF0ZSBDb250ZW50UHJvdGVjdGlvbiBmb3IgV2lkZXZpbmUgKGFzIGEgQ0VOQyBwcm90ZWN0aW9uKVxuICAgICAgY29uc3QgcHNzaFdWID0gcHNzaC5jcmVhdGVXaWRldmluZVBzc2goS0lEKTtcbiAgICAgIGNvbnN0IGNwV1YgPSB7XG4gICAgICAgIHNjaGVtZUlkVXJpOiBXSURFVklORV9TQ0hFTUVfSURfVVJJLFxuICAgICAgICBjZW5jUFNTSDogcHNzaFdWXG4gICAgICB9O1xuICAgICAgdGhpcy5jb250ZW50UHJvdGVjdGlvbnMucHVzaChjcFdWKTtcbiAgICB9XG4gIH1cblxuICBTdHJlYW1JbmRleE5vZGUucHJvdG90eXBlLmdldEtJREZyb21Qcm90ZWN0aW9uSGVhZGVyID0gZnVuY3Rpb24gKHByb3RlY3Rpb25IZWFkZXIpIHtcbiAgICAgIGxldCBwckhlYWRlcixcbiAgICAgICAgICB3cm1IZWFkZXIsXG4gICAgICAgICAgeG1sUmVhZGVyLFxuICAgICAgICAgIEtJRDtcblxuICAgICAgLy8gR2V0IFBsYXlSZWFkeSBoZWFkZXIgYXMgYnl0ZSBhcnJheSAoYmFzZTY0IGRlY29kZWQpXG4gICAgICBwckhlYWRlciA9IEJBU0U2NC50b0J5dGVBcnJheShwcm90ZWN0aW9uSGVhZGVyLmZpcnN0Q2hpbGQuZGF0YSk7XG5cbiAgICAgIC8vIEdldCBSaWdodCBNYW5hZ2VtZW50IGhlYWRlciAoV1JNSEVBREVSKSBmcm9tIFBsYXlSZWFkeSBoZWFkZXJcbiAgICAgIHdybUhlYWRlciA9IHRoaXMuZ2V0V1JNSGVhZGVyRnJvbVBSSGVhZGVyKHBySGVhZGVyKTtcblxuICAgICAgLy8gQ29udmVydCBmcm9tIG11bHRpLWJ5dGUgdG8gdW5pY29kZVxuICAgICAgd3JtSGVhZGVyID0gbmV3IFVpbnQxNkFycmF5KHdybUhlYWRlci5idWZmZXIpO1xuXG4gICAgICAvLyBDb252ZXJ0IHRvIHN0cmluZ1xuICAgICAgd3JtSGVhZGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCB3cm1IZWFkZXIpO1xuXG4gICAgICAvLyBQYXJzZSA8V1JNSGVhZGVyPiB0byBnZXQgS0lEIGZpZWxkIHZhbHVlXG4gICAgICB4bWxSZWFkZXIgPSAobmV3IERPTVBhcnNlcigpKS5wYXJzZUZyb21TdHJpbmcod3JtSGVhZGVyLCAnYXBwbGljYXRpb24veG1sJyk7XG4gICAgICBLSUQgPSB4bWxSZWFkZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0tJRCcpWzBdLnRleHRDb250ZW50O1xuXG4gICAgICAvLyBHZXQgS0lEIChiYXNlNjQgZGVjb2RlZCkgYXMgYnl0ZSBhcnJheVxuICAgICAgS0lEID0gQkFTRTY0LnRvQnl0ZUFycmF5KEtJRCk7XG5cbiAgICAgIC8vIENvbnZlcnQgVVVJRCBmcm9tIGxpdHRsZS1lbmRpYW4gdG8gYmlnLWVuZGlhblxuICAgICAgdGhpcy5jb252ZXJ0VXVpZEVuZGlhbm5lc3MoS0lEKTtcblxuICAgICAgcmV0dXJuIEtJRDtcbiAgfTtcblxuICBTdHJlYW1JbmRleE5vZGUucHJvdG90eXBlLmNvbnZlcnRVdWlkRW5kaWFubmVzcyA9IGZ1bmN0aW9uICh1dWlkKSB7XG4gICAgICB0aGlzLnN3YXBCeXRlcyh1dWlkLCAwLCAzKTtcbiAgICAgIHRoaXMuc3dhcEJ5dGVzKHV1aWQsIDEsIDIpO1xuICAgICAgdGhpcy5zd2FwQnl0ZXModXVpZCwgNCwgNSk7XG4gICAgICB0aGlzLnN3YXBCeXRlcyh1dWlkLCA2LCA3KTtcbiAgfTtcblxuICBTdHJlYW1JbmRleE5vZGUucHJvdG90eXBlLnN3YXBCeXRlcyA9IGZ1bmN0aW9uIChieXRlcywgcG9zMSwgcG9zMikge1xuICAgICAgbGV0IHRlbXAgPSBieXRlc1twb3MxXTtcbiAgICAgIGJ5dGVzW3BvczFdID0gYnl0ZXNbcG9zMl07XG4gICAgICBieXRlc1twb3MyXSA9IHRlbXA7XG4gIH07XG5cbiAgU3RyZWFtSW5kZXhOb2RlLnByb3RvdHlwZS5nZXRXUk1IZWFkZXJGcm9tUFJIZWFkZXIgPSBmdW5jdGlvbiBnZXRXUk1IZWFkZXJGcm9tUFJIZWFkZXIgKHBySGVhZGVyKSB7XG4gICAgbGV0IHJlY29yZFR5cGUsXG4gICAgICAgIHJlY29yZExlbmd0aCxcbiAgICAgICAgcmVjb3JkVmFsdWU7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgLy8gUGFyc2UgUGxheVJlYWR5IGhlYWRlclxuXG4gICAgLy8gTGVuZ3RoIC0gMzIgYml0cyAoTEUgZm9ybWF0KVxuICAgIC8vIHZhciBsZW5ndGggPSAocHJIZWFkZXJbaSArIDNdIDw8IDI0KSArIChwckhlYWRlcltpICsgMl0gPDwgMTYpICsgKHBySGVhZGVyW2kgKyAxXSA8PCA4KSArIHBySGVhZGVyW2ldO1xuICAgIGkgKz0gNDtcblxuICAgIC8vIFJlY29yZCBjb3VudCAtIDE2IGJpdHMgKExFIGZvcm1hdClcbiAgICAvLyB2YXIgcmVjb3JkQ291bnQgPSAocHJIZWFkZXJbaSArIDFdIDw8IDgpICsgcHJIZWFkZXJbaV07XG4gICAgaSArPSAyO1xuXG4gICAgLy8gUGFyc2UgcmVjb3Jkc1xuICAgIHdoaWxlIChpIDwgcHJIZWFkZXIubGVuZ3RoKSB7XG4gICAgICAgIC8vIFJlY29yZCB0eXBlIC0gMTYgYml0cyAoTEUgZm9ybWF0KVxuICAgICAgICByZWNvcmRUeXBlID0gKHBySGVhZGVyW2kgKyAxXSAqIDI1NikgKyBwckhlYWRlcltpXTtcbiAgICAgICAgaSArPSAyO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIFJpZ2h0cyBNYW5hZ2VtZW50IGhlYWRlciAocmVjb3JkIHR5cGUgPSAweDAxKVxuICAgICAgICBpZiAocmVjb3JkVHlwZSA9PT0gMHgwMSkge1xuXG4gICAgICAgICAgICAvLyBSZWNvcmQgbGVuZ3RoIC0gMTYgYml0cyAoTEUgZm9ybWF0KVxuICAgICAgICAgICAgcmVjb3JkTGVuZ3RoID0gKHBySGVhZGVyW2kgKyAxXSAqIDI1NikgKyBwckhlYWRlcltpXTtcbiAgICAgICAgICAgIGkgKz0gMjtcblxuICAgICAgICAgICAgLy8gUmVjb3JkIHZhbHVlID0+IGNvbnRhaW5zIDxXUk1IRUFERVI+XG4gICAgICAgICAgICByZWNvcmRWYWx1ZSA9IG5ldyBVaW50OEFycmF5KHJlY29yZExlbmd0aCk7XG4gICAgICAgICAgICByZWNvcmRWYWx1ZS5zZXQocHJIZWFkZXIuc3ViYXJyYXkoaSwgaSArIHJlY29yZExlbmd0aCkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBTdHJlYW1JbmRleE5vZGU7XG59KEFkYXB0YXRpb25TZXROb2RlXzEuQWRhcHRhdGlvblNldE5vZGUpKTtcbmV4cG9ydHMuU3RyZWFtSW5kZXhOb2RlID0gU3RyZWFtSW5kZXhOb2RlO1xuIl0sIm5hbWVzIjpbIkJBU0U2NCIsInJlcXVpcmUiLCJwc3NoIiwiRE9NUGFyc2VyIiwiV0lERVZJTkVfU0NIRU1FX0lEX1VSSSIsIlBMQVlSRUFEWV9TQ0hFTUVfSURfVVJJIiwiX19leHRlbmRzIiwiZCIsImIiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiQWRhcHRhdGlvblNldE5vZGVfMSIsIlF1YWxpdHlMZXZlbE5vZGVfMSIsIlN0cmVhbUluZGV4Tm9kZSIsIl9zdXBlciIsIm5vZGUiLCJ4bWwiLCJjYWxsIiwicGFyc2UiLCJxdWFsaXR5TGV2ZWxzIiwiY3VycmVudE5vZGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImkiLCJsZW5ndGgiLCJxdWFsaXR5TGV2ZWxOb2RlIiwiUXVhbGl0eUxldmVsTm9kZSIsInJlcHJlc2VudGF0aW9uQ29sbCIsImhhc01pbWVUeXBlIiwiYXR0cmlidXRlTGlzdCIsImdldE1pbWVUeXBlIiwiaGFzQ29udGVudFR5cGUiLCJnZXRDb250ZW50VHlwZSIsInByb3RlY3Rpb24iLCJ1bmRlZmluZWQiLCJwcm90ZWN0aW9uSGVhZGVyIiwicHNzaFBSIiwiZmlyc3RDaGlsZCIsImRhdGEiLCJyZXBsYWNlIiwiS0lEIiwiZ2V0S0lERnJvbVByb3RlY3Rpb25IZWFkZXIiLCJjcFBSIiwic2NoZW1lSWRVcmkiLCJjZW5jUFNTSCIsImNvbnRlbnRQcm90ZWN0aW9ucyIsInB1c2giLCJwc3NoV1YiLCJjcmVhdGVXaWRldmluZVBzc2giLCJjcFdWIiwicHJIZWFkZXIiLCJ3cm1IZWFkZXIiLCJ4bWxSZWFkZXIiLCJ0b0J5dGVBcnJheSIsImdldFdSTUhlYWRlckZyb21QUkhlYWRlciIsIlVpbnQxNkFycmF5IiwiYnVmZmVyIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYXBwbHkiLCJwYXJzZUZyb21TdHJpbmciLCJ0ZXh0Q29udGVudCIsImNvbnZlcnRVdWlkRW5kaWFubmVzcyIsInV1aWQiLCJzd2FwQnl0ZXMiLCJieXRlcyIsInBvczEiLCJwb3MyIiwidGVtcCIsInJlY29yZFR5cGUiLCJyZWNvcmRMZW5ndGgiLCJyZWNvcmRWYWx1ZSIsIlVpbnQ4QXJyYXkiLCJzZXQiLCJzdWJhcnJheSIsIkFkYXB0YXRpb25TZXROb2RlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3605\n")},2310:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar BASE64 = __webpack_require__(7769);\n\nfunction createWidevinePssh(KID) {\n  // Create Widevine CENC header (Protocol Buffer) with KID value\n  var wvCencHeader = new Uint8Array(2 + KID.length);\n  wvCencHeader[0] = 0x12;\n  wvCencHeader[1] = 0x10;\n  wvCencHeader.set(KID, 2); // Create a pssh box\n\n  var length = 12\n  /* box length, type, version and flags */\n  + 16\n  /* SystemID */\n  + 4\n  /* data length */\n  + wvCencHeader.length,\n      pssh = new Uint8Array(length),\n      i = 0; // Set box length value (4 bytes)\n\n  pssh[i++] = 0;\n  pssh[i++] = 0;\n  pssh[i++] = 0;\n  pssh[i++] = length; // Set type ('pssh'), version (0) and flags (0)\n\n  pssh.set([0x70, 0x73, 0x73, 0x68, 0x00, 0x00, 0x00, 0x00], i);\n  i += 8; // Set SystemID ('edef8ba9-79d6-4ace-a3c8-27dcd51d21ed')\n\n  pssh.set([0xed, 0xef, 0x8b, 0xa9, 0x79, 0xd6, 0x4a, 0xce, 0xa3, 0xc8, 0x27, 0xdc, 0xd5, 0x1d, 0x21, 0xed], i);\n  i += 16; // Set data length value\n\n  pssh[i++] = 0;\n  pssh[i++] = 0;\n  pssh[i++] = 0;\n  pssh[i++] = wvCencHeader.length; // Copy Widevine CENC header\n\n  pssh.set(wvCencHeader, i); // Convert to BASE64 string\n\n  pssh = BASE64.fromByteArray(pssh);\n  return pssh;\n}\n\nmodule.exports = {\n  createWidevinePssh: createWidevinePssh\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMxMC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxNQUFNLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUF0Qjs7QUFFQSxTQUFTQyxrQkFBVCxDQUE2QkMsR0FBN0IsRUFBa0M7RUFDaEM7RUFDQSxJQUFJQyxZQUFZLEdBQUcsSUFBSUMsVUFBSixDQUFlLElBQUlGLEdBQUcsQ0FBQ0csTUFBdkIsQ0FBbkI7RUFDQUYsWUFBWSxDQUFDLENBQUQsQ0FBWixHQUFrQixJQUFsQjtFQUNBQSxZQUFZLENBQUMsQ0FBRCxDQUFaLEdBQWtCLElBQWxCO0VBQ0FBLFlBQVksQ0FBQ0csR0FBYixDQUFpQkosR0FBakIsRUFBc0IsQ0FBdEIsRUFMZ0MsQ0FPaEM7O0VBQ0EsSUFBSUcsTUFBTSxHQUFHO0VBQUc7RUFBSCxFQUErQztFQUFHO0VBQWxELEVBQW1FO0VBQUU7RUFBckUsRUFBeUZGLFlBQVksQ0FBQ0UsTUFBbkg7RUFBQSxJQUNJRSxJQUFJLEdBQUcsSUFBSUgsVUFBSixDQUFlQyxNQUFmLENBRFg7RUFBQSxJQUVJRyxDQUFDLEdBQUcsQ0FGUixDQVJnQyxDQVloQzs7RUFDQUQsSUFBSSxDQUFDQyxDQUFDLEVBQUYsQ0FBSixHQUFZLENBQVo7RUFDQUQsSUFBSSxDQUFDQyxDQUFDLEVBQUYsQ0FBSixHQUFZLENBQVo7RUFDQUQsSUFBSSxDQUFDQyxDQUFDLEVBQUYsQ0FBSixHQUFZLENBQVo7RUFDQUQsSUFBSSxDQUFDQyxDQUFDLEVBQUYsQ0FBSixHQUFZSCxNQUFaLENBaEJnQyxDQWtCaEM7O0VBQ0FFLElBQUksQ0FBQ0QsR0FBTCxDQUFTLENBQUMsSUFBRCxFQUFPLElBQVAsRUFBYSxJQUFiLEVBQW1CLElBQW5CLEVBQXlCLElBQXpCLEVBQStCLElBQS9CLEVBQXFDLElBQXJDLEVBQTJDLElBQTNDLENBQVQsRUFBMkRFLENBQTNEO0VBQ0FBLENBQUMsSUFBSSxDQUFMLENBcEJnQyxDQXNCaEM7O0VBQ0FELElBQUksQ0FBQ0QsR0FBTCxDQUFTLENBQUMsSUFBRCxFQUFPLElBQVAsRUFBYSxJQUFiLEVBQW1CLElBQW5CLEVBQTBCLElBQTFCLEVBQWdDLElBQWhDLEVBQXNDLElBQXRDLEVBQTRDLElBQTVDLEVBQWtELElBQWxELEVBQXdELElBQXhELEVBQThELElBQTlELEVBQW9FLElBQXBFLEVBQTBFLElBQTFFLEVBQWdGLElBQWhGLEVBQXNGLElBQXRGLEVBQTRGLElBQTVGLENBQVQsRUFBNEdFLENBQTVHO0VBQ0FBLENBQUMsSUFBSSxFQUFMLENBeEJnQyxDQTBCaEM7O0VBQ0FELElBQUksQ0FBQ0MsQ0FBQyxFQUFGLENBQUosR0FBWSxDQUFaO0VBQ0FELElBQUksQ0FBQ0MsQ0FBQyxFQUFGLENBQUosR0FBWSxDQUFaO0VBQ0FELElBQUksQ0FBQ0MsQ0FBQyxFQUFGLENBQUosR0FBWSxDQUFaO0VBQ0FELElBQUksQ0FBQ0MsQ0FBQyxFQUFGLENBQUosR0FBWUwsWUFBWSxDQUFDRSxNQUF6QixDQTlCZ0MsQ0FnQ2hDOztFQUNBRSxJQUFJLENBQUNELEdBQUwsQ0FBU0gsWUFBVCxFQUF1QkssQ0FBdkIsRUFqQ2dDLENBbUNoQzs7RUFDQUQsSUFBSSxHQUFHUixNQUFNLENBQUNVLGFBQVAsQ0FBcUJGLElBQXJCLENBQVA7RUFDQSxPQUFPQSxJQUFQO0FBQ0Q7O0FBRURHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmVixrQkFBa0IsRUFBRUE7QUFETCxDQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvcGFyc2VyL3Bzc2guanM/ZTQ2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IEJBU0U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpO1xuXG5mdW5jdGlvbiBjcmVhdGVXaWRldmluZVBzc2ggKEtJRCkge1xuICAvLyBDcmVhdGUgV2lkZXZpbmUgQ0VOQyBoZWFkZXIgKFByb3RvY29sIEJ1ZmZlcikgd2l0aCBLSUQgdmFsdWVcbiAgdmFyIHd2Q2VuY0hlYWRlciA9IG5ldyBVaW50OEFycmF5KDIgKyBLSUQubGVuZ3RoKTtcbiAgd3ZDZW5jSGVhZGVyWzBdID0gMHgxMjtcbiAgd3ZDZW5jSGVhZGVyWzFdID0gMHgxMDtcbiAgd3ZDZW5jSGVhZGVyLnNldChLSUQsIDIpO1xuXG4gIC8vIENyZWF0ZSBhIHBzc2ggYm94XG4gIHZhciBsZW5ndGggPSAxMiAvKiBib3ggbGVuZ3RoLCB0eXBlLCB2ZXJzaW9uIGFuZCBmbGFncyAqLyArIDE2IC8qIFN5c3RlbUlEICovICsgNCAvKiBkYXRhIGxlbmd0aCAqLyArIHd2Q2VuY0hlYWRlci5sZW5ndGgsXG4gICAgICBwc3NoID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKSxcbiAgICAgIGkgPSAwO1xuXG4gIC8vIFNldCBib3ggbGVuZ3RoIHZhbHVlICg0IGJ5dGVzKVxuICBwc3NoW2krK10gPSAwO1xuICBwc3NoW2krK10gPSAwO1xuICBwc3NoW2krK10gPSAwO1xuICBwc3NoW2krK10gPSBsZW5ndGg7XG5cbiAgLy8gU2V0IHR5cGUgKCdwc3NoJyksIHZlcnNpb24gKDApIGFuZCBmbGFncyAoMClcbiAgcHNzaC5zZXQoWzB4NzAsIDB4NzMsIDB4NzMsIDB4NjgsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDBdLCBpKTtcbiAgaSArPSA4O1xuXG4gIC8vIFNldCBTeXN0ZW1JRCAoJ2VkZWY4YmE5LTc5ZDYtNGFjZS1hM2M4LTI3ZGNkNTFkMjFlZCcpXG4gIHBzc2guc2V0KFsweGVkLCAweGVmLCAweDhiLCAweGE5LCAgMHg3OSwgMHhkNiwgMHg0YSwgMHhjZSwgMHhhMywgMHhjOCwgMHgyNywgMHhkYywgMHhkNSwgMHgxZCwgMHgyMSwgMHhlZF0sIGkpO1xuICBpICs9IDE2O1xuXG4gIC8vIFNldCBkYXRhIGxlbmd0aCB2YWx1ZVxuICBwc3NoW2krK10gPSAwO1xuICBwc3NoW2krK10gPSAwO1xuICBwc3NoW2krK10gPSAwO1xuICBwc3NoW2krK10gPSB3dkNlbmNIZWFkZXIubGVuZ3RoO1xuXG4gIC8vIENvcHkgV2lkZXZpbmUgQ0VOQyBoZWFkZXJcbiAgcHNzaC5zZXQod3ZDZW5jSGVhZGVyLCBpKTtcblxuICAvLyBDb252ZXJ0IHRvIEJBU0U2NCBzdHJpbmdcbiAgcHNzaCA9IEJBU0U2NC5mcm9tQnl0ZUFycmF5KHBzc2gpO1xuICByZXR1cm4gcHNzaDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZVdpZGV2aW5lUHNzaDogY3JlYXRlV2lkZXZpbmVQc3NoXG59XG4iXSwibmFtZXMiOlsiQkFTRTY0IiwicmVxdWlyZSIsImNyZWF0ZVdpZGV2aW5lUHNzaCIsIktJRCIsInd2Q2VuY0hlYWRlciIsIlVpbnQ4QXJyYXkiLCJsZW5ndGgiLCJzZXQiLCJwc3NoIiwiaSIsImZyb21CeXRlQXJyYXkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2310\n")},3188:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n\nvar ManifestNode_1 = __webpack_require__(2167);\n\nvar SegmentInformation_1 = __webpack_require__(4749);\n\nvar IsoDurationParser_1 = __webpack_require__(6052);\n\nvar RepresentationNode = function (_super) {\n  __extends(RepresentationNode, _super);\n\n  function RepresentationNode(node, xml) {\n    _super.call(this, node, xml);\n\n    this.markNodeForDownload(false);\n  }\n\n  RepresentationNode.prototype.createSegmentInformation = function () {\n    var presentationDuration = IsoDurationParser_1.IsoDurationParser.getDuration(this.attributeList['mediaPresentationDuration']);\n    var segmentTimeline;\n    var timelineItemList;\n    var segmentUrlList;\n    var representationID = this.attributeList['id'];\n\n    if (this.segmentTemplate && this.segmentTemplate.hasChildNodes()) {\n      for (var i = 0; i < this.segmentTemplate.childNodes.length; i++) {\n        if (this.segmentTemplate.childNodes[i].nodeName == \"SegmentTimeline\") {\n          segmentTimeline = this.segmentTemplate.childNodes[i];\n        }\n      }\n    }\n\n    try {\n      timelineItemList = segmentTimeline.getElementsByTagName('S');\n    } catch (e) {}\n\n    try {\n      segmentUrlList = this.segmentList.getElementsByTagName('SegmentURL');\n    } catch (e) {}\n\n    this.bandwidth = this.attributeList['bandwidth'] ? parseInt(this.attributeList['bandwidth']) : -1;\n    this.segmentInformation = new SegmentInformation_1.SegmentInformation(presentationDuration, this.bandwidth, this.baseURL, representationID, this.attributeList['mimeType'], this.segmentBase, this.segmentTemplate, segmentTimeline, timelineItemList, this.segmentList, segmentUrlList);\n  };\n\n  RepresentationNode.prototype.writeAttributesToList = function (node, list) {\n    var attrList = node.attributes;\n\n    for (var i = 0; i < node.childNodes.length; i++) {\n      if (!this.baseURL && node.childNodes[i].nodeName == 'BaseURL') {\n        this.baseURL = node.childNodes[i].firstChild.nodeValue;\n      }\n\n      if (!this.segmentBase && node.childNodes[i].nodeName == 'SegmentBase') {\n        this.segmentBase = node.childNodes[i];\n      }\n\n      if (!this.segmentTemplate && node.childNodes[i].nodeName == 'SegmentTemplate') {\n        this.segmentTemplate = node.childNodes[i];\n      }\n\n      if (!this.segmentList && node.childNodes[i].nodeName == 'SegmentList') {\n        this.segmentList = node.childNodes[i];\n      }\n    }\n\n    for (var attr in attrList) {\n      if (!list[attrList[attr].nodeName]) {\n        list[attrList[attr].nodeName] = attrList[attr].nodeValue;\n      }\n    }\n\n    if (list['mediaPresentationDuration'] !== undefined) {\n      list['durationInS'] = IsoDurationParser_1.IsoDurationParser.getDurationAsS(this.attributeList['mediaPresentationDuration']);\n    }\n\n    if (node.parentNode !== null) {\n      this.buildAttributeList(node.parentNode, list);\n    } else {\n      if (!this.segmentInformation) {\n        this.createSegmentInformation();\n      }\n    }\n\n    _super.prototype.writeAttributesToList.call(this, node, list);\n  };\n\n  RepresentationNode.prototype.getMimeType = function () {\n    return this.attributeList['mimeType'] || this.attributeList['contentType'];\n  };\n\n  RepresentationNode.prototype.hasMimeType = function () {\n    return this.attributeList['mimeType'] || this.attributeList['contentType'] ? true : false;\n  };\n\n  RepresentationNode.prototype.getMediaUrlList = function () {\n    return this.segmentInformation.getMediaUrlList();\n  };\n\n  RepresentationNode.prototype.getRepresentationId = function () {\n    return this.id;\n  };\n\n  return RepresentationNode;\n}(ManifestNode_1.ManifestNode);\n\nexports.RepresentationNode = RepresentationNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxDQWxDRDs7RUFtQ0EvQixrQkFBa0IsQ0FBQ1AsU0FBbkIsQ0FBNkJnRCxXQUE3QixHQUEyQyxZQUFZO0lBQ3JELE9BQU8sS0FBSy9CLGFBQUwsQ0FBbUIsVUFBbkIsS0FBa0MsS0FBS0EsYUFBTCxDQUFtQixhQUFuQixDQUF6QztFQUNELENBRkQ7O0VBR0FWLGtCQUFrQixDQUFDUCxTQUFuQixDQUE2QmlELFdBQTdCLEdBQTJDLFlBQVk7SUFDckQsT0FBTyxLQUFLaEMsYUFBTCxDQUFtQixVQUFuQixLQUFrQyxLQUFLQSxhQUFMLENBQW1CLGFBQW5CLENBQWxDLEdBQXNFLElBQXRFLEdBQTZFLEtBQXBGO0VBQ0QsQ0FGRDs7RUFHQVYsa0JBQWtCLENBQUNQLFNBQW5CLENBQTZCa0QsZUFBN0IsR0FBK0MsWUFBWTtJQUN6RCxPQUFPLEtBQUtqQixrQkFBTCxDQUF3QmlCLGVBQXhCLEVBQVA7RUFDRCxDQUZEOztFQUdBM0Msa0JBQWtCLENBQUNQLFNBQW5CLENBQTZCbUQsbUJBQTdCLEdBQW1ELFlBQVk7SUFDN0QsT0FBTyxLQUFLQyxFQUFaO0VBQ0QsQ0FGRDs7RUFHQSxPQUFPN0Msa0JBQVA7QUFDRCxDQTlFMkIsQ0E4RTFCSixjQUFjLENBQUNrRCxZQTlFVyxDQUE1Qjs7QUErRUFDLDBCQUFBLEdBQTZCL0Msa0JBQTdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9wYXJzZXIvcmVwcmVzZW50YXRpb24tbm9kZS5qcz9lZjE1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICBmb3IgKGxldCBwIGluIGIpIHtcbiAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICBkW3BdID0gYltwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gX18gKCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgIH1cblxuICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG5jb25zdCBNYW5pZmVzdE5vZGVfMSA9IHJlcXVpcmUoXCIuL21hbmlmZXN0LW5vZGVcIik7XG5jb25zdCBTZWdtZW50SW5mb3JtYXRpb25fMSA9IHJlcXVpcmUoXCIuL3NlZ21lbnQtaW5mb3JtYXRpb25cIik7XG5jb25zdCBJc29EdXJhdGlvblBhcnNlcl8xID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvSXNvLWR1cmF0aW9uLXBhcnNlclwiKTtcbmNvbnN0IFJlcHJlc2VudGF0aW9uTm9kZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhSZXByZXNlbnRhdGlvbk5vZGUsIF9zdXBlcik7XG4gIGZ1bmN0aW9uIFJlcHJlc2VudGF0aW9uTm9kZSAobm9kZSwgeG1sKSB7XG4gICAgX3N1cGVyLmNhbGwodGhpcywgbm9kZSwgeG1sKTtcbiAgICB0aGlzLm1hcmtOb2RlRm9yRG93bmxvYWQoZmFsc2UpO1xuICB9XG5cbiAgUmVwcmVzZW50YXRpb25Ob2RlLnByb3RvdHlwZS5jcmVhdGVTZWdtZW50SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcHJlc2VudGF0aW9uRHVyYXRpb24gPSBJc29EdXJhdGlvblBhcnNlcl8xLklzb0R1cmF0aW9uUGFyc2VyLmdldER1cmF0aW9uKFxuICAgICAgICB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21lZGlhUHJlc2VudGF0aW9uRHVyYXRpb24nXSk7XG4gICAgbGV0IHNlZ21lbnRUaW1lbGluZTtcbiAgICBsZXQgdGltZWxpbmVJdGVtTGlzdDtcbiAgICBsZXQgc2VnbWVudFVybExpc3Q7XG4gICAgY29uc3QgcmVwcmVzZW50YXRpb25JRCA9IHRoaXMuYXR0cmlidXRlTGlzdFsnaWQnXTtcbiAgICBpZiAodGhpcy5zZWdtZW50VGVtcGxhdGUgJiYgdGhpcy5zZWdtZW50VGVtcGxhdGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VnbWVudFRlbXBsYXRlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuc2VnbWVudFRlbXBsYXRlLmNoaWxkTm9kZXNbaV0ubm9kZU5hbWUgPT0gXCJTZWdtZW50VGltZWxpbmVcIikge1xuICAgICAgICAgIHNlZ21lbnRUaW1lbGluZSA9IHRoaXMuc2VnbWVudFRlbXBsYXRlLmNoaWxkTm9kZXNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHRpbWVsaW5lSXRlbUxpc3QgPSBzZWdtZW50VGltZWxpbmUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1MnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICBzZWdtZW50VXJsTGlzdCA9IHRoaXMuc2VnbWVudExpc3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1NlZ21lbnRVUkwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRoaXMuYmFuZHdpZHRoID0gKHRoaXMuYXR0cmlidXRlTGlzdFsnYmFuZHdpZHRoJ10pID8gcGFyc2VJbnQodGhpcy5hdHRyaWJ1dGVMaXN0WydiYW5kd2lkdGgnXSkgOiAtMTtcbiAgICB0aGlzLnNlZ21lbnRJbmZvcm1hdGlvbiA9IG5ldyBTZWdtZW50SW5mb3JtYXRpb25fMS5TZWdtZW50SW5mb3JtYXRpb24ocHJlc2VudGF0aW9uRHVyYXRpb24sIHRoaXMuYmFuZHdpZHRoLCB0aGlzLmJhc2VVUkwsIHJlcHJlc2VudGF0aW9uSUQsIHRoaXMuYXR0cmlidXRlTGlzdFsnbWltZVR5cGUnXSwgdGhpcy5zZWdtZW50QmFzZSwgdGhpcy5zZWdtZW50VGVtcGxhdGUsIHNlZ21lbnRUaW1lbGluZSwgdGltZWxpbmVJdGVtTGlzdCwgdGhpcy5zZWdtZW50TGlzdCwgc2VnbWVudFVybExpc3QpO1xuICB9O1xuICBSZXByZXNlbnRhdGlvbk5vZGUucHJvdG90eXBlLndyaXRlQXR0cmlidXRlc1RvTGlzdCA9IGZ1bmN0aW9uIChub2RlLCBsaXN0KSB7XG4gICAgY29uc3QgYXR0ckxpc3QgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5iYXNlVVJMICYmIG5vZGUuY2hpbGROb2Rlc1tpXS5ub2RlTmFtZSA9PSAnQmFzZVVSTCcpIHtcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gbm9kZS5jaGlsZE5vZGVzW2ldLmZpcnN0Q2hpbGQubm9kZVZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnNlZ21lbnRCYXNlICYmIG5vZGUuY2hpbGROb2Rlc1tpXS5ub2RlTmFtZSA9PSAnU2VnbWVudEJhc2UnKSB7XG4gICAgICAgIHRoaXMuc2VnbWVudEJhc2UgPSBub2RlLmNoaWxkTm9kZXNbaV07XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc2VnbWVudFRlbXBsYXRlICYmIG5vZGUuY2hpbGROb2Rlc1tpXS5ub2RlTmFtZSA9PSAnU2VnbWVudFRlbXBsYXRlJykge1xuICAgICAgICB0aGlzLnNlZ21lbnRUZW1wbGF0ZSA9IG5vZGUuY2hpbGROb2Rlc1tpXTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zZWdtZW50TGlzdCAmJiBub2RlLmNoaWxkTm9kZXNbaV0ubm9kZU5hbWUgPT0gJ1NlZ21lbnRMaXN0Jykge1xuICAgICAgICB0aGlzLnNlZ21lbnRMaXN0ID0gbm9kZS5jaGlsZE5vZGVzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBhdHRyIGluIGF0dHJMaXN0KSB7XG4gICAgICBpZiAoIWxpc3RbYXR0ckxpc3RbYXR0cl0ubm9kZU5hbWVdKSB7XG4gICAgICAgIGxpc3RbYXR0ckxpc3RbYXR0cl0ubm9kZU5hbWVdID0gYXR0ckxpc3RbYXR0cl0ubm9kZVZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGlzdFsnbWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxpc3RbJ2R1cmF0aW9uSW5TJ10gPSBJc29EdXJhdGlvblBhcnNlcl8xLklzb0R1cmF0aW9uUGFyc2VyLmdldER1cmF0aW9uQXNTKFxuICAgICAgICB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21lZGlhUHJlc2VudGF0aW9uRHVyYXRpb24nXSk7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5idWlsZEF0dHJpYnV0ZUxpc3Qobm9kZS5wYXJlbnROb2RlLCBsaXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLnNlZ21lbnRJbmZvcm1hdGlvbikge1xuICAgICAgICB0aGlzLmNyZWF0ZVNlZ21lbnRJbmZvcm1hdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgICBfc3VwZXIucHJvdG90eXBlLndyaXRlQXR0cmlidXRlc1RvTGlzdC5jYWxsKHRoaXMsIG5vZGUsIGxpc3QpO1xuICB9O1xuICBSZXByZXNlbnRhdGlvbk5vZGUucHJvdG90eXBlLmdldE1pbWVUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21pbWVUeXBlJ10gfHwgdGhpcy5hdHRyaWJ1dGVMaXN0Wydjb250ZW50VHlwZSddO1xuICB9O1xuICBSZXByZXNlbnRhdGlvbk5vZGUucHJvdG90eXBlLmhhc01pbWVUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21pbWVUeXBlJ10gfHwgdGhpcy5hdHRyaWJ1dGVMaXN0Wydjb250ZW50VHlwZSddID8gdHJ1ZSA6IGZhbHNlO1xuICB9O1xuICBSZXByZXNlbnRhdGlvbk5vZGUucHJvdG90eXBlLmdldE1lZGlhVXJsTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zZWdtZW50SW5mb3JtYXRpb24uZ2V0TWVkaWFVcmxMaXN0KCk7XG4gIH07XG4gIFJlcHJlc2VudGF0aW9uTm9kZS5wcm90b3R5cGUuZ2V0UmVwcmVzZW50YXRpb25JZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfTtcbiAgcmV0dXJuIFJlcHJlc2VudGF0aW9uTm9kZTtcbn0oTWFuaWZlc3ROb2RlXzEuTWFuaWZlc3ROb2RlKSk7XG5leHBvcnRzLlJlcHJlc2VudGF0aW9uTm9kZSA9IFJlcHJlc2VudGF0aW9uTm9kZTtcbiJdLCJuYW1lcyI6WyJfX2V4dGVuZHMiLCJkIiwiYiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJNYW5pZmVzdE5vZGVfMSIsInJlcXVpcmUiLCJTZWdtZW50SW5mb3JtYXRpb25fMSIsIklzb0R1cmF0aW9uUGFyc2VyXzEiLCJSZXByZXNlbnRhdGlvbk5vZGUiLCJfc3VwZXIiLCJub2RlIiwieG1sIiwiY2FsbCIsIm1hcmtOb2RlRm9yRG93bmxvYWQiLCJjcmVhdGVTZWdtZW50SW5mb3JtYXRpb24iLCJwcmVzZW50YXRpb25EdXJhdGlvbiIsIklzb0R1cmF0aW9uUGFyc2VyIiwiZ2V0RHVyYXRpb24iLCJhdHRyaWJ1dGVMaXN0Iiwic2VnbWVudFRpbWVsaW5lIiwidGltZWxpbmVJdGVtTGlzdCIsInNlZ21lbnRVcmxMaXN0IiwicmVwcmVzZW50YXRpb25JRCIsInNlZ21lbnRUZW1wbGF0ZSIsImhhc0NoaWxkTm9kZXMiLCJpIiwiY2hpbGROb2RlcyIsImxlbmd0aCIsIm5vZGVOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJlIiwic2VnbWVudExpc3QiLCJiYW5kd2lkdGgiLCJwYXJzZUludCIsInNlZ21lbnRJbmZvcm1hdGlvbiIsIlNlZ21lbnRJbmZvcm1hdGlvbiIsImJhc2VVUkwiLCJzZWdtZW50QmFzZSIsIndyaXRlQXR0cmlidXRlc1RvTGlzdCIsImxpc3QiLCJhdHRyTGlzdCIsImF0dHJpYnV0ZXMiLCJmaXJzdENoaWxkIiwibm9kZVZhbHVlIiwiYXR0ciIsInVuZGVmaW5lZCIsImdldER1cmF0aW9uQXNTIiwicGFyZW50Tm9kZSIsImJ1aWxkQXR0cmlidXRlTGlzdCIsImdldE1pbWVUeXBlIiwiaGFzTWltZVR5cGUiLCJnZXRNZWRpYVVybExpc3QiLCJnZXRSZXByZXNlbnRhdGlvbklkIiwiaWQiLCJNYW5pZmVzdE5vZGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3188\n")},4749:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nvar ZeroPadding_1 = __webpack_require__(9275);\n\nvar MediaUrl_1 = __webpack_require__(9786);\n\nvar CREATE_URL;\n\n(function (CREATE_URL) {\n  CREATE_URL[CREATE_URL["FROM_TEMPLATE"] = 0] = "FROM_TEMPLATE";\n  CREATE_URL[CREATE_URL["FROM_TIMELINE"] = 1] = "FROM_TIMELINE";\n  CREATE_URL[CREATE_URL["FROM_SEGMENTLIST"] = 2] = "FROM_SEGMENTLIST";\n  CREATE_URL[CREATE_URL["FROM_SEGMENT_BASE"] = 3] = "FROM_SEGMENT_BASE";\n})(CREATE_URL || (CREATE_URL = {}));\n\nvar SegmentInformation = function () {\n  function SegmentInformation(presentationDuration, bandwidth, baseUrl, representationID, mimeType, segmentBase, segmentTemplate, segmentTimeline, timelineItemList, segmentList, segmentUrlList) {\n    this.hasSegmentBase = false;\n    this.baseUrl = \'\';\n    this.presentationDuration = 0;\n    this.bandwidth = 0;\n    this.startNumber = 0;\n    this.mediaUrls = [];\n    this.whichUseCase = -1;\n    this.mimeType = \'\';\n    SegmentInformation.count += 1;\n    this.presentationDuration = presentationDuration;\n    this.mimeType = mimeType;\n\n    if (baseUrl) {\n      this.baseUrl = baseUrl;\n    }\n\n    if (bandwidth) {\n      this.bandwidth = bandwidth;\n    }\n\n    if (representationID) {\n      this.representationID = representationID;\n    }\n\n    if (segmentBase) {\n      this.segmentBase = segmentBase;\n      this.hasSegmentBase = true;\n      this.whichUseCase = CREATE_URL.FROM_SEGMENT_BASE;\n    }\n\n    if (segmentTemplate) {\n      this.segmentTemplate = segmentTemplate;\n      this.mediaTemplate = this.segmentTemplate.attributes.getNamedItem("media").nodeValue;\n      this.mediaTemplate = this.replace$RepresentationID$(this.mediaTemplate, this.representationID);\n      this.mediaTemplate = this.replace$Bandwidth$(this.mediaTemplate, this.bandwidth);\n      this.startNumber = this.segmentTemplate.attributes.getNamedItem("startNumber") ? parseInt(this.segmentTemplate.attributes.getNamedItem("startNumber").nodeValue) : 0;\n      this.whichUseCase = CREATE_URL.FROM_TEMPLATE;\n    }\n\n    if (segmentTimeline) {\n      this.segmentTimeline = segmentTimeline;\n    }\n\n    if (timelineItemList) {\n      this.timelineItemList = timelineItemList;\n      this.whichUseCase = CREATE_URL.FROM_TIMELINE;\n    }\n\n    if (segmentList) {\n      this.segmentList = segmentList;\n    }\n\n    if (segmentUrlList) {\n      this.segmentUrlList = segmentUrlList;\n      this.whichUseCase = CREATE_URL.FROM_SEGMENTLIST;\n    }\n\n    var hasFileExtension = false;\n    var initSegment = \'\';\n\n    switch (this.whichUseCase) {\n      case CREATE_URL.FROM_SEGMENTLIST:\n        this.createFragmentFromUrlList(this.segmentUrlList);\n        initSegment = this.createInitSegment(this.segmentList.getElementsByTagName(\'Initialization\')[0].attributes.getNamedItem("sourceURL").nodeValue);\n        this.mediaUrls.unshift(new MediaUrl_1.MediaUrl(this.baseUrl, initSegment, this.mimeType));\n\n        if (SegmentInformation.count == 0) {// console.log(\'CREATE_URL.FROM_SEGMENTLIST\', this.mediaUrls, this);\n        }\n\n        break;\n\n      case CREATE_URL.FROM_TIMELINE:\n        initSegment = this.createInitSegment(this.segmentTemplate.attributes.getNamedItem("initialization").nodeValue);\n        this.mediaUrls.unshift(new MediaUrl_1.MediaUrl(this.baseUrl, initSegment, this.mimeType));\n        this.createFragmentUrlsFromTimeline(this.timelineItemList);\n        break;\n\n      case CREATE_URL.FROM_SEGMENT_BASE:\n        try {\n          hasFileExtension = this.baseUrl.indexOf(\'.\') !== -1 ? true : false;\n        } catch (e) {}\n\n        if (hasFileExtension) {\n          this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, this.baseUrl, this.mimeType));\n        }\n\n        if (SegmentInformation.count == 0) {// console.log(\'CREATE_URL.FROM_SEGMENT_BASE\', this.mediaUrls, this);\n        }\n\n        break;\n\n      case CREATE_URL.FROM_TEMPLATE:\n        this.createFragmentsFromTemplate();\n        initSegment = this.createInitSegment(this.segmentTemplate.attributes.getNamedItem("initialization").nodeValue);\n        this.mediaUrls.unshift(new MediaUrl_1.MediaUrl(this.baseUrl, initSegment, this.mimeType));\n        break;\n\n      default:\n        try {\n          hasFileExtension = this.baseUrl.indexOf(\'.\') !== -1 ? true : false;\n        } catch (e) {}\n\n        if (hasFileExtension) {\n          this.mediaUrls.push(new MediaUrl_1.MediaUrl("", this.baseUrl, this.mimeType));\n        }\n\n    }\n  }\n\n  SegmentInformation.prototype.createFragmentUrlsFromTimeline = function (segmentNodes) {\n    var currentTime = this.segmentTemplate.attributes.getNamedItem("presentationTimeOffset");\n\n    if (currentTime) {\n      currentTime = parseInt(currentTime.nodeValue, 10);\n    } else {\n      currentTime = 0;\n    }\n\n    var hasCurrentTime = false;\n    var time = 0;\n\n    for (var i = 0; i < segmentNodes.length; i++) {\n      if (i > 0 && segmentNodes[i].attributes.getNamedItem("t") && segmentNodes[i].attributes.getNamedItem("t").nodeValue !== undefined) {\n        hasCurrentTime = true;\n        time = parseInt(segmentNodes[i].attributes.getNamedItem("t").nodeValue);\n      } else {\n        hasCurrentTime = false;\n      }\n\n      var duration = segmentNodes[i].attributes.getNamedItem("d") && segmentNodes[i].attributes.getNamedItem("d").nodeValue !== undefined ? parseInt(segmentNodes[i].attributes.getNamedItem("d").nodeValue) : 0;\n      var repeat = segmentNodes[i].attributes.getNamedItem("r") && segmentNodes[i].attributes.getNamedItem("r").nodeValue !== undefined ? parseInt(segmentNodes[i].attributes.getNamedItem("r").nodeValue) : 0;\n\n      for (var k = 1; k <= repeat; k++) {\n        var fragment_1 = this.segmentTemplate.attributes.getNamedItem("media").nodeValue;\n        fragment_1 = this.replace$RepresentationID$(fragment_1, this.representationID);\n        fragment_1 = this.replace$Time$(fragment_1, currentTime);\n        fragment_1 = this.replace$Bandwidth$(fragment_1, this.bandwidth);\n        this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment_1, this.mimeType));\n\n        if (!hasCurrentTime) {\n          currentTime += duration;\n        } else {\n          currentTime = time;\n        }\n      }\n\n      var fragment = this.segmentTemplate.attributes.getNamedItem("media").nodeValue;\n      fragment = this.replace$RepresentationID$(fragment, this.representationID);\n      fragment = this.replace$Time$(fragment, currentTime);\n      fragment = this.replace$Bandwidth$(fragment, this.bandwidth);\n      this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment, this.mimeType));\n\n      if (!hasCurrentTime) {\n        currentTime += duration;\n      } else {\n        currentTime = time;\n      }\n    }\n  };\n\n  SegmentInformation.prototype.createFragmentFromUrlList = function (urlListNodes) {\n    for (var i = 0; i < urlListNodes.length; i++) {\n      var fragment = urlListNodes[i].attributes.getNamedItem("media").nodeValue;\n      this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment, this.mimeType));\n    }\n  };\n\n  SegmentInformation.prototype.createFragmentsFromTemplate = function () {\n    var segmentDuration = parseInt(this.segmentTemplate.attributes.getNamedItem("duration").nodeValue);\n    var segmentTimescale = this.segmentTemplate.attributes.getNamedItem("timescale") ? parseInt(this.segmentTemplate.attributes.getNamedItem("timescale").nodeValue) : 1;\n    var numSegments = Math.ceil(this.presentationDuration / (segmentDuration / segmentTimescale) / 1000);\n    var mediaTemplateStringSegment = this.mediaTemplate.split(\'$\');\n    var templateReplaceableIndex;\n    var startNumber = this.startNumber || 0;\n\n    for (var k = 0; k < mediaTemplateStringSegment.length; k++) {\n      if (mediaTemplateStringSegment[k].indexOf(\'Number\') != -1) {\n        templateReplaceableIndex = \'$\' + mediaTemplateStringSegment[k] + \'$\';\n      }\n    }\n\n    var paddingAmount = ZeroPadding_1.ZeroPadding.getPaddingAmount(templateReplaceableIndex);\n\n    for (var i = startNumber; i < numSegments + startNumber; i++) {\n      var segmentIndex = ZeroPadding_1.ZeroPadding.addPadding(i, paddingAmount);\n      var fragment = void 0;\n\n      if (paddingAmount === 0) {\n        fragment = this.replace$Number$(this.mediaTemplate, i);\n      } else {\n        fragment = this.mediaTemplate.replace(templateReplaceableIndex, segmentIndex);\n      }\n\n      this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment, this.mimeType));\n    }\n  };\n\n  SegmentInformation.prototype.replace$RepresentationID$ = function (fragment, id) {\n    return fragment.replace(new RegExp(\'\\\\$RepresentationID\\\\$\', \'g\'), id);\n  };\n\n  SegmentInformation.prototype.replace$Number$ = function (fragment, num) {\n    return fragment.replace(new RegExp(\'\\\\$Number\\\\$\', \'g\'), num.toString());\n  };\n\n  SegmentInformation.prototype.replace$Bandwidth$ = function (fragment, bandwidth) {\n    return fragment.replace(new RegExp(\'\\\\$Bandwidth\\\\$\', \'g\'), bandwidth.toString());\n  };\n\n  SegmentInformation.prototype.replace$Time$ = function (fragment, currentIndex) {\n    return fragment.replace(new RegExp(\'\\\\$Time\\\\$\', \'g\'), currentIndex.toString());\n  };\n\n  SegmentInformation.prototype.createInitSegment = function (fragment) {\n    fragment = this.replace$Bandwidth$(fragment, this.bandwidth);\n    fragment = this.replace$RepresentationID$(fragment, this.representationID);\n    return fragment;\n  };\n\n  SegmentInformation.prototype.getMediaUrlList = function () {\n    return this.mediaUrls;\n  };\n\n  SegmentInformation.count = -1;\n  return SegmentInformation;\n}();\n\nexports.SegmentInformation = SegmentInformation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVEsR0FBRyxLQUFLOUIsa0JBQUwsQ0FBd0I4QixRQUF4QixFQUFrQyxLQUFLbkQsU0FBdkMsQ0FBWDtJQUNBbUQsUUFBUSxHQUFHLEtBQUsvQix5QkFBTCxDQUErQitCLFFBQS9CLEVBQXlDLEtBQUtqRCxnQkFBOUMsQ0FBWDtJQUNBLE9BQU9pRCxRQUFQO0VBQ0QsQ0FKRDs7RUFLQXJELGtCQUFrQixDQUFDd0MsU0FBbkIsQ0FBNkJtQyxlQUE3QixHQUErQyxZQUFZO0lBQ3pELE9BQU8sS0FBSzdELFNBQVo7RUFDRCxDQUZEOztFQUdBZCxrQkFBa0IsQ0FBQ2dCLEtBQW5CLEdBQTJCLENBQUMsQ0FBNUI7RUFDQSxPQUFPaEIsa0JBQVA7QUFDRCxDQXZNMkIsRUFBNUI7O0FBd01BNEUsMEJBQUEsR0FBNkI1RSxrQkFBN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L3BhcnNlci9zZWdtZW50LWluZm9ybWF0aW9uLmpzPzBmNTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBaZXJvUGFkZGluZ18xID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvemVyby1wYWRkaW5nXCIpO1xuY29uc3QgTWVkaWFVcmxfMSA9IHJlcXVpcmUoXCIuL21lZGlhLXVybFwiKTtcbmxldCBDUkVBVEVfVVJMO1xuKGZ1bmN0aW9uIChDUkVBVEVfVVJMKSB7XG4gIENSRUFURV9VUkxbQ1JFQVRFX1VSTFtcIkZST01fVEVNUExBVEVcIl0gPSAwXSA9IFwiRlJPTV9URU1QTEFURVwiO1xuICBDUkVBVEVfVVJMW0NSRUFURV9VUkxbXCJGUk9NX1RJTUVMSU5FXCJdID0gMV0gPSBcIkZST01fVElNRUxJTkVcIjtcbiAgQ1JFQVRFX1VSTFtDUkVBVEVfVVJMW1wiRlJPTV9TRUdNRU5UTElTVFwiXSA9IDJdID0gXCJGUk9NX1NFR01FTlRMSVNUXCI7XG4gIENSRUFURV9VUkxbQ1JFQVRFX1VSTFtcIkZST01fU0VHTUVOVF9CQVNFXCJdID0gM10gPSBcIkZST01fU0VHTUVOVF9CQVNFXCI7XG59KShDUkVBVEVfVVJMIHx8IChDUkVBVEVfVVJMID0ge30pKTtcbmNvbnN0IFNlZ21lbnRJbmZvcm1hdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNlZ21lbnRJbmZvcm1hdGlvbiAocHJlc2VudGF0aW9uRHVyYXRpb24sIGJhbmR3aWR0aCwgYmFzZVVybCwgcmVwcmVzZW50YXRpb25JRCwgbWltZVR5cGUsIHNlZ21lbnRCYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRUZW1wbGF0ZSwgc2VnbWVudFRpbWVsaW5lLCB0aW1lbGluZUl0ZW1MaXN0LCBzZWdtZW50TGlzdCwgc2VnbWVudFVybExpc3QpIHtcbiAgICB0aGlzLmhhc1NlZ21lbnRCYXNlID0gZmFsc2U7XG4gICAgdGhpcy5iYXNlVXJsID0gJyc7XG4gICAgdGhpcy5wcmVzZW50YXRpb25EdXJhdGlvbiA9IDA7XG4gICAgdGhpcy5iYW5kd2lkdGggPSAwO1xuICAgIHRoaXMuc3RhcnROdW1iZXIgPSAwO1xuICAgIHRoaXMubWVkaWFVcmxzID0gW107XG4gICAgdGhpcy53aGljaFVzZUNhc2UgPSAtMTtcbiAgICB0aGlzLm1pbWVUeXBlID0gJyc7XG4gICAgU2VnbWVudEluZm9ybWF0aW9uLmNvdW50ICs9IDE7XG4gICAgdGhpcy5wcmVzZW50YXRpb25EdXJhdGlvbiA9IHByZXNlbnRhdGlvbkR1cmF0aW9uO1xuICAgIHRoaXMubWltZVR5cGUgPSBtaW1lVHlwZTtcbiAgICBpZiAoYmFzZVVybCkge1xuICAgICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgICB9XG5cbiAgICBpZiAoYmFuZHdpZHRoKSB7XG4gICAgICB0aGlzLmJhbmR3aWR0aCA9IGJhbmR3aWR0aDtcbiAgICB9XG4gICAgaWYgKHJlcHJlc2VudGF0aW9uSUQpIHtcbiAgICAgIHRoaXMucmVwcmVzZW50YXRpb25JRCA9IHJlcHJlc2VudGF0aW9uSUQ7XG4gICAgfVxuICAgIGlmIChzZWdtZW50QmFzZSkge1xuICAgICAgdGhpcy5zZWdtZW50QmFzZSA9IHNlZ21lbnRCYXNlO1xuICAgICAgdGhpcy5oYXNTZWdtZW50QmFzZSA9IHRydWU7XG4gICAgICB0aGlzLndoaWNoVXNlQ2FzZSA9IENSRUFURV9VUkwuRlJPTV9TRUdNRU5UX0JBU0U7XG4gICAgfVxuICAgIGlmIChzZWdtZW50VGVtcGxhdGUpIHtcbiAgICAgIHRoaXMuc2VnbWVudFRlbXBsYXRlID0gc2VnbWVudFRlbXBsYXRlO1xuICAgICAgdGhpcy5tZWRpYVRlbXBsYXRlID0gdGhpcy5zZWdtZW50VGVtcGxhdGUuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJtZWRpYVwiKS5ub2RlVmFsdWU7XG4gICAgICB0aGlzLm1lZGlhVGVtcGxhdGUgPSB0aGlzLnJlcGxhY2UkUmVwcmVzZW50YXRpb25JRCQodGhpcy5tZWRpYVRlbXBsYXRlLCB0aGlzLnJlcHJlc2VudGF0aW9uSUQpO1xuICAgICAgdGhpcy5tZWRpYVRlbXBsYXRlID0gdGhpcy5yZXBsYWNlJEJhbmR3aWR0aCQodGhpcy5tZWRpYVRlbXBsYXRlLCB0aGlzLmJhbmR3aWR0aCk7XG4gICAgICB0aGlzLnN0YXJ0TnVtYmVyID0gKHRoaXMuc2VnbWVudFRlbXBsYXRlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwic3RhcnROdW1iZXJcIikpID8gcGFyc2VJbnQoXG4gICAgICAgICAgdGhpcy5zZWdtZW50VGVtcGxhdGUuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJzdGFydE51bWJlclwiKS5ub2RlVmFsdWUpIDogMDtcbiAgICAgIHRoaXMud2hpY2hVc2VDYXNlID0gQ1JFQVRFX1VSTC5GUk9NX1RFTVBMQVRFO1xuICAgIH1cbiAgICBpZiAoc2VnbWVudFRpbWVsaW5lKSB7XG4gICAgICB0aGlzLnNlZ21lbnRUaW1lbGluZSA9IHNlZ21lbnRUaW1lbGluZTtcbiAgICB9XG4gICAgaWYgKHRpbWVsaW5lSXRlbUxpc3QpIHtcbiAgICAgIHRoaXMudGltZWxpbmVJdGVtTGlzdCA9IHRpbWVsaW5lSXRlbUxpc3Q7XG4gICAgICB0aGlzLndoaWNoVXNlQ2FzZSA9IENSRUFURV9VUkwuRlJPTV9USU1FTElORTtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnRMaXN0KSB7XG4gICAgICB0aGlzLnNlZ21lbnRMaXN0ID0gc2VnbWVudExpc3Q7XG4gICAgfVxuICAgIGlmIChzZWdtZW50VXJsTGlzdCkge1xuICAgICAgdGhpcy5zZWdtZW50VXJsTGlzdCA9IHNlZ21lbnRVcmxMaXN0O1xuICAgICAgdGhpcy53aGljaFVzZUNhc2UgPSBDUkVBVEVfVVJMLkZST01fU0VHTUVOVExJU1Q7XG4gICAgfVxuICAgIGxldCBoYXNGaWxlRXh0ZW5zaW9uID0gZmFsc2U7XG4gICAgbGV0IGluaXRTZWdtZW50ID0gJyc7XG4gICAgc3dpdGNoICh0aGlzLndoaWNoVXNlQ2FzZSkge1xuICAgICAgY2FzZSBDUkVBVEVfVVJMLkZST01fU0VHTUVOVExJU1Q6XG4gICAgICAgIHRoaXMuY3JlYXRlRnJhZ21lbnRGcm9tVXJsTGlzdCh0aGlzLnNlZ21lbnRVcmxMaXN0KTtcbiAgICAgICAgaW5pdFNlZ21lbnQgPSB0aGlzLmNyZWF0ZUluaXRTZWdtZW50KFxuICAgICAgICAgICAgdGhpcy5zZWdtZW50TGlzdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnSW5pdGlhbGl6YXRpb24nKVswXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInNvdXJjZVVSTFwiKS5ub2RlVmFsdWUpO1xuICAgICAgICB0aGlzLm1lZGlhVXJscy51bnNoaWZ0KG5ldyBNZWRpYVVybF8xLk1lZGlhVXJsKHRoaXMuYmFzZVVybCwgaW5pdFNlZ21lbnQsIHRoaXMubWltZVR5cGUpKTtcbiAgICAgICAgaWYgKFNlZ21lbnRJbmZvcm1hdGlvbi5jb3VudCA9PSAwKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ0NSRUFURV9VUkwuRlJPTV9TRUdNRU5UTElTVCcsIHRoaXMubWVkaWFVcmxzLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBDUkVBVEVfVVJMLkZST01fVElNRUxJTkU6XG4gICAgICAgIGluaXRTZWdtZW50ID0gdGhpcy5jcmVhdGVJbml0U2VnbWVudCh0aGlzLnNlZ21lbnRUZW1wbGF0ZS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImluaXRpYWxpemF0aW9uXCIpLm5vZGVWYWx1ZSk7XG4gICAgICAgIHRoaXMubWVkaWFVcmxzLnVuc2hpZnQobmV3IE1lZGlhVXJsXzEuTWVkaWFVcmwodGhpcy5iYXNlVXJsLCBpbml0U2VnbWVudCwgdGhpcy5taW1lVHlwZSkpO1xuICAgICAgICB0aGlzLmNyZWF0ZUZyYWdtZW50VXJsc0Zyb21UaW1lbGluZSh0aGlzLnRpbWVsaW5lSXRlbUxpc3QpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBDUkVBVEVfVVJMLkZST01fU0VHTUVOVF9CQVNFOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIGhhc0ZpbGVFeHRlbnNpb24gPSAodGhpcy5iYXNlVXJsLmluZGV4T2YoJy4nKSAhPT0gLTEpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICBpZiAoaGFzRmlsZUV4dGVuc2lvbikge1xuICAgICAgICAgIHRoaXMubWVkaWFVcmxzLnB1c2gobmV3IE1lZGlhVXJsXzEuTWVkaWFVcmwodGhpcy5iYXNlVXJsLCB0aGlzLmJhc2VVcmwsIHRoaXMubWltZVR5cGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU2VnbWVudEluZm9ybWF0aW9uLmNvdW50ID09IDApIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQ1JFQVRFX1VSTC5GUk9NX1NFR01FTlRfQkFTRScsIHRoaXMubWVkaWFVcmxzLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBDUkVBVEVfVVJMLkZST01fVEVNUExBVEU6XG4gICAgICAgIHRoaXMuY3JlYXRlRnJhZ21lbnRzRnJvbVRlbXBsYXRlKCk7XG4gICAgICAgIGluaXRTZWdtZW50ID0gdGhpcy5jcmVhdGVJbml0U2VnbWVudCh0aGlzLnNlZ21lbnRUZW1wbGF0ZS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImluaXRpYWxpemF0aW9uXCIpLm5vZGVWYWx1ZSk7XG4gICAgICAgIHRoaXMubWVkaWFVcmxzLnVuc2hpZnQobmV3IE1lZGlhVXJsXzEuTWVkaWFVcmwodGhpcy5iYXNlVXJsLCBpbml0U2VnbWVudCwgdGhpcy5taW1lVHlwZSkpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBoYXNGaWxlRXh0ZW5zaW9uID0gKHRoaXMuYmFzZVVybC5pbmRleE9mKCcuJykgIT09IC0xKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgaWYgKGhhc0ZpbGVFeHRlbnNpb24pIHtcbiAgICAgICAgICB0aGlzLm1lZGlhVXJscy5wdXNoKG5ldyBNZWRpYVVybF8xLk1lZGlhVXJsKFwiXCIsIHRoaXMuYmFzZVVybCwgdGhpcy5taW1lVHlwZSkpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgU2VnbWVudEluZm9ybWF0aW9uLnByb3RvdHlwZS5jcmVhdGVGcmFnbWVudFVybHNGcm9tVGltZWxpbmUgPSBmdW5jdGlvbiAoc2VnbWVudE5vZGVzKSB7XG4gICAgbGV0IGN1cnJlbnRUaW1lID0gdGhpcy5zZWdtZW50VGVtcGxhdGUuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0XCIpO1xuICAgIGlmIChjdXJyZW50VGltZSkge1xuICAgICAgY3VycmVudFRpbWUgPSBwYXJzZUludChjdXJyZW50VGltZS5ub2RlVmFsdWUsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFRpbWUgPSAwO1xuICAgIH1cbiAgICBsZXQgaGFzQ3VycmVudFRpbWUgPSBmYWxzZTtcbiAgICBsZXQgdGltZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50Tm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpID4gMCAmJiBzZWdtZW50Tm9kZXNbaV0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJ0XCIpICYmIHNlZ21lbnROb2Rlc1tpXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcbiAgICAgICAgICAgICAgXCJ0XCIpLm5vZGVWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGhhc0N1cnJlbnRUaW1lID0gdHJ1ZTtcbiAgICAgICAgdGltZSA9IHBhcnNlSW50KHNlZ21lbnROb2Rlc1tpXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInRcIikubm9kZVZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc0N1cnJlbnRUaW1lID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IChzZWdtZW50Tm9kZXNbaV0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJkXCIpICYmIHNlZ21lbnROb2Rlc1tpXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcbiAgICAgICAgICBcImRcIikubm9kZVZhbHVlICE9PSB1bmRlZmluZWQpID8gcGFyc2VJbnQoc2VnbWVudE5vZGVzW2ldLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiZFwiKS5ub2RlVmFsdWUpIDogMDtcbiAgICAgIGNvbnN0IHJlcGVhdCA9IChzZWdtZW50Tm9kZXNbaV0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJyXCIpICYmIHNlZ21lbnROb2Rlc1tpXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcbiAgICAgICAgICBcInJcIikubm9kZVZhbHVlICE9PSB1bmRlZmluZWQpID8gcGFyc2VJbnQoc2VnbWVudE5vZGVzW2ldLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiclwiKS5ub2RlVmFsdWUpIDogMDtcbiAgICAgIGZvciAobGV0IGsgPSAxOyBrIDw9IHJlcGVhdDsgaysrKSB7XG4gICAgICAgIGxldCBmcmFnbWVudF8xID0gdGhpcy5zZWdtZW50VGVtcGxhdGUuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJtZWRpYVwiKS5ub2RlVmFsdWU7XG4gICAgICAgIGZyYWdtZW50XzEgPSB0aGlzLnJlcGxhY2UkUmVwcmVzZW50YXRpb25JRCQoZnJhZ21lbnRfMSwgdGhpcy5yZXByZXNlbnRhdGlvbklEKTtcbiAgICAgICAgZnJhZ21lbnRfMSA9IHRoaXMucmVwbGFjZSRUaW1lJChmcmFnbWVudF8xLCBjdXJyZW50VGltZSk7XG4gICAgICAgIGZyYWdtZW50XzEgPSB0aGlzLnJlcGxhY2UkQmFuZHdpZHRoJChmcmFnbWVudF8xLCB0aGlzLmJhbmR3aWR0aCk7XG5cbiAgICAgICAgdGhpcy5tZWRpYVVybHMucHVzaChuZXcgTWVkaWFVcmxfMS5NZWRpYVVybCh0aGlzLmJhc2VVcmwsIGZyYWdtZW50XzEsIHRoaXMubWltZVR5cGUpKTtcbiAgICAgICAgaWYgKCFoYXNDdXJyZW50VGltZSkge1xuICAgICAgICAgIGN1cnJlbnRUaW1lICs9IGR1cmF0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnRUaW1lID0gdGltZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGZyYWdtZW50ID0gdGhpcy5zZWdtZW50VGVtcGxhdGUuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJtZWRpYVwiKS5ub2RlVmFsdWU7XG4gICAgICBmcmFnbWVudCA9IHRoaXMucmVwbGFjZSRSZXByZXNlbnRhdGlvbklEJChmcmFnbWVudCwgdGhpcy5yZXByZXNlbnRhdGlvbklEKTtcbiAgICAgIGZyYWdtZW50ID0gdGhpcy5yZXBsYWNlJFRpbWUkKGZyYWdtZW50LCBjdXJyZW50VGltZSk7XG4gICAgICBmcmFnbWVudCA9IHRoaXMucmVwbGFjZSRCYW5kd2lkdGgkKGZyYWdtZW50LCB0aGlzLmJhbmR3aWR0aCk7XG5cbiAgICAgIHRoaXMubWVkaWFVcmxzLnB1c2gobmV3IE1lZGlhVXJsXzEuTWVkaWFVcmwodGhpcy5iYXNlVXJsLCBmcmFnbWVudCwgdGhpcy5taW1lVHlwZSkpO1xuICAgICAgaWYgKCFoYXNDdXJyZW50VGltZSkge1xuICAgICAgICBjdXJyZW50VGltZSArPSBkdXJhdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRUaW1lID0gdGltZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFNlZ21lbnRJbmZvcm1hdGlvbi5wcm90b3R5cGUuY3JlYXRlRnJhZ21lbnRGcm9tVXJsTGlzdCA9IGZ1bmN0aW9uICh1cmxMaXN0Tm9kZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVybExpc3ROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSB1cmxMaXN0Tm9kZXNbaV0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJtZWRpYVwiKS5ub2RlVmFsdWU7XG4gICAgICB0aGlzLm1lZGlhVXJscy5wdXNoKG5ldyBNZWRpYVVybF8xLk1lZGlhVXJsKHRoaXMuYmFzZVVybCwgZnJhZ21lbnQsIHRoaXMubWltZVR5cGUpKTtcbiAgICB9XG4gIH07XG4gIFNlZ21lbnRJbmZvcm1hdGlvbi5wcm90b3R5cGUuY3JlYXRlRnJhZ21lbnRzRnJvbVRlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNlZ21lbnREdXJhdGlvbiA9IHBhcnNlSW50KHRoaXMuc2VnbWVudFRlbXBsYXRlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiZHVyYXRpb25cIikubm9kZVZhbHVlKTtcbiAgICBjb25zdCBzZWdtZW50VGltZXNjYWxlID0gKHRoaXMuc2VnbWVudFRlbXBsYXRlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwidGltZXNjYWxlXCIpKSA/IHBhcnNlSW50KFxuICAgICAgICB0aGlzLnNlZ21lbnRUZW1wbGF0ZS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInRpbWVzY2FsZVwiKS5ub2RlVmFsdWUpIDogMTtcbiAgICBjb25zdCBudW1TZWdtZW50cyA9IE1hdGguY2VpbCh0aGlzLnByZXNlbnRhdGlvbkR1cmF0aW9uIC8gKHNlZ21lbnREdXJhdGlvbiAvIHNlZ21lbnRUaW1lc2NhbGUpIC8gMTAwMCk7XG4gICAgY29uc3QgbWVkaWFUZW1wbGF0ZVN0cmluZ1NlZ21lbnQgPSB0aGlzLm1lZGlhVGVtcGxhdGUuc3BsaXQoJyQnKTtcbiAgICBsZXQgdGVtcGxhdGVSZXBsYWNlYWJsZUluZGV4O1xuICAgIGNvbnN0IHN0YXJ0TnVtYmVyID0gdGhpcy5zdGFydE51bWJlciB8fCAwO1xuICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbWVkaWFUZW1wbGF0ZVN0cmluZ1NlZ21lbnQubGVuZ3RoOyBrKyspIHtcbiAgICAgIGlmIChtZWRpYVRlbXBsYXRlU3RyaW5nU2VnbWVudFtrXS5pbmRleE9mKCdOdW1iZXInKSAhPSAtMSkge1xuICAgICAgICB0ZW1wbGF0ZVJlcGxhY2VhYmxlSW5kZXggPSAnJCcgKyBtZWRpYVRlbXBsYXRlU3RyaW5nU2VnbWVudFtrXSArICckJztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGFkZGluZ0Ftb3VudCA9IFplcm9QYWRkaW5nXzEuWmVyb1BhZGRpbmcuZ2V0UGFkZGluZ0Ftb3VudCh0ZW1wbGF0ZVJlcGxhY2VhYmxlSW5kZXgpO1xuICAgIGZvciAobGV0IGkgPSBzdGFydE51bWJlcjsgaSA8IG51bVNlZ21lbnRzICsgc3RhcnROdW1iZXI7IGkrKykge1xuICAgICAgY29uc3Qgc2VnbWVudEluZGV4ID0gWmVyb1BhZGRpbmdfMS5aZXJvUGFkZGluZy5hZGRQYWRkaW5nKGksIHBhZGRpbmdBbW91bnQpO1xuICAgICAgbGV0IGZyYWdtZW50O1xuICAgICAgaWYgKHBhZGRpbmdBbW91bnQgPT09IDApIHtcbiAgICAgICAgZnJhZ21lbnQgPSB0aGlzLnJlcGxhY2UkTnVtYmVyJCh0aGlzLm1lZGlhVGVtcGxhdGUsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhZ21lbnQgPSB0aGlzLm1lZGlhVGVtcGxhdGUucmVwbGFjZSh0ZW1wbGF0ZVJlcGxhY2VhYmxlSW5kZXgsIHNlZ21lbnRJbmRleCk7XG4gICAgICB9XG4gICAgICB0aGlzLm1lZGlhVXJscy5wdXNoKG5ldyBNZWRpYVVybF8xLk1lZGlhVXJsKHRoaXMuYmFzZVVybCwgZnJhZ21lbnQsIHRoaXMubWltZVR5cGUpKTtcbiAgICB9XG4gIH07XG4gIFNlZ21lbnRJbmZvcm1hdGlvbi5wcm90b3R5cGUucmVwbGFjZSRSZXByZXNlbnRhdGlvbklEJCA9IGZ1bmN0aW9uIChmcmFnbWVudCwgaWQpIHtcbiAgICByZXR1cm4gZnJhZ21lbnQucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcJFJlcHJlc2VudGF0aW9uSURcXFxcJCcsICdnJyksIGlkKTtcbiAgfTtcbiAgU2VnbWVudEluZm9ybWF0aW9uLnByb3RvdHlwZS5yZXBsYWNlJE51bWJlciQgPSBmdW5jdGlvbiAoZnJhZ21lbnQsIG51bSkge1xuICAgIHJldHVybiBmcmFnbWVudC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFwkTnVtYmVyXFxcXCQnLCAnZycpLCBudW0udG9TdHJpbmcoKSk7XG4gIH07XG4gIFNlZ21lbnRJbmZvcm1hdGlvbi5wcm90b3R5cGUucmVwbGFjZSRCYW5kd2lkdGgkID0gZnVuY3Rpb24gKGZyYWdtZW50LCBiYW5kd2lkdGgpIHtcbiAgICByZXR1cm4gZnJhZ21lbnQucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcJEJhbmR3aWR0aFxcXFwkJywgJ2cnKSwgYmFuZHdpZHRoLnRvU3RyaW5nKCkpO1xuICB9O1xuICBTZWdtZW50SW5mb3JtYXRpb24ucHJvdG90eXBlLnJlcGxhY2UkVGltZSQgPSBmdW5jdGlvbiAoZnJhZ21lbnQsIGN1cnJlbnRJbmRleCkge1xuICAgIHJldHVybiBmcmFnbWVudC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFwkVGltZVxcXFwkJywgJ2cnKSwgY3VycmVudEluZGV4LnRvU3RyaW5nKCkpO1xuICB9O1xuICBTZWdtZW50SW5mb3JtYXRpb24ucHJvdG90eXBlLmNyZWF0ZUluaXRTZWdtZW50ID0gZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgZnJhZ21lbnQgPSB0aGlzLnJlcGxhY2UkQmFuZHdpZHRoJChmcmFnbWVudCwgdGhpcy5iYW5kd2lkdGgpO1xuICAgIGZyYWdtZW50ID0gdGhpcy5yZXBsYWNlJFJlcHJlc2VudGF0aW9uSUQkKGZyYWdtZW50LCB0aGlzLnJlcHJlc2VudGF0aW9uSUQpO1xuICAgIHJldHVybiBmcmFnbWVudDtcbiAgfTtcbiAgU2VnbWVudEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRNZWRpYVVybExpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWVkaWFVcmxzO1xuICB9O1xuICBTZWdtZW50SW5mb3JtYXRpb24uY291bnQgPSAtMTtcbiAgcmV0dXJuIFNlZ21lbnRJbmZvcm1hdGlvbjtcbn0oKSk7XG5leHBvcnRzLlNlZ21lbnRJbmZvcm1hdGlvbiA9IFNlZ21lbnRJbmZvcm1hdGlvbjtcbiJdLCJuYW1lcyI6WyJaZXJvUGFkZGluZ18xIiwicmVxdWlyZSIsIk1lZGlhVXJsXzEiLCJDUkVBVEVfVVJMIiwiU2VnbWVudEluZm9ybWF0aW9uIiwicHJlc2VudGF0aW9uRHVyYXRpb24iLCJiYW5kd2lkdGgiLCJiYXNlVXJsIiwicmVwcmVzZW50YXRpb25JRCIsIm1pbWVUeXBlIiwic2VnbWVudEJhc2UiLCJzZWdtZW50VGVtcGxhdGUiLCJzZWdtZW50VGltZWxpbmUiLCJ0aW1lbGluZUl0ZW1MaXN0Iiwic2VnbWVudExpc3QiLCJzZWdtZW50VXJsTGlzdCIsImhhc1NlZ21lbnRCYXNlIiwic3RhcnROdW1iZXIiLCJtZWRpYVVybHMiLCJ3aGljaFVzZUNhc2UiLCJjb3VudCIsIkZST01fU0VHTUVOVF9CQVNFIiwibWVkaWFUZW1wbGF0ZSIsImF0dHJpYnV0ZXMiLCJnZXROYW1lZEl0ZW0iLCJub2RlVmFsdWUiLCJyZXBsYWNlJFJlcHJlc2VudGF0aW9uSUQkIiwicmVwbGFjZSRCYW5kd2lkdGgkIiwicGFyc2VJbnQiLCJGUk9NX1RFTVBMQVRFIiwiRlJPTV9USU1FTElORSIsIkZST01fU0VHTUVOVExJU1QiLCJoYXNGaWxlRXh0ZW5zaW9uIiwiaW5pdFNlZ21lbnQiLCJjcmVhdGVGcmFnbWVudEZyb21VcmxMaXN0IiwiY3JlYXRlSW5pdFNlZ21lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInVuc2hpZnQiLCJNZWRpYVVybCIsImNyZWF0ZUZyYWdtZW50VXJsc0Zyb21UaW1lbGluZSIsImluZGV4T2YiLCJlIiwicHVzaCIsImNyZWF0ZUZyYWdtZW50c0Zyb21UZW1wbGF0ZSIsInByb3RvdHlwZSIsInNlZ21lbnROb2RlcyIsImN1cnJlbnRUaW1lIiwiaGFzQ3VycmVudFRpbWUiLCJ0aW1lIiwiaSIsImxlbmd0aCIsInVuZGVmaW5lZCIsImR1cmF0aW9uIiwicmVwZWF0IiwiayIsImZyYWdtZW50XzEiLCJyZXBsYWNlJFRpbWUkIiwiZnJhZ21lbnQiLCJ1cmxMaXN0Tm9kZXMiLCJzZWdtZW50RHVyYXRpb24iLCJzZWdtZW50VGltZXNjYWxlIiwibnVtU2VnbWVudHMiLCJNYXRoIiwiY2VpbCIsIm1lZGlhVGVtcGxhdGVTdHJpbmdTZWdtZW50Iiwic3BsaXQiLCJ0ZW1wbGF0ZVJlcGxhY2VhYmxlSW5kZXgiLCJwYWRkaW5nQW1vdW50IiwiWmVyb1BhZGRpbmciLCJnZXRQYWRkaW5nQW1vdW50Iiwic2VnbWVudEluZGV4IiwiYWRkUGFkZGluZyIsInJlcGxhY2UkTnVtYmVyJCIsInJlcGxhY2UiLCJpZCIsIlJlZ0V4cCIsIm51bSIsInRvU3RyaW5nIiwiY3VycmVudEluZGV4IiwiZ2V0TWVkaWFVcmxMaXN0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4749\n')},9837:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("/*eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"info\", \"log\"] }] */\n\n/*eslint no-sync: [\"off\"]*/\n\n\nvar isPortTaken = __webpack_require__(3721);\n\nvar path = __webpack_require__(1017);\n\nvar fs = __webpack_require__(7147);\n\nvar fork = (__webpack_require__(2081).fork);\n\nvar appSettings = __webpack_require__(9277);\n\nvar _require = __webpack_require__(7194),\n    app = _require.app;\n\nvar CHILD_SCRIPT_FILENAME = 'startServer.js';\n/**\n * Offline content server\n * @param {object} offlineController : offline controller\n * @param {object} downloadController : download controller\n * @param {string} maxOfflineContentPortRange - max range for offline port to on which content can be served\n * @param {string} offlineContentPort - on which port offline content should be served, default is 3010\n * @constructor\n */\n\nfunction OfflineContentServer(offlineController, downloadController, maxOfflineContentPortRange, offlineContentPort) {\n  this._offlineController = offlineController;\n  this._downloadController = downloadController;\n  this._maxOfflineContentPortRange = maxOfflineContentPortRange;\n  this._offlineContentPort = offlineContentPort;\n  this.childProcess = undefined;\n}\n/**\n * Start http server in a child_process\n * @param {object} port : on which port offline content should be served, default is 3010\n * @param {object} callback : a callback function to get listen port (if default is already taken)\n * @constructor\n */\n\n\nOfflineContentServer.prototype._startServer = function (port, callback) {\n  var self = this; // NOTE: this is so ugly FIXME\n\n  var serverPath = path.join(app.getAppPath(), 'node_modules/downstream-electron');\n\n  if (!fs.existsSync(path.join(serverPath, CHILD_SCRIPT_FILENAME))) {\n    serverPath = path.join(app.getAppPath(), 'node_modules/downstream-electron/api/server');\n\n    if (!fs.existsSync(path.join(serverPath, CHILD_SCRIPT_FILENAME))) {\n      serverPath = app.getAppPath();\n\n      if (!fs.existsSync(path.join(serverPath, CHILD_SCRIPT_FILENAME))) {\n        serverPath = __dirname;\n      }\n    }\n  }\n\n  console.log('Server Path:', serverPath);\n  var script = path.join(serverPath, CHILD_SCRIPT_FILENAME);\n  console.log('Script for server:', script); //  FOR DEBUG PURPOSE self.childProcess = fork(script ,[],{execArgv:['--inspect=5860']});\n\n  self.childProcess = fork(script, []);\n  var routeName = appSettings.getSettings().downloadsName; // send init data for http server\n\n  var data = {\n    cmd: 'init',\n    routeName: routeName,\n    port: port\n  };\n  self.childProcess.send(data);\n  self.childProcess.on('error', function (err) {\n    console.error(err);\n  }); // handles message from child process\n\n  self.childProcess.on('message', function (data) {\n    if (data.cmd === 'log') {\n      // http server wants to log some data\n      console.log(data.log);\n    }\n\n    if (data.cmd === 'listening_port') {\n      // http server is listening => notify application for listen port\n      callback(data.port);\n    }\n\n    if (data.cmd === 'get_info') {\n      var requestId = data.requestId; // http server asks data folder for manifest id\n\n      var manifestId = data.args.manifest;\n\n      self._offlineController.getManifestInfo(manifestId, function (err, info) {\n        if (err) {\n          return self.childProcess.send({\n            error: err,\n            requestId: requestId\n          });\n        }\n\n        var downloadFolder = info.manifest.folder;\n\n        if (!downloadFolder) {\n          // try to serve from default download folder\n          downloadFolder = appSettings.getSettings().downloadsFolderPath;\n        } // send response back\n\n\n        return self.childProcess.send({\n          status: 'OK',\n          requestId: requestId,\n          result: {\n            folder: downloadFolder,\n            status: info.status\n          }\n        });\n      });\n    }\n\n    if (data.cmd === 'is_downloading') {\n      var _requestId = data.requestId;\n      var _manifestId = data.args.manifest;\n      var file = data.args.file;\n\n      var download = self._downloadController.getDownloading(_manifestId, file);\n\n      var downloadedCallback = function downloadedCallback(err) {\n        if (err) {\n          return self.childProcess.send({\n            error: err,\n            requestId: _requestId\n          });\n        }\n\n        return self.childProcess.send({\n          status: 'OK',\n          requestId: _requestId\n        });\n      };\n\n      if (download) {\n        // file is created but being downloading => wait for download before sending result\n        self._downloadController.waitForDownload(download, downloadedCallback);\n      } else {\n        return downloadedCallback();\n      }\n    }\n\n    if (data.cmd === 'perform_seek') {\n      var _requestId2 = data.requestId;\n      var _manifestId2 = data.args.manifest;\n      var _file = data.args.file;\n\n      var _downloadedCallback = function _downloadedCallback(err) {\n        if (err) {\n          return self.childProcess.send({\n            error: err,\n            requestId: _requestId2\n          });\n        }\n\n        return self.childProcess.send({\n          status: 'OK',\n          requestId: _requestId2\n        });\n      };\n\n      self._downloadController.performSeek(_manifestId2, _file, _downloadedCallback);\n    }\n  });\n  self.childProcess.on('close', function (code, signal) {\n    // child has closed\n    if (code == null) {\n      console.log('Child process closed with signal:', signal);\n    } else {\n      console.log('Child process closed with code:', code);\n    }\n  });\n};\n/**\n * @param {Function} callback - a callback function to get listen port (if default is taken)\n * @constructor\n */\n\n\nOfflineContentServer.prototype.serveOfflineContent = function (callback) {\n  var self = this;\n\n  function startOnPort(port) {\n    if (port > self._maxOfflineContentPortRange) {\n      return;\n    }\n\n    isPortTaken(port, function (err) {\n      if (err) {\n        port++;\n        startOnPort(port);\n      } else {\n        console.log('Port found:', port);\n\n        self._startServer(port, function () {\n          self._offlineContentPort = port;\n          callback(self._offlineContentPort);\n          console.info('Offline content served on port:', port);\n        });\n      }\n    });\n  }\n\n  startOnPort(this._offlineContentPort);\n};\n/*\n * Stop server process\n * @returns\n */\n\n\nOfflineContentServer.prototype.stop = function () {\n  this.childProcess.kill('SIGTERM');\n};\n\nmodule.exports = OfflineContentServer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTgzNy5qcyIsIm1hcHBpbmdzIjoiQUFBQTs7QUFDQTtBQUNhOztBQUViLElBQU1BLFdBQVcsR0FBR0MsbUJBQU8sQ0FBQyxJQUFELENBQTNCOztBQUNBLElBQU1DLElBQUksR0FBR0QsbUJBQU8sQ0FBQyxJQUFELENBQXBCOztBQUNBLElBQU1FLEVBQUUsR0FBR0YsbUJBQU8sQ0FBQyxJQUFELENBQWxCOztBQUNBLElBQUlHLElBQUksR0FBR0gsZ0NBQVg7O0FBQ0EsSUFBTUksV0FBVyxHQUFHSixtQkFBTyxDQUFDLElBQUQsQ0FBM0I7O0FBQ0EsZUFBY0EsbUJBQU8sQ0FBQyxJQUFELENBQXJCO0FBQUEsSUFBT0ssR0FBUCxZQUFPQSxHQUFQOztBQUVBLElBQU1DLHFCQUFxQixHQUFHLGdCQUE5QjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsU0FBU0Msb0JBQVQsQ0FBK0JDLGlCQUEvQixFQUFrREMsa0JBQWxELEVBQXNFQywwQkFBdEUsRUFBa0dDLGtCQUFsRyxFQUFzSDtFQUNwSCxLQUFLQyxrQkFBTCxHQUEwQkosaUJBQTFCO0VBQ0EsS0FBS0ssbUJBQUwsR0FBMkJKLGtCQUEzQjtFQUNBLEtBQUtLLDJCQUFMLEdBQW1DSiwwQkFBbkM7RUFDQSxLQUFLSyxtQkFBTCxHQUEyQkosa0JBQTNCO0VBQ0EsS0FBS0ssWUFBTCxHQUFvQkMsU0FBcEI7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FWLG9CQUFvQixDQUFDVyxTQUFyQixDQUErQkMsWUFBL0IsR0FBOEMsVUFBVUMsSUFBVixFQUFnQkMsUUFBaEIsRUFBMEI7RUFDdEUsSUFBSUMsSUFBSSxHQUFHLElBQVgsQ0FEc0UsQ0FHdEU7O0VBQ0EsSUFBSUMsVUFBVSxHQUFHdEIsSUFBSSxDQUFDdUIsSUFBTCxDQUFVbkIsR0FBRyxDQUFDb0IsVUFBSixFQUFWLEVBQTRCLGtDQUE1QixDQUFqQjs7RUFDQSxJQUFJLENBQUN2QixFQUFFLENBQUN3QixVQUFILENBQWN6QixJQUFJLENBQUN1QixJQUFMLENBQVVELFVBQVYsRUFBc0JqQixxQkFBdEIsQ0FBZCxDQUFMLEVBQWtFO0lBQ2hFaUIsVUFBVSxHQUFHdEIsSUFBSSxDQUFDdUIsSUFBTCxDQUFVbkIsR0FBRyxDQUFDb0IsVUFBSixFQUFWLEVBQTRCLDZDQUE1QixDQUFiOztJQUNBLElBQUksQ0FBQ3ZCLEVBQUUsQ0FBQ3dCLFVBQUgsQ0FBY3pCLElBQUksQ0FBQ3VCLElBQUwsQ0FBVUQsVUFBVixFQUFzQmpCLHFCQUF0QixDQUFkLENBQUwsRUFBa0U7TUFDaEVpQixVQUFVLEdBQUdsQixHQUFHLENBQUNvQixVQUFKLEVBQWI7O01BQ0EsSUFBSSxDQUFDdkIsRUFBRSxDQUFDd0IsVUFBSCxDQUFjekIsSUFBSSxDQUFDdUIsSUFBTCxDQUFVRCxVQUFWLEVBQXNCakIscUJBQXRCLENBQWQsQ0FBTCxFQUFrRTtRQUNoRWlCLFVBQVUsR0FBR0ksU0FBYjtNQUNEO0lBQ0Y7RUFDRjs7RUFFREMsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWixFQUE0Qk4sVUFBNUI7RUFDQSxJQUFJTyxNQUFNLEdBQUc3QixJQUFJLENBQUN1QixJQUFMLENBQVVELFVBQVYsRUFBc0JqQixxQkFBdEIsQ0FBYjtFQUNBc0IsT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQVosRUFBa0NDLE1BQWxDLEVBakJzRSxDQW1CdEU7O0VBQ0FSLElBQUksQ0FBQ04sWUFBTCxHQUFvQmIsSUFBSSxDQUFDMkIsTUFBRCxFQUFTLEVBQVQsQ0FBeEI7RUFDQSxJQUFJQyxTQUFTLEdBQUczQixXQUFXLENBQUM0QixXQUFaLEdBQTBCQyxhQUExQyxDQXJCc0UsQ0F1QnRFOztFQUNBLElBQUlDLElBQUksR0FBRztJQUNUQyxHQUFHLEVBQUUsTUFESTtJQUVUSixTQUFTLEVBQUVBLFNBRkY7SUFHVFgsSUFBSSxFQUFFQTtFQUhHLENBQVg7RUFLQUUsSUFBSSxDQUFDTixZQUFMLENBQWtCb0IsSUFBbEIsQ0FBdUJGLElBQXZCO0VBRUFaLElBQUksQ0FBQ04sWUFBTCxDQUFrQnFCLEVBQWxCLENBQXFCLE9BQXJCLEVBQThCLFVBQVVDLEdBQVYsRUFBZTtJQUMzQ1YsT0FBTyxDQUFDVyxLQUFSLENBQWNELEdBQWQ7RUFDRCxDQUZELEVBL0JzRSxDQWtDdEU7O0VBQ0FoQixJQUFJLENBQUNOLFlBQUwsQ0FBa0JxQixFQUFsQixDQUFxQixTQUFyQixFQUFnQyxVQUFVSCxJQUFWLEVBQWdCO0lBQzlDLElBQUlBLElBQUksQ0FBQ0MsR0FBTCxLQUFhLEtBQWpCLEVBQXdCO01BQ3RCO01BQ0FQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxJQUFJLENBQUNMLEdBQWpCO0lBQ0Q7O0lBRUQsSUFBSUssSUFBSSxDQUFDQyxHQUFMLEtBQWEsZ0JBQWpCLEVBQW1DO01BQ2pDO01BQ0FkLFFBQVEsQ0FBQ2EsSUFBSSxDQUFDZCxJQUFOLENBQVI7SUFDRDs7SUFFRCxJQUFJYyxJQUFJLENBQUNDLEdBQUwsS0FBYSxVQUFqQixFQUE2QjtNQUUzQixJQUFJSyxTQUFTLEdBQUdOLElBQUksQ0FBQ00sU0FBckIsQ0FGMkIsQ0FHM0I7O01BQ0EsSUFBSUMsVUFBVSxHQUFHUCxJQUFJLENBQUNRLElBQUwsQ0FBVUMsUUFBM0I7O01BRUFyQixJQUFJLENBQUNWLGtCQUFMLENBQXdCZ0MsZUFBeEIsQ0FBd0NILFVBQXhDLEVBQW9ELFVBQVVILEdBQVYsRUFBZU8sSUFBZixFQUFxQjtRQUN2RSxJQUFJUCxHQUFKLEVBQVM7VUFDUCxPQUFPaEIsSUFBSSxDQUFDTixZQUFMLENBQWtCb0IsSUFBbEIsQ0FBdUI7WUFBQ0csS0FBSyxFQUFFRCxHQUFSO1lBQ1hFLFNBQVMsRUFBRUE7VUFEQSxDQUF2QixDQUFQO1FBR0Q7O1FBQ0QsSUFBSU0sY0FBYyxHQUFHRCxJQUFJLENBQUNGLFFBQUwsQ0FBY0ksTUFBbkM7O1FBQ0EsSUFBSSxDQUFDRCxjQUFMLEVBQXFCO1VBQ25CO1VBQ0FBLGNBQWMsR0FBRzFDLFdBQVcsQ0FBQzRCLFdBQVosR0FBMEJnQixtQkFBM0M7UUFDRCxDQVZzRSxDQVl2RTs7O1FBQ0EsT0FBTzFCLElBQUksQ0FBQ04sWUFBTCxDQUFrQm9CLElBQWxCLENBQXVCO1VBQUNhLE1BQU0sRUFBRSxJQUFUO1VBQWVULFNBQVMsRUFBRUEsU0FBMUI7VUFBcUNVLE1BQU0sRUFBRTtZQUFDSCxNQUFNLEVBQUVELGNBQVQ7WUFBeUJHLE1BQU0sRUFBRUosSUFBSSxDQUFDSTtVQUF0QztRQUE3QyxDQUF2QixDQUFQO01BQ0QsQ0FkRDtJQWVEOztJQUVELElBQUlmLElBQUksQ0FBQ0MsR0FBTCxLQUFhLGdCQUFqQixFQUFtQztNQUNqQyxJQUFJSyxVQUFTLEdBQUdOLElBQUksQ0FBQ00sU0FBckI7TUFDQSxJQUFJQyxXQUFVLEdBQUdQLElBQUksQ0FBQ1EsSUFBTCxDQUFVQyxRQUEzQjtNQUNBLElBQUlRLElBQUksR0FBR2pCLElBQUksQ0FBQ1EsSUFBTCxDQUFVUyxJQUFyQjs7TUFFQSxJQUFJQyxRQUFRLEdBQUc5QixJQUFJLENBQUNULG1CQUFMLENBQXlCd0MsY0FBekIsQ0FBd0NaLFdBQXhDLEVBQW9EVSxJQUFwRCxDQUFmOztNQUNBLElBQUlHLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBcUIsQ0FBVWhCLEdBQVYsRUFBZTtRQUN0QyxJQUFJQSxHQUFKLEVBQVM7VUFDUCxPQUFPaEIsSUFBSSxDQUFDTixZQUFMLENBQWtCb0IsSUFBbEIsQ0FBdUI7WUFBQ0csS0FBSyxFQUFFRCxHQUFSO1lBQWFFLFNBQVMsRUFBRUE7VUFBeEIsQ0FBdkIsQ0FBUDtRQUNEOztRQUNELE9BQU9sQixJQUFJLENBQUNOLFlBQUwsQ0FBa0JvQixJQUFsQixDQUF1QjtVQUFDYSxNQUFNLEVBQUUsSUFBVDtVQUFlVCxTQUFTLEVBQUVBO1FBQTFCLENBQXZCLENBQVA7TUFDRCxDQUxEOztNQU1BLElBQUlZLFFBQUosRUFBYztRQUNaO1FBQ0E5QixJQUFJLENBQUNULG1CQUFMLENBQXlCMEMsZUFBekIsQ0FBeUNILFFBQXpDLEVBQW1ERSxrQkFBbkQ7TUFDRCxDQUhELE1BR087UUFDTCxPQUFPQSxrQkFBa0IsRUFBekI7TUFDRDtJQUNGOztJQUVELElBQUlwQixJQUFJLENBQUNDLEdBQUwsS0FBYSxjQUFqQixFQUFpQztNQUMvQixJQUFJSyxXQUFTLEdBQUdOLElBQUksQ0FBQ00sU0FBckI7TUFDQSxJQUFJQyxZQUFVLEdBQUdQLElBQUksQ0FBQ1EsSUFBTCxDQUFVQyxRQUEzQjtNQUNBLElBQUlRLEtBQUksR0FBR2pCLElBQUksQ0FBQ1EsSUFBTCxDQUFVUyxJQUFyQjs7TUFDQSxJQUFJRyxtQkFBa0IsR0FBRyxTQUFyQkEsbUJBQXFCLENBQVVoQixHQUFWLEVBQWU7UUFDdEMsSUFBSUEsR0FBSixFQUFTO1VBQ1AsT0FBT2hCLElBQUksQ0FBQ04sWUFBTCxDQUFrQm9CLElBQWxCLENBQXVCO1lBQUNHLEtBQUssRUFBRUQsR0FBUjtZQUFhRSxTQUFTLEVBQUVBO1VBQXhCLENBQXZCLENBQVA7UUFDRDs7UUFDRCxPQUFPbEIsSUFBSSxDQUFDTixZQUFMLENBQWtCb0IsSUFBbEIsQ0FBdUI7VUFBQ2EsTUFBTSxFQUFFLElBQVQ7VUFBZVQsU0FBUyxFQUFFQTtRQUExQixDQUF2QixDQUFQO01BQ0QsQ0FMRDs7TUFNQWxCLElBQUksQ0FBQ1QsbUJBQUwsQ0FBeUIyQyxXQUF6QixDQUFxQ2YsWUFBckMsRUFBaURVLEtBQWpELEVBQXVERyxtQkFBdkQ7SUFDRDtFQUNGLENBbEVEO0VBb0VBaEMsSUFBSSxDQUFDTixZQUFMLENBQWtCcUIsRUFBbEIsQ0FBcUIsT0FBckIsRUFBOEIsVUFBVW9CLElBQVYsRUFBZ0JDLE1BQWhCLEVBQXdCO0lBQ3BEO0lBQ0EsSUFBSUQsSUFBSSxJQUFJLElBQVosRUFBa0I7TUFDaEI3QixPQUFPLENBQUNDLEdBQVIsQ0FBWSxtQ0FBWixFQUFpRDZCLE1BQWpEO0lBQ0QsQ0FGRCxNQUVPO01BQ0w5QixPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQ0FBWixFQUErQzRCLElBQS9DO0lBQ0Q7RUFDRixDQVBEO0FBUUQsQ0EvR0Q7QUFnSEE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBbEQsb0JBQW9CLENBQUNXLFNBQXJCLENBQStCeUMsbUJBQS9CLEdBQXFELFVBQVV0QyxRQUFWLEVBQW9CO0VBQ3ZFLElBQU1DLElBQUksR0FBRyxJQUFiOztFQUVBLFNBQVNzQyxXQUFULENBQXNCeEMsSUFBdEIsRUFBNEI7SUFDMUIsSUFBSUEsSUFBSSxHQUFHRSxJQUFJLENBQUNSLDJCQUFoQixFQUE2QztNQUMzQztJQUNEOztJQUNEZixXQUFXLENBQUNxQixJQUFELEVBQU8sVUFBVWtCLEdBQVYsRUFBZTtNQUMvQixJQUFJQSxHQUFKLEVBQVM7UUFDUGxCLElBQUk7UUFDSndDLFdBQVcsQ0FBQ3hDLElBQUQsQ0FBWDtNQUNELENBSEQsTUFHTztRQUNMUSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxhQUFaLEVBQTJCVCxJQUEzQjs7UUFDQUUsSUFBSSxDQUFDSCxZQUFMLENBQWtCQyxJQUFsQixFQUF3QixZQUFZO1VBQ2xDRSxJQUFJLENBQUNQLG1CQUFMLEdBQTJCSyxJQUEzQjtVQUNBQyxRQUFRLENBQUNDLElBQUksQ0FBQ1AsbUJBQU4sQ0FBUjtVQUNBYSxPQUFPLENBQUNpQixJQUFSLENBQWEsaUNBQWIsRUFBZ0R6QixJQUFoRDtRQUNELENBSkQ7TUFLRDtJQUNGLENBWlUsQ0FBWDtFQWFEOztFQUVEd0MsV0FBVyxDQUFDLEtBQUs3QyxtQkFBTixDQUFYO0FBQ0QsQ0F2QkQ7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBUixvQkFBb0IsQ0FBQ1csU0FBckIsQ0FBK0IyQyxJQUEvQixHQUFzQyxZQUFZO0VBQ2hELEtBQUs3QyxZQUFMLENBQWtCOEMsSUFBbEIsQ0FBdUIsU0FBdkI7QUFDRCxDQUZEOztBQUlBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ6RCxvQkFBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3NlcnZlci9zZXJ2ZXIuanM/NjM0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmVzbGludCBuby1jb25zb2xlOiBbXCJlcnJvclwiLCB7IGFsbG93OiBbXCJ3YXJuXCIsIFwiZXJyb3JcIiwgXCJpbmZvXCIsIFwibG9nXCJdIH1dICovXG4vKmVzbGludCBuby1zeW5jOiBbXCJvZmZcIl0qL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGlzUG9ydFRha2VuID0gcmVxdWlyZSgnLi4vdXRpbC9pcy1wb3J0LXRha2VuJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIGZvcmsgPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJykuZm9yaztcbmNvbnN0IGFwcFNldHRpbmdzID0gcmVxdWlyZShcIi4uL2FwcC1zZXR0aW5nc1wiKTtcbmNvbnN0IHthcHB9ID0gcmVxdWlyZSgnZWxlY3Ryb24nKTtcblxuY29uc3QgQ0hJTERfU0NSSVBUX0ZJTEVOQU1FID0gJ3N0YXJ0U2VydmVyLmpzJztcblxuLyoqXG4gKiBPZmZsaW5lIGNvbnRlbnQgc2VydmVyXG4gKiBAcGFyYW0ge29iamVjdH0gb2ZmbGluZUNvbnRyb2xsZXIgOiBvZmZsaW5lIGNvbnRyb2xsZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBkb3dubG9hZENvbnRyb2xsZXIgOiBkb3dubG9hZCBjb250cm9sbGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UgLSBtYXggcmFuZ2UgZm9yIG9mZmxpbmUgcG9ydCB0byBvbiB3aGljaCBjb250ZW50IGNhbiBiZSBzZXJ2ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBvZmZsaW5lQ29udGVudFBvcnQgLSBvbiB3aGljaCBwb3J0IG9mZmxpbmUgY29udGVudCBzaG91bGQgYmUgc2VydmVkLCBkZWZhdWx0IGlzIDMwMTBcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBPZmZsaW5lQ29udGVudFNlcnZlciAob2ZmbGluZUNvbnRyb2xsZXIsIGRvd25sb2FkQ29udHJvbGxlciwgbWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UsIG9mZmxpbmVDb250ZW50UG9ydCkge1xuICB0aGlzLl9vZmZsaW5lQ29udHJvbGxlciA9IG9mZmxpbmVDb250cm9sbGVyO1xuICB0aGlzLl9kb3dubG9hZENvbnRyb2xsZXIgPSBkb3dubG9hZENvbnRyb2xsZXI7XG4gIHRoaXMuX21heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlID0gbWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2U7XG4gIHRoaXMuX29mZmxpbmVDb250ZW50UG9ydCA9IG9mZmxpbmVDb250ZW50UG9ydDtcbiAgdGhpcy5jaGlsZFByb2Nlc3MgPSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogU3RhcnQgaHR0cCBzZXJ2ZXIgaW4gYSBjaGlsZF9wcm9jZXNzXG4gKiBAcGFyYW0ge29iamVjdH0gcG9ydCA6IG9uIHdoaWNoIHBvcnQgb2ZmbGluZSBjb250ZW50IHNob3VsZCBiZSBzZXJ2ZWQsIGRlZmF1bHQgaXMgMzAxMFxuICogQHBhcmFtIHtvYmplY3R9IGNhbGxiYWNrIDogYSBjYWxsYmFjayBmdW5jdGlvbiB0byBnZXQgbGlzdGVuIHBvcnQgKGlmIGRlZmF1bHQgaXMgYWxyZWFkeSB0YWtlbilcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5PZmZsaW5lQ29udGVudFNlcnZlci5wcm90b3R5cGUuX3N0YXJ0U2VydmVyID0gZnVuY3Rpb24gKHBvcnQsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvLyBOT1RFOiB0aGlzIGlzIHNvIHVnbHkgRklYTUVcbiAgbGV0IHNlcnZlclBhdGggPSBwYXRoLmpvaW4oYXBwLmdldEFwcFBhdGgoKSwgJ25vZGVfbW9kdWxlcy9kb3duc3RyZWFtLWVsZWN0cm9uJyk7XG4gIGlmICghZnMuZXhpc3RzU3luYyhwYXRoLmpvaW4oc2VydmVyUGF0aCwgQ0hJTERfU0NSSVBUX0ZJTEVOQU1FKSkpIHtcbiAgICBzZXJ2ZXJQYXRoID0gcGF0aC5qb2luKGFwcC5nZXRBcHBQYXRoKCksICdub2RlX21vZHVsZXMvZG93bnN0cmVhbS1lbGVjdHJvbi9hcGkvc2VydmVyJyk7XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGguam9pbihzZXJ2ZXJQYXRoLCBDSElMRF9TQ1JJUFRfRklMRU5BTUUpKSkge1xuICAgICAgc2VydmVyUGF0aCA9IGFwcC5nZXRBcHBQYXRoKCk7XG4gICAgICBpZiAoIWZzLmV4aXN0c1N5bmMocGF0aC5qb2luKHNlcnZlclBhdGgsIENISUxEX1NDUklQVF9GSUxFTkFNRSkpKSB7XG4gICAgICAgIHNlcnZlclBhdGggPSBfX2Rpcm5hbWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc29sZS5sb2coJ1NlcnZlciBQYXRoOicsIHNlcnZlclBhdGgpO1xuICBsZXQgc2NyaXB0ID0gcGF0aC5qb2luKHNlcnZlclBhdGgsIENISUxEX1NDUklQVF9GSUxFTkFNRSk7XG4gIGNvbnNvbGUubG9nKCdTY3JpcHQgZm9yIHNlcnZlcjonLCBzY3JpcHQpO1xuXG4gIC8vICBGT1IgREVCVUcgUFVSUE9TRSBzZWxmLmNoaWxkUHJvY2VzcyA9IGZvcmsoc2NyaXB0ICxbXSx7ZXhlY0FyZ3Y6WyctLWluc3BlY3Q9NTg2MCddfSk7XG4gIHNlbGYuY2hpbGRQcm9jZXNzID0gZm9yayhzY3JpcHQsIFtdKTtcbiAgbGV0IHJvdXRlTmFtZSA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZG93bmxvYWRzTmFtZTtcblxuICAvLyBzZW5kIGluaXQgZGF0YSBmb3IgaHR0cCBzZXJ2ZXJcbiAgbGV0IGRhdGEgPSB7XG4gICAgY21kOiAnaW5pdCcsXG4gICAgcm91dGVOYW1lOiByb3V0ZU5hbWUsXG4gICAgcG9ydDogcG9ydFxuICB9O1xuICBzZWxmLmNoaWxkUHJvY2Vzcy5zZW5kKGRhdGEpXG5cbiAgc2VsZi5jaGlsZFByb2Nlc3Mub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSlcbiAgLy8gaGFuZGxlcyBtZXNzYWdlIGZyb20gY2hpbGQgcHJvY2Vzc1xuICBzZWxmLmNoaWxkUHJvY2Vzcy5vbignbWVzc2FnZScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGRhdGEuY21kID09PSAnbG9nJykge1xuICAgICAgLy8gaHR0cCBzZXJ2ZXIgd2FudHMgdG8gbG9nIHNvbWUgZGF0YVxuICAgICAgY29uc29sZS5sb2coZGF0YS5sb2cpO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmNtZCA9PT0gJ2xpc3RlbmluZ19wb3J0Jykge1xuICAgICAgLy8gaHR0cCBzZXJ2ZXIgaXMgbGlzdGVuaW5nID0+IG5vdGlmeSBhcHBsaWNhdGlvbiBmb3IgbGlzdGVuIHBvcnRcbiAgICAgIGNhbGxiYWNrKGRhdGEucG9ydCk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuY21kID09PSAnZ2V0X2luZm8nKSB7XG5cbiAgICAgIGxldCByZXF1ZXN0SWQgPSBkYXRhLnJlcXVlc3RJZDtcbiAgICAgIC8vIGh0dHAgc2VydmVyIGFza3MgZGF0YSBmb2xkZXIgZm9yIG1hbmlmZXN0IGlkXG4gICAgICBsZXQgbWFuaWZlc3RJZCA9IGRhdGEuYXJncy5tYW5pZmVzdDtcblxuICAgICAgc2VsZi5fb2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RJbmZvKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBzZWxmLmNoaWxkUHJvY2Vzcy5zZW5kKHtlcnJvcjogZXJyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3RJZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkb3dubG9hZEZvbGRlciA9IGluZm8ubWFuaWZlc3QuZm9sZGVyO1xuICAgICAgICBpZiAoIWRvd25sb2FkRm9sZGVyKSB7XG4gICAgICAgICAgLy8gdHJ5IHRvIHNlcnZlIGZyb20gZGVmYXVsdCBkb3dubG9hZCBmb2xkZXJcbiAgICAgICAgICBkb3dubG9hZEZvbGRlciA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZG93bmxvYWRzRm9sZGVyUGF0aFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCByZXNwb25zZSBiYWNrXG4gICAgICAgIHJldHVybiBzZWxmLmNoaWxkUHJvY2Vzcy5zZW5kKHtzdGF0dXM6ICdPSycsIHJlcXVlc3RJZDogcmVxdWVzdElkLCByZXN1bHQ6IHtmb2xkZXI6IGRvd25sb2FkRm9sZGVyLCBzdGF0dXM6IGluZm8uc3RhdHVzfX0pO1xuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5jbWQgPT09ICdpc19kb3dubG9hZGluZycpIHtcbiAgICAgIGxldCByZXF1ZXN0SWQgPSBkYXRhLnJlcXVlc3RJZDtcbiAgICAgIGxldCBtYW5pZmVzdElkID0gZGF0YS5hcmdzLm1hbmlmZXN0O1xuICAgICAgbGV0IGZpbGUgPSBkYXRhLmFyZ3MuZmlsZTtcblxuICAgICAgbGV0IGRvd25sb2FkID0gc2VsZi5fZG93bmxvYWRDb250cm9sbGVyLmdldERvd25sb2FkaW5nKG1hbmlmZXN0SWQsIGZpbGUpO1xuICAgICAgbGV0IGRvd25sb2FkZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBzZWxmLmNoaWxkUHJvY2Vzcy5zZW5kKHtlcnJvcjogZXJyLCByZXF1ZXN0SWQ6IHJlcXVlc3RJZH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLmNoaWxkUHJvY2Vzcy5zZW5kKHtzdGF0dXM6ICdPSycsIHJlcXVlc3RJZDogcmVxdWVzdElkfSk7XG4gICAgICB9XG4gICAgICBpZiAoZG93bmxvYWQpIHtcbiAgICAgICAgLy8gZmlsZSBpcyBjcmVhdGVkIGJ1dCBiZWluZyBkb3dubG9hZGluZyA9PiB3YWl0IGZvciBkb3dubG9hZCBiZWZvcmUgc2VuZGluZyByZXN1bHRcbiAgICAgICAgc2VsZi5fZG93bmxvYWRDb250cm9sbGVyLndhaXRGb3JEb3dubG9hZChkb3dubG9hZCwgZG93bmxvYWRlZENhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkb3dubG9hZGVkQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YS5jbWQgPT09ICdwZXJmb3JtX3NlZWsnKSB7XG4gICAgICBsZXQgcmVxdWVzdElkID0gZGF0YS5yZXF1ZXN0SWQ7XG4gICAgICBsZXQgbWFuaWZlc3RJZCA9IGRhdGEuYXJncy5tYW5pZmVzdDtcbiAgICAgIGxldCBmaWxlID0gZGF0YS5hcmdzLmZpbGU7XG4gICAgICBsZXQgZG93bmxvYWRlZENhbGxiYWNrID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuY2hpbGRQcm9jZXNzLnNlbmQoe2Vycm9yOiBlcnIsIHJlcXVlc3RJZDogcmVxdWVzdElkfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYuY2hpbGRQcm9jZXNzLnNlbmQoe3N0YXR1czogJ09LJywgcmVxdWVzdElkOiByZXF1ZXN0SWR9KTtcbiAgICAgIH1cbiAgICAgIHNlbGYuX2Rvd25sb2FkQ29udHJvbGxlci5wZXJmb3JtU2VlayhtYW5pZmVzdElkLCBmaWxlLCBkb3dubG9hZGVkQ2FsbGJhY2spXG4gICAgfVxuICB9KTtcblxuICBzZWxmLmNoaWxkUHJvY2Vzcy5vbignY2xvc2UnLCBmdW5jdGlvbiAoY29kZSwgc2lnbmFsKSB7XG4gICAgLy8gY2hpbGQgaGFzIGNsb3NlZFxuICAgIGlmIChjb2RlID09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdDaGlsZCBwcm9jZXNzIGNsb3NlZCB3aXRoIHNpZ25hbDonLCBzaWduYWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnQ2hpbGQgcHJvY2VzcyBjbG9zZWQgd2l0aCBjb2RlOicsIGNvZGUpO1xuICAgIH1cbiAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBnZXQgbGlzdGVuIHBvcnQgKGlmIGRlZmF1bHQgaXMgdGFrZW4pXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuT2ZmbGluZUNvbnRlbnRTZXJ2ZXIucHJvdG90eXBlLnNlcnZlT2ZmbGluZUNvbnRlbnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gc3RhcnRPblBvcnQgKHBvcnQpIHtcbiAgICBpZiAocG9ydCA+IHNlbGYuX21heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlzUG9ydFRha2VuKHBvcnQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcG9ydCsrO1xuICAgICAgICBzdGFydE9uUG9ydChwb3J0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdQb3J0IGZvdW5kOicsIHBvcnQpXG4gICAgICAgIHNlbGYuX3N0YXJ0U2VydmVyKHBvcnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxmLl9vZmZsaW5lQ29udGVudFBvcnQgPSBwb3J0O1xuICAgICAgICAgIGNhbGxiYWNrKHNlbGYuX29mZmxpbmVDb250ZW50UG9ydCk7XG4gICAgICAgICAgY29uc29sZS5pbmZvKCdPZmZsaW5lIGNvbnRlbnQgc2VydmVkIG9uIHBvcnQ6JywgcG9ydCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRPblBvcnQodGhpcy5fb2ZmbGluZUNvbnRlbnRQb3J0KTtcbn1cblxuLypcbiAqIFN0b3Agc2VydmVyIHByb2Nlc3NcbiAqIEByZXR1cm5zXG4gKi9cbk9mZmxpbmVDb250ZW50U2VydmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNoaWxkUHJvY2Vzcy5raWxsKCdTSUdURVJNJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gT2ZmbGluZUNvbnRlbnRTZXJ2ZXI7XG4iXSwibmFtZXMiOlsiaXNQb3J0VGFrZW4iLCJyZXF1aXJlIiwicGF0aCIsImZzIiwiZm9yayIsImFwcFNldHRpbmdzIiwiYXBwIiwiQ0hJTERfU0NSSVBUX0ZJTEVOQU1FIiwiT2ZmbGluZUNvbnRlbnRTZXJ2ZXIiLCJvZmZsaW5lQ29udHJvbGxlciIsImRvd25sb2FkQ29udHJvbGxlciIsIm1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlIiwib2ZmbGluZUNvbnRlbnRQb3J0IiwiX29mZmxpbmVDb250cm9sbGVyIiwiX2Rvd25sb2FkQ29udHJvbGxlciIsIl9tYXhPZmZsaW5lQ29udGVudFBvcnRSYW5nZSIsIl9vZmZsaW5lQ29udGVudFBvcnQiLCJjaGlsZFByb2Nlc3MiLCJ1bmRlZmluZWQiLCJwcm90b3R5cGUiLCJfc3RhcnRTZXJ2ZXIiLCJwb3J0IiwiY2FsbGJhY2siLCJzZWxmIiwic2VydmVyUGF0aCIsImpvaW4iLCJnZXRBcHBQYXRoIiwiZXhpc3RzU3luYyIsIl9fZGlybmFtZSIsImNvbnNvbGUiLCJsb2ciLCJzY3JpcHQiLCJyb3V0ZU5hbWUiLCJnZXRTZXR0aW5ncyIsImRvd25sb2Fkc05hbWUiLCJkYXRhIiwiY21kIiwic2VuZCIsIm9uIiwiZXJyIiwiZXJyb3IiLCJyZXF1ZXN0SWQiLCJtYW5pZmVzdElkIiwiYXJncyIsIm1hbmlmZXN0IiwiZ2V0TWFuaWZlc3RJbmZvIiwiaW5mbyIsImRvd25sb2FkRm9sZGVyIiwiZm9sZGVyIiwiZG93bmxvYWRzRm9sZGVyUGF0aCIsInN0YXR1cyIsInJlc3VsdCIsImZpbGUiLCJkb3dubG9hZCIsImdldERvd25sb2FkaW5nIiwiZG93bmxvYWRlZENhbGxiYWNrIiwid2FpdEZvckRvd25sb2FkIiwicGVyZm9ybVNlZWsiLCJjb2RlIiwic2lnbmFsIiwic2VydmVPZmZsaW5lQ29udGVudCIsInN0YXJ0T25Qb3J0Iiwic3RvcCIsImtpbGwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9837\n")},2197:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar _ = __webpack_require__(4952);\n/**\n * how much of progress should be connected with writing chunks to a hard drive (1 - 100%)\n * @type {number}\n */\n\n\nvar writeProgressUsage = 0.1;\n/**\n *\n * @param {DownloadsStorageController} storage - downloads storage controller\n * @constructor\n */\n\nfunction DownloadStats(storage) {\n  this._storage = storage;\n  this._stats = {};\n  this._statsPrevious = {};\n  this._STATS_TIME_GENERATION = 1000;\n\n  _.bindAll(this, "_generate");\n}\n/**\n * @param {number} value - bytes\n * @param {number} precision - precision for kilobytes\n * @param {number=} precision2 - precision for megabytes\n * @param {number=} precision3 - precision for gigabytes\n * @returns {string} converted bytes to kb or mb or gb\n * @private\n */\n\n\nDownloadStats.prototype._convertToBytes = function (value, precision, precision2, precision3) {\n  precision2 = typeof precision2 !== "undefined" ? precision2 : precision;\n  precision3 = typeof precision3 !== "undefined" ? precision3 : precision;\n\n  if (value < 100000) {\n    return this._convertToKB(value, precision);\n  } else if (value < 1024 * 1024 * 1024) {\n    return this._convertToMB(value, precision2);\n  } else {\n    return this._convertToGB(value, precision3);\n  }\n};\n/**\n *\n * @param {number} value - bytes\n * @param {number} precision - precision\n * @returns {string} kilobytes\n * @private\n */\n\n\nDownloadStats.prototype._convertToKB = function (value, precision) {\n  precision = typeof precision !== "undefined" ? precision : 0;\n  var a = Math.pow(10, precision);\n  var oneKB = 1024;\n  return Math.round(value * a / oneKB) / a + "kB";\n};\n/**\n * @param {number} value - bytes\n * @param {number} precision - precision\n * @returns {string} - megabytes\n * @private\n */\n\n\nDownloadStats.prototype._convertToMB = function (value, precision) {\n  precision = typeof precision !== "undefined" ? precision : 0;\n  var a = Math.pow(10, precision);\n  var oneMB = 1024 * 1024;\n  return Math.round(value * a / oneMB) / a + "MB";\n};\n/**\n * @param {number} value - bytes\n * @param {number} precision - precision\n * @returns {string} gigabytes\n * @private\n */\n\n\nDownloadStats.prototype._convertToGB = function (value, precision) {\n  precision = typeof precision !== "undefined" ? precision : 0;\n  var a = Math.pow(10, precision);\n  var oneGB = 1024 * 1024 * 1024;\n  return Math.round(value * a / oneGB) / a + "GB";\n};\n\nDownloadStats.prototype._clearSpeed = function () {\n  var allManifestIds = Object.keys(this._stats) || [];\n\n  for (var i = 0, j = allManifestIds.length; i < j; i++) {\n    var manifestId = allManifestIds[i];\n\n    if (!this._storage.keyExists(manifestId) && this._stats[manifestId] && this._stats[manifestId].speed) {\n      this._stats[manifestId].speed = 0;\n      this._stats[manifestId].speedBytes = this._convertToBytes(this._stats[manifestId].speed, 3, 2);\n    }\n  }\n};\n/**\n * @param {boolean} refresh - decides if stats should be only calculated without setting previous stats\n * this is useful when downloads finishes and stats are being calculated one more time\n * @returns {void}\n * @private\n */\n\n\nDownloadStats.prototype._generate = function (refresh) {\n  var allStats = {};\n\n  var manifests = this._storage.getKeys();\n\n  this._clearSpeed();\n\n  function countParts(items) {\n    var parts = 0;\n\n    for (var k = 0, l = items.length; k < l; k++) {\n      var item = items[k];\n      parts += item.bandwidth || 1;\n    }\n\n    return parts;\n  }\n\n  function countPartsObj(items, withDownloadedOnly) {\n    var parts = 0;\n\n    for (var key in items) {\n      if (items.hasOwnProperty(key)) {\n        var item = items[key];\n        parts += (withDownloadedOnly ? item.stats.available / (item.stats.file_size || 1) : 1) * (item.bandwidth || 1);\n      }\n    }\n\n    return parts;\n  }\n\n  function toArray(obj) {\n    var arr = [];\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        var item = obj[key];\n        arr.push(item);\n      }\n    }\n\n    return arr;\n  }\n\n  var stats = {\n    downloading: 0,\n    downloaded: 0,\n    available: 0,\n    left: 0,\n    downloadingAvailableBytes: 0,\n    downloading_file_size: 0,\n    downloadingBytes: 0,\n    downloadedBytes: 0,\n    availableBytes: 0,\n    writeProgress: 0,\n    writeProgressDownloading: 0,\n    writeProgressDownloaded: 0,\n    errors: 0,\n    progress: 0,\n    speed: 0,\n    status: \'\'\n  }; //availableBytes - bates that has been already downloaded\n  //downloadedBytes - bytes used to calculate the current speed\n  //if for any reason the connection is broken or user stopped, then after resuming the available bytes are\n  //always bigger then the actual downloaded bytes.\n  //once the file is finished both values are equal and have the same value as file_size\n\n  var now = new Date().getTime();\n\n  if (!this._statsTime) {\n    this._statsTime = now;\n  }\n\n  for (var i = 0, j = manifests.length; i < j; i++) {\n    var manifestId = manifests[i];\n    allStats[manifestId] = _.clone(stats);\n    allStats[manifestId].left = this._storage.left.count(manifestId);\n    allStats[manifestId].leftI = this._storage.left.getItems(manifestId);\n    allStats[manifestId].errors = this._storage.errors.count(manifestId);\n    allStats[manifestId].errorsI = this._storage.errors.getItems(manifestId);\n\n    var items = this._storage.downloading.getKeys(manifestId);\n\n    allStats[manifestId].downloading = items.length;\n    allStats[manifestId].downloadingI = this._storage.downloading.getItems(manifestId);\n    var writeProgressDownloadingItemsLength = items.length;\n\n    for (var k = 0, l = items.length; k < l; k++) {\n      var item = this._storage.downloading.getItem(manifestId, items[k]);\n\n      allStats[manifestId].downloadingBytes += item.stats.downloaded;\n      allStats[manifestId].downloading_file_size += item.stats.file_size;\n      allStats[manifestId].downloadingAvailableBytes += item.stats.available;\n      allStats[manifestId].writeProgressDownloading += item.stats.writeProgress;\n    }\n\n    items = this._storage.downloaded.getItems(manifestId);\n    allStats[manifestId].downloaded = items.length;\n    allStats[manifestId].downloadedI = items;\n    var writeProgressItemsDownloadedLength = items.length;\n\n    for (var _k = 0, _l = items.length; _k < _l; _k++) {\n      var _item = items[_k];\n      allStats[manifestId].downloadedBytes += _item.stats.downloaded;\n      allStats[manifestId].writeProgressDownloaded += _item.stats.writeProgress;\n    } //need to calculate what percentage of bytes that are going to be written to hard drive are according the the whole\n    // size for example 5 files are being downloaded, 4 smaller are 100mb and one large 1,9GB. When the large file is\n    // being saved the write progress is basically 1900/2000 = 95% of all written bytes.\n\n\n    allStats[manifestId].writeProgressDownloading = allStats[manifestId].writeProgressDownloading * (allStats[manifestId].downloadingAvailableBytes / (allStats[manifestId].downloadedBytes + allStats[manifestId].downloading_file_size) || 1);\n    allStats[manifestId].writeProgressDownloading = allStats[manifestId].writeProgressDownloading / (writeProgressDownloadingItemsLength || 1);\n    allStats[manifestId].writeProgressDownloaded = allStats[manifestId].writeProgressDownloaded * (allStats[manifestId].downloadedBytes / (allStats[manifestId].downloadedBytes + allStats[manifestId].downloading_file_size) || 1);\n    allStats[manifestId].writeProgressDownloaded = allStats[manifestId].writeProgressDownloaded / (writeProgressItemsDownloadedLength || 1);\n    allStats[manifestId].writeProgress = allStats[manifestId].writeProgressDownloading + allStats[manifestId].writeProgressDownloaded;\n\n    var speed = this._getDiff("downloadingBytes", manifestId, allStats, this._statsPrevious);\n\n    speed += this._getDiff("downloadedBytes", manifestId, allStats, this._statsPrevious);\n    speed = speed * 1000 / (now - this._statsTime || 1);\n    allStats[manifestId].speed = speed;\n    allStats[manifestId].status = this._storage.status.getItem(manifestId, "status");\n    allStats[manifestId].details = this._storage.status.getItem(manifestId, "details"); //progress for downloaded\n\n    var leftParts = countParts(allStats[manifestId].leftI);\n    var downloadedParts = countParts(allStats[manifestId].downloadedI);\n    var downloadingPartsSize = countPartsObj(allStats[manifestId].downloadingI);\n    var downloadingParts = countPartsObj(allStats[manifestId].downloadingI, true);\n    var errorParts = countPartsObj(allStats[manifestId].errorsI);\n    var allParts = leftParts + downloadedParts + downloadingPartsSize + errorParts;\n    allStats[manifestId].progress = (downloadedParts + downloadingParts) / (allParts || 1);\n    allStats[manifestId].progress = allStats[manifestId].progress * (1 - writeProgressUsage);\n    allStats[manifestId].progress += allStats[manifestId].writeProgress * writeProgressUsage;\n    allStats[manifestId].downloadedBytesTotal = Math.round(allStats[manifestId].progress * 10000) / 100;\n    allStats[manifestId].downloadedBytesTotal += "%"; // progress of each represention\n\n    var reduceFunc = function reduceFunc(map, obj) {\n      if (!map[obj.id]) {\n        map[obj.id] = [];\n      }\n\n      map[obj.id].push(obj);\n      return map;\n    };\n\n    var downloadedById = allStats[manifestId].downloadedI.reduce(reduceFunc, {});\n    var downloadingArray = toArray(allStats[manifestId].downloadingI);\n    var downloadingById = downloadingArray.reduce(reduceFunc, {});\n    var leftById = allStats[manifestId].leftI.reduce(reduceFunc, {});\n    var errorArray = toArray(allStats[manifestId].errorsI);\n    var errorsById = errorArray.reduce(reduceFunc, {});\n\n    var extend = function extend(obj, src) {\n      for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n          if (!obj[key]) {\n            obj[key] = [];\n          }\n\n          obj[key] = obj[key].concat(src[key]);\n        }\n      }\n\n      return obj;\n    };\n\n    var allPartsById = {};\n    extend(allPartsById, downloadedById);\n    extend(allPartsById, downloadingById);\n    extend(allPartsById, leftById);\n    extend(allPartsById, errorsById); // compute progres for each id\n\n    var progressById = {};\n    var key = void 0;\n\n    for (key in allPartsById) {\n      if (allPartsById.hasOwnProperty(key)) {\n        progressById[key] = countPartsObj(downloadedById[key]) / (countPartsObj(allPartsById[key]) || 1);\n      }\n    }\n\n    var progressByIdPercent = {};\n\n    for (key in progressById) {\n      if (progressById.hasOwnProperty(key)) {\n        progressByIdPercent[key] = Math.round(progressById[key] * 10000) / 100 + "%";\n      }\n    }\n\n    allStats[manifestId].progressById = progressById;\n    allStats[manifestId].progressByIdPercent = progressByIdPercent;\n  }\n\n  var showStats = {};\n\n  for (var _i = 0, _j = manifests.length; _i < _j; _i++) {\n    var _manifestId = manifests[_i];\n    showStats[_manifestId] = {};\n    var downloadedBytesTotal = allStats[_manifestId].downloadedBytes + allStats[_manifestId].downloadingAvailableBytes;\n    showStats[_manifestId].progress = allStats[_manifestId].progress;\n    showStats[_manifestId].progressPercentage = allStats[_manifestId].downloadedBytesTotal;\n    showStats[_manifestId].progressById = allStats[_manifestId].progressById;\n    showStats[_manifestId].progressByIdPercent = allStats[_manifestId].progressByIdPercent;\n    showStats[_manifestId].downloadedBytesTotal = this._convertToBytes(downloadedBytesTotal, 1, 2, 2);\n    showStats[_manifestId].downloaded = allStats[_manifestId].downloaded;\n    showStats[_manifestId].left = allStats[_manifestId].left;\n    showStats[_manifestId].errors = allStats[_manifestId].errors;\n\n    if (allStats[_manifestId].speed < 0) {\n      allStats[_manifestId].speed = 0;\n    }\n\n    showStats[_manifestId].speed = allStats[_manifestId].speed;\n    showStats[_manifestId].speedBytes = this._convertToBytes(allStats[_manifestId].speed, 3, 2);\n    showStats[_manifestId].status = allStats[_manifestId].status;\n    showStats[_manifestId].details = allStats[_manifestId].details;\n  }\n\n  for (var _key in showStats) {\n    if (showStats.hasOwnProperty(_key)) {\n      this._stats[_key] = showStats[_key];\n    }\n  }\n\n  if (!refresh) {\n    this._statsTime = now;\n\n    for (var _key2 in allStats) {\n      if (allStats.hasOwnProperty(_key2)) {\n        this._statsPrevious[_key2] = allStats[_key2];\n      }\n    }\n  }\n};\n/**\n * @param {string} key - key stats identifier\n * @param {string} manifestId - manifest identifier\n * @param {number} current - current value\n * @param {number} previous - previous value\n * @returns {number} - difference between current and previous value\n * @private\n */\n\n\nDownloadStats.prototype._getDiff = function (key, manifestId, current, previous) {\n  var currentValue = current[manifestId] && current[manifestId][key] || 0;\n  var previousValue = previous[manifestId] && previous[manifestId][key] || 0;\n  return currentValue - previousValue;\n};\n/**\n *\n * @param {string|array} manifestIds - manifest identifier or array of manifests identifier\n * @returns {*} stats for certain download or array of stats for downloads\n */\n\n\nDownloadStats.prototype.getStats = function (manifestIds) {\n  var stats;\n\n  if (this._stats) {\n    if (typeof manifestIds === \'string\') {\n      stats = this._stats[manifestIds];\n    } else {\n      stats = [];\n\n      for (var i = 0, j = manifestIds.length; i < j; i++) {\n        var stat = this._stats[manifestIds[i]];\n\n        if (stat) {\n          stats.push(stat);\n        }\n      }\n    }\n  }\n\n  return stats;\n};\n\nDownloadStats.prototype.refresh = function () {\n  this._generate(true);\n};\n\nDownloadStats.prototype.start = function () {\n  if (!this._interval) {\n    this._interval = setInterval(this._generate, this._STATS_TIME_GENERATION);\n\n    this._generate();\n  }\n};\n\nDownloadStats.prototype.stop = function () {\n  clearInterval(this._interval);\n  this._interval = null;\n\n  this._generate();\n\n  this._statsPrevious = {};\n};\n\nmodule.exports = DownloadStats;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQStDRCxDQUFDLEVBQWhELEVBQW9EO1FBQ2xELElBQUkyRixJQUFJLEdBQUcsS0FBS25ILE1BQUwsQ0FBWWtILFdBQVcsQ0FBQzFGLENBQUQsQ0FBdkIsQ0FBWDs7UUFDQSxJQUFJMkYsSUFBSixFQUFVO1VBQ1JwRSxLQUFLLENBQUNNLElBQU4sQ0FBVzhELElBQVg7UUFDRDtNQUNGO0lBQ0Y7RUFDRjs7RUFDRCxPQUFPcEUsS0FBUDtBQUNELENBaEJEOztBQWtCQWxELGFBQWEsQ0FBQ08sU0FBZCxDQUF3QjRCLE9BQXhCLEdBQWtDLFlBQVk7RUFDNUMsS0FBS0QsU0FBTCxDQUFlLElBQWY7QUFDRCxDQUZEOztBQUlBbEMsYUFBYSxDQUFDTyxTQUFkLENBQXdCZ0gsS0FBeEIsR0FBZ0MsWUFBWTtFQUMxQyxJQUFJLENBQUMsS0FBS0MsU0FBVixFQUFxQjtJQUNuQixLQUFLQSxTQUFMLEdBQWlCQyxXQUFXLENBQUMsS0FBS3ZGLFNBQU4sRUFBaUIsS0FBSzdCLHNCQUF0QixDQUE1Qjs7SUFDQSxLQUFLNkIsU0FBTDtFQUNEO0FBQ0YsQ0FMRDs7QUFPQWxDLGFBQWEsQ0FBQ08sU0FBZCxDQUF3Qm1ILElBQXhCLEdBQStCLFlBQVk7RUFDekNDLGFBQWEsQ0FBQyxLQUFLSCxTQUFOLENBQWI7RUFDQSxLQUFLQSxTQUFMLEdBQWlCLElBQWpCOztFQUNBLEtBQUt0RixTQUFMOztFQUNBLEtBQUs5QixjQUFMLEdBQXNCLEVBQXRCO0FBQ0QsQ0FMRDs7QUFPQXdILE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjdILGFBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9zdGF0cy9kb3dubG9hZF9zdGF0cy5qcz9mZjQzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgXyA9IHJlcXVpcmUoXCJ1bmRlcnNjb3JlXCIpO1xuXG4vKipcbiAqIGhvdyBtdWNoIG9mIHByb2dyZXNzIHNob3VsZCBiZSBjb25uZWN0ZWQgd2l0aCB3cml0aW5nIGNodW5rcyB0byBhIGhhcmQgZHJpdmUgKDEgLSAxMDAlKVxuICogQHR5cGUge251bWJlcn1cbiAqL1xuY29uc3Qgd3JpdGVQcm9ncmVzc1VzYWdlID0gMC4xO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0Rvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyfSBzdG9yYWdlIC0gZG93bmxvYWRzIHN0b3JhZ2UgY29udHJvbGxlclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIERvd25sb2FkU3RhdHMgKHN0b3JhZ2UpIHtcbiAgdGhpcy5fc3RvcmFnZSA9IHN0b3JhZ2U7XG4gIHRoaXMuX3N0YXRzID0ge307XG4gIHRoaXMuX3N0YXRzUHJldmlvdXMgPSB7fTtcbiAgdGhpcy5fU1RBVFNfVElNRV9HRU5FUkFUSU9OID0gMTAwMDtcbiAgXy5iaW5kQWxsKHRoaXMsIFwiX2dlbmVyYXRlXCIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIGJ5dGVzXG4gKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uIC0gcHJlY2lzaW9uIGZvciBraWxvYnl0ZXNcbiAqIEBwYXJhbSB7bnVtYmVyPX0gcHJlY2lzaW9uMiAtIHByZWNpc2lvbiBmb3IgbWVnYWJ5dGVzXG4gKiBAcGFyYW0ge251bWJlcj19IHByZWNpc2lvbjMgLSBwcmVjaXNpb24gZm9yIGdpZ2FieXRlc1xuICogQHJldHVybnMge3N0cmluZ30gY29udmVydGVkIGJ5dGVzIHRvIGtiIG9yIG1iIG9yIGdiXG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZFN0YXRzLnByb3RvdHlwZS5fY29udmVydFRvQnl0ZXMgPSBmdW5jdGlvbiAodmFsdWUsIHByZWNpc2lvbiwgcHJlY2lzaW9uMiwgcHJlY2lzaW9uMykge1xuICBwcmVjaXNpb24yID0gdHlwZW9mIHByZWNpc2lvbjIgIT09IFwidW5kZWZpbmVkXCIgPyBwcmVjaXNpb24yIDogcHJlY2lzaW9uO1xuICBwcmVjaXNpb24zID0gdHlwZW9mIHByZWNpc2lvbjMgIT09IFwidW5kZWZpbmVkXCIgPyBwcmVjaXNpb24zIDogcHJlY2lzaW9uO1xuICBpZiAodmFsdWUgPCAxMDAwMDApIHtcbiAgICByZXR1cm4gdGhpcy5fY29udmVydFRvS0IodmFsdWUsIHByZWNpc2lvbilcbiAgfSBlbHNlIGlmICh2YWx1ZSA8IDEwMjQgKiAxMDI0ICogMTAyNCkge1xuICAgIHJldHVybiB0aGlzLl9jb252ZXJ0VG9NQih2YWx1ZSwgcHJlY2lzaW9uMilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5fY29udmVydFRvR0IodmFsdWUsIHByZWNpc2lvbjMpXG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIGJ5dGVzXG4gKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uIC0gcHJlY2lzaW9uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBraWxvYnl0ZXNcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2FkU3RhdHMucHJvdG90eXBlLl9jb252ZXJ0VG9LQiA9IGZ1bmN0aW9uICh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIHByZWNpc2lvbiA9IHR5cGVvZiBwcmVjaXNpb24gIT09IFwidW5kZWZpbmVkXCIgPyBwcmVjaXNpb24gOiAwO1xuICBjb25zdCBhID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gIGNvbnN0IG9uZUtCID0gMTAyNDtcbiAgcmV0dXJuIChNYXRoLnJvdW5kKCh2YWx1ZSAqIGEpIC8gb25lS0IpIC8gYSkgKyBcImtCXCI7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIGJ5dGVzXG4gKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uIC0gcHJlY2lzaW9uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIG1lZ2FieXRlc1xuICogQHByaXZhdGVcbiAqL1xuRG93bmxvYWRTdGF0cy5wcm90b3R5cGUuX2NvbnZlcnRUb01CID0gZnVuY3Rpb24gKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgcHJlY2lzaW9uID0gdHlwZW9mIHByZWNpc2lvbiAhPT0gXCJ1bmRlZmluZWRcIiA/IHByZWNpc2lvbiA6IDA7XG4gIGNvbnN0IGEgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTtcbiAgY29uc3Qgb25lTUIgPSAxMDI0ICogMTAyNDtcbiAgcmV0dXJuIChNYXRoLnJvdW5kKCh2YWx1ZSAqIGEpIC8gb25lTUIpIC8gYSkgKyBcIk1CXCI7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIGJ5dGVzXG4gKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uIC0gcHJlY2lzaW9uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBnaWdhYnl0ZXNcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2FkU3RhdHMucHJvdG90eXBlLl9jb252ZXJ0VG9HQiA9IGZ1bmN0aW9uICh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIHByZWNpc2lvbiA9IHR5cGVvZiBwcmVjaXNpb24gIT09IFwidW5kZWZpbmVkXCIgPyBwcmVjaXNpb24gOiAwO1xuICBjb25zdCBhID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gIGNvbnN0IG9uZUdCID0gMTAyNCAqIDEwMjQgKiAxMDI0O1xuICByZXR1cm4gKE1hdGgucm91bmQoKHZhbHVlICogYSkgLyBvbmVHQikgLyBhKSArIFwiR0JcIjtcbn07XG5cbkRvd25sb2FkU3RhdHMucHJvdG90eXBlLl9jbGVhclNwZWVkID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBhbGxNYW5pZmVzdElkcyA9IE9iamVjdC5rZXlzKHRoaXMuX3N0YXRzKSB8fCBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBhbGxNYW5pZmVzdElkcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBsZXQgbWFuaWZlc3RJZCA9IGFsbE1hbmlmZXN0SWRzW2ldO1xuICAgIGlmICghdGhpcy5fc3RvcmFnZS5rZXlFeGlzdHMobWFuaWZlc3RJZCkgJiYgdGhpcy5fc3RhdHNbbWFuaWZlc3RJZF0gJiYgdGhpcy5fc3RhdHNbbWFuaWZlc3RJZF0uc3BlZWQpICB7XG4gICAgICB0aGlzLl9zdGF0c1ttYW5pZmVzdElkXS5zcGVlZCA9IDA7XG4gICAgICB0aGlzLl9zdGF0c1ttYW5pZmVzdElkXS5zcGVlZEJ5dGVzID0gdGhpcy5fY29udmVydFRvQnl0ZXModGhpcy5fc3RhdHNbbWFuaWZlc3RJZF0uc3BlZWQsIDMsIDIpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlZnJlc2ggLSBkZWNpZGVzIGlmIHN0YXRzIHNob3VsZCBiZSBvbmx5IGNhbGN1bGF0ZWQgd2l0aG91dCBzZXR0aW5nIHByZXZpb3VzIHN0YXRzXG4gKiB0aGlzIGlzIHVzZWZ1bCB3aGVuIGRvd25sb2FkcyBmaW5pc2hlcyBhbmQgc3RhdHMgYXJlIGJlaW5nIGNhbGN1bGF0ZWQgb25lIG1vcmUgdGltZVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZFN0YXRzLnByb3RvdHlwZS5fZ2VuZXJhdGUgPSBmdW5jdGlvbiAocmVmcmVzaCkge1xuICBsZXQgYWxsU3RhdHMgPSB7fTtcblxuICBsZXQgbWFuaWZlc3RzID0gdGhpcy5fc3RvcmFnZS5nZXRLZXlzKCk7XG5cbiAgdGhpcy5fY2xlYXJTcGVlZCgpO1xuXG4gIGZ1bmN0aW9uIGNvdW50UGFydHMgKGl0ZW1zKSB7XG4gICAgbGV0IHBhcnRzID0gMDtcbiAgICBmb3IgKGxldCBrID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgayA8IGw7IGsrKykge1xuICAgICAgbGV0IGl0ZW0gPSBpdGVtc1trXTtcbiAgICAgIHBhcnRzICs9IGl0ZW0uYmFuZHdpZHRoIHx8IDE7XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvdW50UGFydHNPYmogKGl0ZW1zLCB3aXRoRG93bmxvYWRlZE9ubHkpIHtcbiAgICBsZXQgcGFydHMgPSAwO1xuICAgIGZvciAobGV0IGtleSBpbiBpdGVtcykge1xuICAgICAgaWYgKGl0ZW1zLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgbGV0IGl0ZW0gPSBpdGVtc1trZXldO1xuICAgICAgICBwYXJ0cyArPSAod2l0aERvd25sb2FkZWRPbmx5ID8gKGl0ZW0uc3RhdHMuYXZhaWxhYmxlIC8gKGl0ZW0uc3RhdHMuZmlsZV9zaXplIHx8IDEpKSA6IDEpICogKGl0ZW0uYmFuZHdpZHRoIHx8IDEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydHM7XG4gIH1cblxuICBmdW5jdGlvbiB0b0FycmF5IChvYmopIHtcbiAgICBsZXQgYXJyID0gW107XG4gICAgZm9yIChsZXQga2V5IGluIG9iaikge1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGxldCBpdGVtID0gb2JqW2tleV07XG4gICAgICAgIGFyci5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgY29uc3Qgc3RhdHMgPSB7XG4gICAgZG93bmxvYWRpbmc6IDAsXG4gICAgZG93bmxvYWRlZDogMCxcbiAgICBhdmFpbGFibGU6IDAsXG4gICAgbGVmdDogMCxcbiAgICBkb3dubG9hZGluZ0F2YWlsYWJsZUJ5dGVzOiAwLFxuICAgIGRvd25sb2FkaW5nX2ZpbGVfc2l6ZTogMCxcbiAgICBkb3dubG9hZGluZ0J5dGVzOiAwLFxuICAgIGRvd25sb2FkZWRCeXRlczogMCxcbiAgICBhdmFpbGFibGVCeXRlczogMCxcbiAgICB3cml0ZVByb2dyZXNzOiAwLFxuICAgIHdyaXRlUHJvZ3Jlc3NEb3dubG9hZGluZzogMCxcbiAgICB3cml0ZVByb2dyZXNzRG93bmxvYWRlZDogMCxcbiAgICBlcnJvcnM6IDAsXG4gICAgcHJvZ3Jlc3M6IDAsXG4gICAgc3BlZWQ6IDAsXG4gICAgc3RhdHVzOiAnJ1xuICB9O1xuXG4gIC8vYXZhaWxhYmxlQnl0ZXMgLSBiYXRlcyB0aGF0IGhhcyBiZWVuIGFscmVhZHkgZG93bmxvYWRlZFxuICAvL2Rvd25sb2FkZWRCeXRlcyAtIGJ5dGVzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHNwZWVkXG4gIC8vaWYgZm9yIGFueSByZWFzb24gdGhlIGNvbm5lY3Rpb24gaXMgYnJva2VuIG9yIHVzZXIgc3RvcHBlZCwgdGhlbiBhZnRlciByZXN1bWluZyB0aGUgYXZhaWxhYmxlIGJ5dGVzIGFyZVxuICAvL2Fsd2F5cyBiaWdnZXIgdGhlbiB0aGUgYWN0dWFsIGRvd25sb2FkZWQgYnl0ZXMuXG4gIC8vb25jZSB0aGUgZmlsZSBpcyBmaW5pc2hlZCBib3RoIHZhbHVlcyBhcmUgZXF1YWwgYW5kIGhhdmUgdGhlIHNhbWUgdmFsdWUgYXMgZmlsZV9zaXplXG5cbiAgbGV0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBpZiAoIXRoaXMuX3N0YXRzVGltZSkge1xuICAgIHRoaXMuX3N0YXRzVGltZSA9IG5vdztcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgaiA9IG1hbmlmZXN0cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBsZXQgbWFuaWZlc3RJZCA9IG1hbmlmZXN0c1tpXTtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXSA9IF8uY2xvbmUoc3RhdHMpO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmxlZnQgPSB0aGlzLl9zdG9yYWdlLmxlZnQuY291bnQobWFuaWZlc3RJZCk7XG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0ubGVmdEkgPSB0aGlzLl9zdG9yYWdlLmxlZnQuZ2V0SXRlbXMobWFuaWZlc3RJZCk7XG5cbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5lcnJvcnMgPSB0aGlzLl9zdG9yYWdlLmVycm9ycy5jb3VudChtYW5pZmVzdElkKTtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5lcnJvcnNJID0gdGhpcy5fc3RvcmFnZS5lcnJvcnMuZ2V0SXRlbXMobWFuaWZlc3RJZCk7XG4gICAgbGV0IGl0ZW1zID0gdGhpcy5fc3RvcmFnZS5kb3dubG9hZGluZy5nZXRLZXlzKG1hbmlmZXN0SWQpO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkaW5nID0gaXRlbXMubGVuZ3RoO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkaW5nSSA9IHRoaXMuX3N0b3JhZ2UuZG93bmxvYWRpbmcuZ2V0SXRlbXMobWFuaWZlc3RJZCk7XG4gICAgbGV0IHdyaXRlUHJvZ3Jlc3NEb3dubG9hZGluZ0l0ZW1zTGVuZ3RoID0gaXRlbXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGsgPSAwLCBsID0gaXRlbXMubGVuZ3RoOyBrIDwgbDsgaysrKSB7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMuX3N0b3JhZ2UuZG93bmxvYWRpbmcuZ2V0SXRlbShtYW5pZmVzdElkLCBpdGVtc1trXSk7XG4gICAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGluZ0J5dGVzICs9IGl0ZW0uc3RhdHMuZG93bmxvYWRlZDtcbiAgICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkaW5nX2ZpbGVfc2l6ZSArPSBpdGVtLnN0YXRzLmZpbGVfc2l6ZTtcbiAgICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkaW5nQXZhaWxhYmxlQnl0ZXMgKz0gaXRlbS5zdGF0cy5hdmFpbGFibGU7XG4gICAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzRG93bmxvYWRpbmcgKz0gaXRlbS5zdGF0cy53cml0ZVByb2dyZXNzO1xuICAgIH1cbiAgICBpdGVtcyA9IHRoaXMuX3N0b3JhZ2UuZG93bmxvYWRlZC5nZXRJdGVtcyhtYW5pZmVzdElkKTtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkID0gaXRlbXMubGVuZ3RoO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkZWRJID0gaXRlbXM7XG4gICAgbGV0IHdyaXRlUHJvZ3Jlc3NJdGVtc0Rvd25sb2FkZWRMZW5ndGggPSBpdGVtcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgayA9IDAsIGwgPSBpdGVtcy5sZW5ndGg7IGsgPCBsOyBrKyspIHtcbiAgICAgIGxldCBpdGVtID0gaXRlbXNba107XG4gICAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkQnl0ZXMgKz0gaXRlbS5zdGF0cy5kb3dubG9hZGVkO1xuICAgICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0ud3JpdGVQcm9ncmVzc0Rvd25sb2FkZWQgKz0gaXRlbS5zdGF0cy53cml0ZVByb2dyZXNzO1xuICAgIH1cblxuICAgIC8vbmVlZCB0byBjYWxjdWxhdGUgd2hhdCBwZXJjZW50YWdlIG9mIGJ5dGVzIHRoYXQgYXJlIGdvaW5nIHRvIGJlIHdyaXR0ZW4gdG8gaGFyZCBkcml2ZSBhcmUgYWNjb3JkaW5nIHRoZSB0aGUgd2hvbGVcbiAgICAvLyBzaXplIGZvciBleGFtcGxlIDUgZmlsZXMgYXJlIGJlaW5nIGRvd25sb2FkZWQsIDQgc21hbGxlciBhcmUgMTAwbWIgYW5kIG9uZSBsYXJnZSAxLDlHQi4gV2hlbiB0aGUgbGFyZ2UgZmlsZSBpc1xuICAgIC8vIGJlaW5nIHNhdmVkIHRoZSB3cml0ZSBwcm9ncmVzcyBpcyBiYXNpY2FsbHkgMTkwMC8yMDAwID0gOTUlIG9mIGFsbCB3cml0dGVuIGJ5dGVzLlxuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3NEb3dubG9hZGluZyA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3NEb3dubG9hZGluZyAqXG4gICAgICAoYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRpbmdBdmFpbGFibGVCeXRlcyAvIChhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkQnl0ZXMgKyBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGluZ19maWxlX3NpemUpIHx8IDEpO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3NEb3dubG9hZGluZyA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3NEb3dubG9hZGluZyAvICh3cml0ZVByb2dyZXNzRG93bmxvYWRpbmdJdGVtc0xlbmd0aCB8fCAxKTtcblxuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3NEb3dubG9hZGVkID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0ud3JpdGVQcm9ncmVzc0Rvd25sb2FkZWQgKlxuICAgICAgKGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkZWRCeXRlcyAvIChhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkQnl0ZXMgKyBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGluZ19maWxlX3NpemUpIHx8IDEpO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3NEb3dubG9hZGVkID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0ud3JpdGVQcm9ncmVzc0Rvd25sb2FkZWQgLyAod3JpdGVQcm9ncmVzc0l0ZW1zRG93bmxvYWRlZExlbmd0aCB8fCAxKTtcblxuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3MgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzRG93bmxvYWRpbmcgKyBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzRG93bmxvYWRlZDtcblxuICAgIGxldCBzcGVlZCA9IHRoaXMuX2dldERpZmYoXCJkb3dubG9hZGluZ0J5dGVzXCIsIG1hbmlmZXN0SWQsIGFsbFN0YXRzLCB0aGlzLl9zdGF0c1ByZXZpb3VzKTtcbiAgICBzcGVlZCArPSB0aGlzLl9nZXREaWZmKFwiZG93bmxvYWRlZEJ5dGVzXCIsIG1hbmlmZXN0SWQsIGFsbFN0YXRzLCB0aGlzLl9zdGF0c1ByZXZpb3VzKTtcbiAgICBzcGVlZCA9IChzcGVlZCAqIDEwMDApIC8gKChub3cgLSB0aGlzLl9zdGF0c1RpbWUpIHx8IDEgICk7XG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0uc3BlZWQgPSBzcGVlZDtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5zdGF0dXMgPSB0aGlzLl9zdG9yYWdlLnN0YXR1cy5nZXRJdGVtKG1hbmlmZXN0SWQsIFwic3RhdHVzXCIpO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmRldGFpbHMgPSB0aGlzLl9zdG9yYWdlLnN0YXR1cy5nZXRJdGVtKG1hbmlmZXN0SWQsIFwiZGV0YWlsc1wiKTtcblxuICAgIC8vcHJvZ3Jlc3MgZm9yIGRvd25sb2FkZWRcbiAgICBsZXQgbGVmdFBhcnRzID0gY291bnRQYXJ0cyhhbGxTdGF0c1ttYW5pZmVzdElkXS5sZWZ0SSk7XG4gICAgbGV0IGRvd25sb2FkZWRQYXJ0cyA9IGNvdW50UGFydHMoYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZEkpO1xuICAgIGxldCBkb3dubG9hZGluZ1BhcnRzU2l6ZSA9IGNvdW50UGFydHNPYmooYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRpbmdJKTtcbiAgICBsZXQgZG93bmxvYWRpbmdQYXJ0cyA9IGNvdW50UGFydHNPYmooYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRpbmdJLCB0cnVlKTtcbiAgICBsZXQgZXJyb3JQYXJ0cyA9IGNvdW50UGFydHNPYmooYWxsU3RhdHNbbWFuaWZlc3RJZF0uZXJyb3JzSSk7XG4gICAgbGV0IGFsbFBhcnRzID0gbGVmdFBhcnRzICsgZG93bmxvYWRlZFBhcnRzICsgZG93bmxvYWRpbmdQYXJ0c1NpemUgKyBlcnJvclBhcnRzO1xuXG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0ucHJvZ3Jlc3MgPSAoZG93bmxvYWRlZFBhcnRzICsgZG93bmxvYWRpbmdQYXJ0cykgLyAoYWxsUGFydHMgfHwgMSk7XG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0ucHJvZ3Jlc3MgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5wcm9ncmVzcyAqICgxIC0gd3JpdGVQcm9ncmVzc1VzYWdlKTtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5wcm9ncmVzcyArPSBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzICogd3JpdGVQcm9ncmVzc1VzYWdlO1xuXG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZEJ5dGVzVG90YWwgPSBNYXRoLnJvdW5kKGFsbFN0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzICogMTAwMDApIC8gMTAwO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkZWRCeXRlc1RvdGFsICs9IFwiJVwiO1xuXG4gICAgLy8gcHJvZ3Jlc3Mgb2YgZWFjaCByZXByZXNlbnRpb25cbiAgICBsZXQgcmVkdWNlRnVuYyA9IGZ1bmN0aW9uIChtYXAsIG9iaikge1xuICAgICAgaWYgKCAhbWFwW29iai5pZF0gKSAge1xuICAgICAgICBtYXBbb2JqLmlkXSA9IFtdXG4gICAgICB9XG4gICAgICBtYXBbb2JqLmlkXS5wdXNoKG9iaik7XG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICBsZXQgZG93bmxvYWRlZEJ5SWQgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkSS5yZWR1Y2UocmVkdWNlRnVuYywge30pO1xuICAgIGxldCBkb3dubG9hZGluZ0FycmF5ID0gdG9BcnJheShhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGluZ0kpO1xuICAgIGxldCBkb3dubG9hZGluZ0J5SWQgPSBkb3dubG9hZGluZ0FycmF5LnJlZHVjZShyZWR1Y2VGdW5jLCB7fSk7XG4gICAgbGV0IGxlZnRCeUlkID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0ubGVmdEkucmVkdWNlKHJlZHVjZUZ1bmMsIHt9KTtcbiAgICBsZXQgZXJyb3JBcnJheSA9IHRvQXJyYXkoYWxsU3RhdHNbbWFuaWZlc3RJZF0uZXJyb3JzSSk7XG4gICAgbGV0IGVycm9yc0J5SWQgPSBlcnJvckFycmF5LnJlZHVjZShyZWR1Y2VGdW5jLCB7fSk7XG5cbiAgICBsZXQgZXh0ZW5kID0gZnVuY3Rpb24gKG9iaiwgc3JjKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgICAgIGlmIChzcmMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGlmICghb2JqW2tleV0pIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIG9ialtrZXldID0gb2JqW2tleV0uY29uY2F0KHNyY1trZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgbGV0IGFsbFBhcnRzQnlJZCA9IHt9O1xuICAgIGV4dGVuZChhbGxQYXJ0c0J5SWQsIGRvd25sb2FkZWRCeUlkKTtcbiAgICBleHRlbmQoYWxsUGFydHNCeUlkLCBkb3dubG9hZGluZ0J5SWQpO1xuICAgIGV4dGVuZChhbGxQYXJ0c0J5SWQsIGxlZnRCeUlkKTtcbiAgICBleHRlbmQoYWxsUGFydHNCeUlkLCBlcnJvcnNCeUlkKTtcblxuICAgIC8vIGNvbXB1dGUgcHJvZ3JlcyBmb3IgZWFjaCBpZFxuICAgIGxldCBwcm9ncmVzc0J5SWQgPSB7fTtcbiAgICBsZXQga2V5O1xuICAgIGZvciAoa2V5IGluIGFsbFBhcnRzQnlJZCkge1xuICAgICAgaWYgKGFsbFBhcnRzQnlJZC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHByb2dyZXNzQnlJZFtrZXldID0gKGNvdW50UGFydHNPYmooZG93bmxvYWRlZEJ5SWRba2V5XSkpIC8gKGNvdW50UGFydHNPYmooYWxsUGFydHNCeUlkW2tleV0pIHx8IDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcHJvZ3Jlc3NCeUlkUGVyY2VudCA9IHt9O1xuICAgIGZvciAoa2V5IGluIHByb2dyZXNzQnlJZCkge1xuICAgICAgaWYgKHByb2dyZXNzQnlJZC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHByb2dyZXNzQnlJZFBlcmNlbnRba2V5XSA9IE1hdGgucm91bmQocHJvZ3Jlc3NCeUlkW2tleV0gKiAxMDAwMCkgLyAxMDAgKyBcIiVcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0ucHJvZ3Jlc3NCeUlkID0gcHJvZ3Jlc3NCeUlkO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzQnlJZFBlcmNlbnQgPSBwcm9ncmVzc0J5SWRQZXJjZW50O1xuICB9XG4gIGxldCBzaG93U3RhdHMgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBtYW5pZmVzdHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgbGV0IG1hbmlmZXN0SWQgPSBtYW5pZmVzdHNbaV07XG4gICAgc2hvd1N0YXRzW21hbmlmZXN0SWRdID0ge307XG4gICAgbGV0IGRvd25sb2FkZWRCeXRlc1RvdGFsID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZEJ5dGVzICsgYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRpbmdBdmFpbGFibGVCeXRlcztcbiAgICBzaG93U3RhdHNbbWFuaWZlc3RJZF0ucHJvZ3Jlc3MgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5wcm9ncmVzcztcbiAgICBzaG93U3RhdHNbbWFuaWZlc3RJZF0ucHJvZ3Jlc3NQZXJjZW50YWdlID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZEJ5dGVzVG90YWw7XG4gICAgc2hvd1N0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzQnlJZCA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzQnlJZDtcbiAgICBzaG93U3RhdHNbbWFuaWZlc3RJZF0ucHJvZ3Jlc3NCeUlkUGVyY2VudCA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzQnlJZFBlcmNlbnQ7XG4gICAgc2hvd1N0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkZWRCeXRlc1RvdGFsID0gdGhpcy5fY29udmVydFRvQnl0ZXMoZG93bmxvYWRlZEJ5dGVzVG90YWwsIDEsIDIsIDIpO1xuICAgIHNob3dTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZDtcbiAgICBzaG93U3RhdHNbbWFuaWZlc3RJZF0ubGVmdCA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLmxlZnQ7XG4gICAgc2hvd1N0YXRzW21hbmlmZXN0SWRdLmVycm9ycyA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLmVycm9ycztcbiAgICBpZiAoYWxsU3RhdHNbbWFuaWZlc3RJZF0uc3BlZWQgPCAwKSB7XG4gICAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5zcGVlZCA9IDA7XG4gICAgfVxuICAgIHNob3dTdGF0c1ttYW5pZmVzdElkXS5zcGVlZCA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLnNwZWVkO1xuICAgIHNob3dTdGF0c1ttYW5pZmVzdElkXS5zcGVlZEJ5dGVzID0gdGhpcy5fY29udmVydFRvQnl0ZXMoYWxsU3RhdHNbbWFuaWZlc3RJZF0uc3BlZWQsIDMsIDIpO1xuICAgIHNob3dTdGF0c1ttYW5pZmVzdElkXS5zdGF0dXMgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5zdGF0dXM7XG4gICAgc2hvd1N0YXRzW21hbmlmZXN0SWRdLmRldGFpbHMgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5kZXRhaWxzO1xuXG4gIH1cbiAgZm9yIChsZXQga2V5IGluIHNob3dTdGF0cykge1xuICAgIGlmIChzaG93U3RhdHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdGhpcy5fc3RhdHNba2V5XSA9IHNob3dTdGF0c1trZXldO1xuICAgIH1cbiAgfVxuICBpZiAoIXJlZnJlc2gpIHtcbiAgICB0aGlzLl9zdGF0c1RpbWUgPSBub3c7XG4gICAgZm9yIChsZXQga2V5IGluIGFsbFN0YXRzKSB7XG4gICAgICBpZiAoYWxsU3RhdHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB0aGlzLl9zdGF0c1ByZXZpb3VzW2tleV0gPSBhbGxTdGF0c1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0ga2V5IHN0YXRzIGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnQgLSBjdXJyZW50IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gcHJldmlvdXMgLSBwcmV2aW91cyB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn0gLSBkaWZmZXJlbmNlIGJldHdlZW4gY3VycmVudCBhbmQgcHJldmlvdXMgdmFsdWVcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2FkU3RhdHMucHJvdG90eXBlLl9nZXREaWZmID0gZnVuY3Rpb24gKGtleSwgbWFuaWZlc3RJZCwgY3VycmVudCwgcHJldmlvdXMpIHtcbiAgY29uc3QgY3VycmVudFZhbHVlID0gY3VycmVudFttYW5pZmVzdElkXSAmJiBjdXJyZW50W21hbmlmZXN0SWRdW2tleV0gfHwgMDtcbiAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzW21hbmlmZXN0SWRdICYmIHByZXZpb3VzW21hbmlmZXN0SWRdW2tleV0gfHwgMDtcbiAgcmV0dXJuIGN1cnJlbnRWYWx1ZSAtIHByZXZpb3VzVmFsdWU7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gbWFuaWZlc3RJZHMgLSBtYW5pZmVzdCBpZGVudGlmaWVyIG9yIGFycmF5IG9mIG1hbmlmZXN0cyBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7Kn0gc3RhdHMgZm9yIGNlcnRhaW4gZG93bmxvYWQgb3IgYXJyYXkgb2Ygc3RhdHMgZm9yIGRvd25sb2Fkc1xuICovXG5Eb3dubG9hZFN0YXRzLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uIChtYW5pZmVzdElkcykge1xuICBsZXQgc3RhdHM7XG4gIGlmICh0aGlzLl9zdGF0cykge1xuICAgIGlmICh0eXBlb2YgbWFuaWZlc3RJZHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzdGF0cyA9IHRoaXMuX3N0YXRzW21hbmlmZXN0SWRzXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbWFuaWZlc3RJZHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGxldCBzdGF0ID0gdGhpcy5fc3RhdHNbbWFuaWZlc3RJZHNbaV1dO1xuICAgICAgICBpZiAoc3RhdCkge1xuICAgICAgICAgIHN0YXRzLnB1c2goc3RhdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRzO1xufTtcblxuRG93bmxvYWRTdGF0cy5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fZ2VuZXJhdGUodHJ1ZSk7XG59O1xuXG5Eb3dubG9hZFN0YXRzLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLl9pbnRlcnZhbCkge1xuICAgIHRoaXMuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5fZ2VuZXJhdGUsIHRoaXMuX1NUQVRTX1RJTUVfR0VORVJBVElPTik7XG4gICAgdGhpcy5fZ2VuZXJhdGUoKTtcbiAgfVxufTtcblxuRG93bmxvYWRTdGF0cy5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XG4gIHRoaXMuX2ludGVydmFsID0gbnVsbDtcbiAgdGhpcy5fZ2VuZXJhdGUoKTtcbiAgdGhpcy5fc3RhdHNQcmV2aW91cyA9IHt9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb3dubG9hZFN0YXRzO1xuIl0sIm5hbWVzIjpbIl8iLCJyZXF1aXJlIiwid3JpdGVQcm9ncmVzc1VzYWdlIiwiRG93bmxvYWRTdGF0cyIsInN0b3JhZ2UiLCJfc3RvcmFnZSIsIl9zdGF0cyIsIl9zdGF0c1ByZXZpb3VzIiwiX1NUQVRTX1RJTUVfR0VORVJBVElPTiIsImJpbmRBbGwiLCJwcm90b3R5cGUiLCJfY29udmVydFRvQnl0ZXMiLCJ2YWx1ZSIsInByZWNpc2lvbiIsInByZWNpc2lvbjIiLCJwcmVjaXNpb24zIiwiX2NvbnZlcnRUb0tCIiwiX2NvbnZlcnRUb01CIiwiX2NvbnZlcnRUb0dCIiwiYSIsIk1hdGgiLCJwb3ciLCJvbmVLQiIsInJvdW5kIiwib25lTUIiLCJvbmVHQiIsIl9jbGVhclNwZWVkIiwiYWxsTWFuaWZlc3RJZHMiLCJPYmplY3QiLCJrZXlzIiwiaSIsImoiLCJsZW5ndGgiLCJtYW5pZmVzdElkIiwia2V5RXhpc3RzIiwic3BlZWQiLCJzcGVlZEJ5dGVzIiwiX2dlbmVyYXRlIiwicmVmcmVzaCIsImFsbFN0YXRzIiwibWFuaWZlc3RzIiwiZ2V0S2V5cyIsImNvdW50UGFydHMiLCJpdGVtcyIsInBhcnRzIiwiayIsImwiLCJpdGVtIiwiYmFuZHdpZHRoIiwiY291bnRQYXJ0c09iaiIsIndpdGhEb3dubG9hZGVkT25seSIsImtleSIsImhhc093blByb3BlcnR5Iiwic3RhdHMiLCJhdmFpbGFibGUiLCJmaWxlX3NpemUiLCJ0b0FycmF5Iiwib2JqIiwiYXJyIiwicHVzaCIsImRvd25sb2FkaW5nIiwiZG93bmxvYWRlZCIsImxlZnQiLCJkb3dubG9hZGluZ0F2YWlsYWJsZUJ5dGVzIiwiZG93bmxvYWRpbmdfZmlsZV9zaXplIiwiZG93bmxvYWRpbmdCeXRlcyIsImRvd25sb2FkZWRCeXRlcyIsImF2YWlsYWJsZUJ5dGVzIiwid3JpdGVQcm9ncmVzcyIsIndyaXRlUHJvZ3Jlc3NEb3dubG9hZGluZyIsIndyaXRlUHJvZ3Jlc3NEb3dubG9hZGVkIiwiZXJyb3JzIiwicHJvZ3Jlc3MiLCJzdGF0dXMiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsIl9zdGF0c1RpbWUiLCJjbG9uZSIsImNvdW50IiwibGVmdEkiLCJnZXRJdGVtcyIsImVycm9yc0kiLCJkb3dubG9hZGluZ0kiLCJ3cml0ZVByb2dyZXNzRG93bmxvYWRpbmdJdGVtc0xlbmd0aCIsImdldEl0ZW0iLCJkb3dubG9hZGVkSSIsIndyaXRlUHJvZ3Jlc3NJdGVtc0Rvd25sb2FkZWRMZW5ndGgiLCJfZ2V0RGlmZiIsImRldGFpbHMiLCJsZWZ0UGFydHMiLCJkb3dubG9hZGVkUGFydHMiLCJkb3dubG9hZGluZ1BhcnRzU2l6ZSIsImRvd25sb2FkaW5nUGFydHMiLCJlcnJvclBhcnRzIiwiYWxsUGFydHMiLCJkb3dubG9hZGVkQnl0ZXNUb3RhbCIsInJlZHVjZUZ1bmMiLCJtYXAiLCJpZCIsImRvd25sb2FkZWRCeUlkIiwicmVkdWNlIiwiZG93bmxvYWRpbmdBcnJheSIsImRvd25sb2FkaW5nQnlJZCIsImxlZnRCeUlkIiwiZXJyb3JBcnJheSIsImVycm9yc0J5SWQiLCJleHRlbmQiLCJzcmMiLCJjb25jYXQiLCJhbGxQYXJ0c0J5SWQiLCJwcm9ncmVzc0J5SWQiLCJwcm9ncmVzc0J5SWRQZXJjZW50Iiwic2hvd1N0YXRzIiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwiY3VycmVudCIsInByZXZpb3VzIiwiY3VycmVudFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsImdldFN0YXRzIiwibWFuaWZlc3RJZHMiLCJzdGF0Iiwic3RhcnQiLCJfaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInN0b3AiLCJjbGVhckludGVydmFsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2197\n')},7314:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar CODES = __webpack_require__(6999);\n\nvar translationErrors = {\n  downloads: {\n    _GENERAL: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Sorry we are unable to process your request - some internal error occurred"\n    },\n    ALREADY_FINISHED: {\n      code: CODES.ERRORS.FINISHED,\n      msg: "This download \'%manifestId%\' has been already finished."\n    },\n    ALREADY_REMOVED_ALL_UNFINISHED: {\n      code: CODES.ERRORS.REMOVED,\n      msg: "All unfinished downloads have been already removed, nothing left."\n    },\n    ALREADY_RESUMED: {\n      code: CODES.ERRORS.RESUMED,\n      msg: "This download \'%manifestId%\' has been already resumed."\n    },\n    ALREADY_STOPPED: {\n      code: CODES.ERRORS.STOPPED,\n      msg: "This download \'%manifestId%\' has been already stopped or has been already downloaded."\n    },\n    ALREADY_STOPPED_ALL: {\n      code: CODES.ERRORS.STOPPED,\n      msg: "There are no downloads to be stopped."\n    },\n    ALREADY_STARTED: {\n      code: CODES.ERRORS.STARTED,\n      msg: "This download \'%manifestId%\' has been already started."\n    },\n    BROKEN_CANNOT_BE_RESUMED: {\n      code: CODES.ERRORS.BROKEN,\n      msg: "This download \'%manifestId%\' is broken and cannot be resumed."\n    },\n    INFO_FAILED: {\n      code: CODES.ERRORS.INFO,\n      msg: "Gettting info of download \'%manifestId%\' failed."\n    },\n    REMOVING_ALL_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Removing of all downloads failed."\n    },\n    REMOVING_ALL_UNFINISHED_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Removing of all unfinished downloads failed."\n    },\n    REMOVING_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Removing of download \'%manifestId%\' failed."\n    },\n    RESUMING_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Resuming of download \'%manifestId%\' failed."\n    },\n    UPDATE_DOWNLOAD_FOLDER_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Updating of download folder for \'%manifestId%\' failed."\n    },\n    STOPPING_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Stopping of download \'%manifestId%\' failed."\n    },\n    SAVING_PERSISTENT_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Saving persistent info for download \'%manifestId%\' failed."\n    },\n    SAVING_DATA_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Saving data for download \'%manifestId%\' failed."\n    },\n    STOPPING_ALL_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Stopping all downloads failed."\n    },\n    UNFINISHED: {\n      code: CODES.ERRORS.UNFINISHED,\n      msg: "This download is not ready yet."\n    }\n  },\n  manifests: {\n    NOT_FOUND: {\n      code: CODES.ERRORS.NOT_FOUND,\n      msg: "Manifest with id=\'%manifestId%\' not found."\n    },\n    LOADING_FAILED: {\n      code: CODES.ERRORS.LOADING,\n      msg: "Could not load manifest from url \'%manifestUrl%\'."\n    },\n    LIST_LOADING_FAILED: {\n      code: CODES.ERRORS.LOADING,\n      msg: "Could not load list of manifests."\n    },\n    FOLDER_ALREADY_EXISTS: {\n      code: CODES.ERRORS.EXISTS,\n      msg: "Folder for manifest with id =\'%manifestId%\' already exists."\n    },\n    INVALID_ID: {\n      code: CODES.ERRORS.BROKEN,\n      msg: "Provided custom id for manifest is not valid: (\'%invalid%\')"\n    }\n  }\n};\nmodule.exports = translationErrors;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VjVCLElBQUksRUFBRUwsS0FBSyxDQUFDTSxNQUFOLENBQWEyQixVQURUO01BRVZ6QixHQUFHLEVBQUU7SUFGSztFQXpFSCxDQURhO0VBK0V4QjBCLFNBQVMsRUFBRTtJQUNUQyxTQUFTLEVBQUU7TUFDVDlCLElBQUksRUFBRUwsS0FBSyxDQUFDTSxNQUFOLENBQWE2QixTQURWO01BRVQzQixHQUFHLEVBQUU7SUFGSSxDQURGO0lBS1Q0QixjQUFjLEVBQUU7TUFDZC9CLElBQUksRUFBRUwsS0FBSyxDQUFDTSxNQUFOLENBQWErQixPQURMO01BRWQ3QixHQUFHLEVBQUU7SUFGUyxDQUxQO0lBU1Q4QixtQkFBbUIsRUFBRTtNQUNuQmpDLElBQUksRUFBRUwsS0FBSyxDQUFDTSxNQUFOLENBQWErQixPQURBO01BRW5CN0IsR0FBRyxFQUFFO0lBRmMsQ0FUWjtJQWFUK0IscUJBQXFCLEVBQUU7TUFDckJsQyxJQUFJLEVBQUVMLEtBQUssQ0FBQ00sTUFBTixDQUFha0MsTUFERTtNQUVyQmhDLEdBQUcsRUFBRTtJQUZnQixDQWJkO0lBaUJUaUMsVUFBVSxFQUFFO01BQ1ZwQyxJQUFJLEVBQUVMLEtBQUssQ0FBQ00sTUFBTixDQUFhZSxNQURUO01BRVZiLEdBQUcsRUFBRTtJQUZLO0VBakJIO0FBL0VhLENBQTFCO0FBdUdBa0MsTUFBTSxDQUFDQyxPQUFQLEdBQWlCekMsaUJBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS90cmFuc2xhdGlvbi9fZXJyb3JzLmpzP2NiZGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBDT0RFUyA9IHJlcXVpcmUoXCIuLy4uL2Rvd25sb2Fkcy9jb2Rlc1wiKTtcblxuY29uc3QgdHJhbnNsYXRpb25FcnJvcnMgPSB7XG4gIGRvd25sb2Fkczoge1xuICAgIF9HRU5FUkFMOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuSU5URVJOQUxfRVJST1IsXG4gICAgICBtc2c6IFwiU29ycnkgd2UgYXJlIHVuYWJsZSB0byBwcm9jZXNzIHlvdXIgcmVxdWVzdCAtIHNvbWUgaW50ZXJuYWwgZXJyb3Igb2NjdXJyZWRcIixcbiAgICB9LFxuICAgIEFMUkVBRFlfRklOSVNIRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5GSU5JU0hFRCxcbiAgICAgIG1zZzogXCJUaGlzIGRvd25sb2FkICclbWFuaWZlc3RJZCUnIGhhcyBiZWVuIGFscmVhZHkgZmluaXNoZWQuXCIsXG4gICAgfSxcbiAgICBBTFJFQURZX1JFTU9WRURfQUxMX1VORklOSVNIRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5SRU1PVkVELFxuICAgICAgbXNnOiBcIkFsbCB1bmZpbmlzaGVkIGRvd25sb2FkcyBoYXZlIGJlZW4gYWxyZWFkeSByZW1vdmVkLCBub3RoaW5nIGxlZnQuXCIsXG4gICAgfSxcbiAgICBBTFJFQURZX1JFU1VNRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5SRVNVTUVELFxuICAgICAgbXNnOiBcIlRoaXMgZG93bmxvYWQgJyVtYW5pZmVzdElkJScgaGFzIGJlZW4gYWxyZWFkeSByZXN1bWVkLlwiLFxuICAgIH0sXG4gICAgQUxSRUFEWV9TVE9QUEVEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuU1RPUFBFRCxcbiAgICAgIG1zZzogXCJUaGlzIGRvd25sb2FkICclbWFuaWZlc3RJZCUnIGhhcyBiZWVuIGFscmVhZHkgc3RvcHBlZCBvciBoYXMgYmVlbiBhbHJlYWR5IGRvd25sb2FkZWQuXCIsXG4gICAgfSxcbiAgICBBTFJFQURZX1NUT1BQRURfQUxMOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuU1RPUFBFRCxcbiAgICAgIG1zZzogXCJUaGVyZSBhcmUgbm8gZG93bmxvYWRzIHRvIGJlIHN0b3BwZWQuXCIsXG4gICAgfSxcbiAgICBBTFJFQURZX1NUQVJURUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5TVEFSVEVELFxuICAgICAgbXNnOiBcIlRoaXMgZG93bmxvYWQgJyVtYW5pZmVzdElkJScgaGFzIGJlZW4gYWxyZWFkeSBzdGFydGVkLlwiLFxuICAgIH0sXG4gICAgQlJPS0VOX0NBTk5PVF9CRV9SRVNVTUVEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuQlJPS0VOLFxuICAgICAgbXNnOiBcIlRoaXMgZG93bmxvYWQgJyVtYW5pZmVzdElkJScgaXMgYnJva2VuIGFuZCBjYW5ub3QgYmUgcmVzdW1lZC5cIixcbiAgICB9LFxuICAgIElORk9fRkFJTEVEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuSU5GTyxcbiAgICAgIG1zZzogXCJHZXR0dGluZyBpbmZvIG9mIGRvd25sb2FkICclbWFuaWZlc3RJZCUnIGZhaWxlZC5cIixcbiAgICB9LFxuICAgIFJFTU9WSU5HX0FMTF9GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5JTlRFUk5BTF9FUlJPUixcbiAgICAgIG1zZzogXCJSZW1vdmluZyBvZiBhbGwgZG93bmxvYWRzIGZhaWxlZC5cIixcbiAgICB9LFxuICAgIFJFTU9WSU5HX0FMTF9VTkZJTklTSEVEX0ZBSUxFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLklOVEVSTkFMX0VSUk9SLFxuICAgICAgbXNnOiBcIlJlbW92aW5nIG9mIGFsbCB1bmZpbmlzaGVkIGRvd25sb2FkcyBmYWlsZWQuXCIsXG4gICAgfSxcbiAgICBSRU1PVklOR19GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5JTlRFUk5BTF9FUlJPUixcbiAgICAgIG1zZzogXCJSZW1vdmluZyBvZiBkb3dubG9hZCAnJW1hbmlmZXN0SWQlJyBmYWlsZWQuXCIsXG4gICAgfSxcbiAgICBSRVNVTUlOR19GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5JTlRFUk5BTF9FUlJPUixcbiAgICAgIG1zZzogXCJSZXN1bWluZyBvZiBkb3dubG9hZCAnJW1hbmlmZXN0SWQlJyBmYWlsZWQuXCIsXG4gICAgfSxcbiAgICBVUERBVEVfRE9XTkxPQURfRk9MREVSX0ZBSUxFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLklOVEVSTkFMX0VSUk9SLFxuICAgICAgbXNnOiBcIlVwZGF0aW5nIG9mIGRvd25sb2FkIGZvbGRlciBmb3IgJyVtYW5pZmVzdElkJScgZmFpbGVkLlwiLFxuICAgIH0sXG4gICAgU1RPUFBJTkdfRkFJTEVEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuSU5URVJOQUxfRVJST1IsXG4gICAgICBtc2c6IFwiU3RvcHBpbmcgb2YgZG93bmxvYWQgJyVtYW5pZmVzdElkJScgZmFpbGVkLlwiLFxuICAgIH0sXG4gICAgU0FWSU5HX1BFUlNJU1RFTlRfRkFJTEVEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuSU5URVJOQUxfRVJST1IsXG4gICAgICBtc2c6IFwiU2F2aW5nIHBlcnNpc3RlbnQgaW5mbyBmb3IgZG93bmxvYWQgJyVtYW5pZmVzdElkJScgZmFpbGVkLlwiLFxuICAgIH0sXG4gICAgU0FWSU5HX0RBVEFfRkFJTEVEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuSU5URVJOQUxfRVJST1IsXG4gICAgICBtc2c6IFwiU2F2aW5nIGRhdGEgZm9yIGRvd25sb2FkICclbWFuaWZlc3RJZCUnIGZhaWxlZC5cIixcbiAgICB9LFxuICAgIFNUT1BQSU5HX0FMTF9GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5JTlRFUk5BTF9FUlJPUixcbiAgICAgIG1zZzogXCJTdG9wcGluZyBhbGwgZG93bmxvYWRzIGZhaWxlZC5cIixcbiAgICB9LFxuICAgIFVORklOSVNIRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5VTkZJTklTSEVELFxuICAgICAgbXNnOiBcIlRoaXMgZG93bmxvYWQgaXMgbm90IHJlYWR5IHlldC5cIixcbiAgICB9LFxuICB9LFxuICBtYW5pZmVzdHM6IHtcbiAgICBOT1RfRk9VTkQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5OT1RfRk9VTkQsXG4gICAgICBtc2c6IFwiTWFuaWZlc3Qgd2l0aCBpZD0nJW1hbmlmZXN0SWQlJyBub3QgZm91bmQuXCJcbiAgICB9LFxuICAgIExPQURJTkdfRkFJTEVEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuTE9BRElORyxcbiAgICAgIG1zZzogXCJDb3VsZCBub3QgbG9hZCBtYW5pZmVzdCBmcm9tIHVybCAnJW1hbmlmZXN0VXJsJScuXCJcbiAgICB9LFxuICAgIExJU1RfTE9BRElOR19GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5MT0FESU5HLFxuICAgICAgbXNnOiBcIkNvdWxkIG5vdCBsb2FkIGxpc3Qgb2YgbWFuaWZlc3RzLlwiXG4gICAgfSxcbiAgICBGT0xERVJfQUxSRUFEWV9FWElTVFM6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5FWElTVFMsXG4gICAgICBtc2c6IFwiRm9sZGVyIGZvciBtYW5pZmVzdCB3aXRoIGlkID0nJW1hbmlmZXN0SWQlJyBhbHJlYWR5IGV4aXN0cy5cIlxuICAgIH0sXG4gICAgSU5WQUxJRF9JRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLkJST0tFTixcbiAgICAgIG1zZzogXCJQcm92aWRlZCBjdXN0b20gaWQgZm9yIG1hbmlmZXN0IGlzIG5vdCB2YWxpZDogKCclaW52YWxpZCUnKVwiXG4gICAgfSxcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2xhdGlvbkVycm9ycztcbiJdLCJuYW1lcyI6WyJDT0RFUyIsInJlcXVpcmUiLCJ0cmFuc2xhdGlvbkVycm9ycyIsImRvd25sb2FkcyIsIl9HRU5FUkFMIiwiY29kZSIsIkVSUk9SUyIsIklOVEVSTkFMX0VSUk9SIiwibXNnIiwiQUxSRUFEWV9GSU5JU0hFRCIsIkZJTklTSEVEIiwiQUxSRUFEWV9SRU1PVkVEX0FMTF9VTkZJTklTSEVEIiwiUkVNT1ZFRCIsIkFMUkVBRFlfUkVTVU1FRCIsIlJFU1VNRUQiLCJBTFJFQURZX1NUT1BQRUQiLCJTVE9QUEVEIiwiQUxSRUFEWV9TVE9QUEVEX0FMTCIsIkFMUkVBRFlfU1RBUlRFRCIsIlNUQVJURUQiLCJCUk9LRU5fQ0FOTk9UX0JFX1JFU1VNRUQiLCJCUk9LRU4iLCJJTkZPX0ZBSUxFRCIsIklORk8iLCJSRU1PVklOR19BTExfRkFJTEVEIiwiUkVNT1ZJTkdfQUxMX1VORklOSVNIRURfRkFJTEVEIiwiUkVNT1ZJTkdfRkFJTEVEIiwiUkVTVU1JTkdfRkFJTEVEIiwiVVBEQVRFX0RPV05MT0FEX0ZPTERFUl9GQUlMRUQiLCJTVE9QUElOR19GQUlMRUQiLCJTQVZJTkdfUEVSU0lTVEVOVF9GQUlMRUQiLCJTQVZJTkdfREFUQV9GQUlMRUQiLCJTVE9QUElOR19BTExfRkFJTEVEIiwiVU5GSU5JU0hFRCIsIm1hbmlmZXN0cyIsIk5PVF9GT1VORCIsIkxPQURJTkdfRkFJTEVEIiwiTE9BRElORyIsIkxJU1RfTE9BRElOR19GQUlMRUQiLCJGT0xERVJfQUxSRUFEWV9FWElTVFMiLCJFWElTVFMiLCJJTlZBTElEX0lEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7314\n')},9278:module=>{"use strict";eval('\n\nmodule.exports = {\n  test: "Hello world"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI3OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZDLElBQUksRUFBRTtBQURTLENBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS90cmFuc2xhdGlvbi9fdHJhbnNsYXRpb25zLmpzPzZlYjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0ZXN0OiBcIkhlbGxvIHdvcmxkXCJcbn07Il0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJ0ZXN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9278\n')},817:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\n\nvar errors = __webpack_require__(7314);\n\nvar translations = __webpack_require__(9278);\n\nvar CODES = __webpack_require__(6999);\n\nvar REGEXP_KEYS = /%[A-Za-z0-9_-]+%/g;\n/**\n * @namespace <global>\n * @module util/translation\n * @property {translationErrors} e - {@link translationErrors}\n */\n\nvar translation = {};\n/**\n *\n * @param {object} key - translation object\n * @returns {*} key from translation object\n * @private\n */\n\nfunction _getCode(key) {\n  key = key || {};\n  var code = key.code;\n\n  if (!code) {\n    code = CODES.GENERAL;\n  }\n\n  return code;\n}\n/**\n *\n * @param {object} key - translation object\n * @param {array|object|string|number|boolean} values - translation values\n * @returns {*} all key values\n * @private\n */\n\n\nfunction _getKeyValues(key, values) {\n  var translation = key;\n  var keyValues = [];\n\n  if (_typeof(translation) === "object") {\n    translation = translation.msg;\n  }\n\n  if (translation) {\n    if (values instanceof Array) {\n      var groups = _getUniqueKeys(translation.match(REGEXP_KEYS));\n\n      for (var i = 0, j = Math.min(groups.length, values.length); i < j; i++) {\n        var keyValue = {};\n        keyValue[groups[i].replace(/%/g, "")] = values[i];\n        keyValues.push(keyValue);\n      }\n    } else if (_typeof(values) === "object") {\n      for (var _key in values) {\n        if (values.hasOwnProperty(_key)) {\n          var _keyValue = {};\n          _keyValue[_key] = values[_key];\n          keyValues.push(_keyValue);\n        }\n      }\n    } else if (typeof values === "string" || typeof values === "number" || typeof values === "boolean") {\n      var _groups = translation.match(REGEXP_KEYS) || [];\n\n      for (var _i = 0, _j = _groups.length; _i < _j; _i++) {\n        var _keyValue2 = {};\n        _keyValue2[_groups[_i].replace(/%/g, "")] = values;\n        keyValues.push(_keyValue2);\n      }\n    }\n  }\n\n  if (keyValues && !keyValues.length) {\n    keyValues = undefined;\n  }\n\n  return keyValues;\n}\n/**\n *\n * @param {object} key - translation object\n * @param {array|object|string|number|boolean} values - translation values\n * @returns {*} translated message with attached values\n * @private\n */\n\n\nfunction _getTranslation(key, values) {\n  var translation = key;\n\n  if (_typeof(translation) === "object") {\n    translation = translation.msg;\n  }\n\n  if (translation) {\n    translation = _parseValues(translation, values);\n  } else {\n    translation = "Internal Error";\n  }\n\n  return translation;\n}\n/**\n *\n * @param {array} args - arguments\n * @returns {array} array of all values except 1st one\n * @private\n */\n\n\nfunction _getValues(args) {\n  var values = [];\n\n  for (var i = 1, j = args.length; i < j; i++) {\n    values.push(args[i]);\n  }\n\n  if (values.length === 0) {\n    values = undefined;\n  } else if (values.length === 1) {\n    values = values[0];\n  }\n\n  return values;\n}\n/**\n *\n * @param {array} groups - matched groups\n * @returns {array} unique names\n * @private\n */\n\n\nfunction _getUniqueKeys(groups) {\n  var hashKey = {};\n  var uniqueNames = [];\n  groups = groups || [];\n\n  for (var i = 0, j = groups.length; i < j; i++) {\n    if (!hashKey[groups[i]]) {\n      hashKey[groups[i]] = true;\n      uniqueNames.push(groups[i]);\n    }\n  }\n\n  return uniqueNames;\n}\n/**\n *\n * @param {string} translation - text to be translated\n * @param {array|object|string|number|boolean} values - values to be parsed with translation\n * @returns {*} translation\n * @private\n */\n\n\nfunction _parseValues(translation, values) {\n  values = values || \'\';\n\n  if (values instanceof Array) {\n    var groups = _getUniqueKeys(translation.match(REGEXP_KEYS));\n\n    for (var i = 0, j = Math.min(groups.length, values.length); i < j; i++) {\n      translation = translation.replace(new RegExp(groups[i], "g"), values[i]);\n    }\n  } else if (_typeof(values) === "object") {\n    for (var key in values) {\n      if (values.hasOwnProperty(key)) {\n        translation = translation.replace(new RegExp("%" + key + "%", "g"), values[key]);\n      }\n    }\n\n    translation = translation.replace(REGEXP_KEYS, values);\n  } else if (typeof values === "string" || typeof values === "number" || typeof values === "boolean") {\n    translation = translation.replace(REGEXP_KEYS, values);\n  }\n\n  return translation;\n}\n/**\n * @alias module:util/translation.getError\n * @param {object} key - translation object\n * @returns {{code: *, msg: *, keys: *}} - error object with code, msg and keys\n */\n\n\nfunction getError(key) {\n  var values = _getValues(arguments);\n\n  var keyValues = _getKeyValues(key, values);\n\n  var msg = _getTranslation(key, values);\n\n  var code = _getCode(key);\n\n  return {\n    code: code,\n    msg: msg,\n    keys: keyValues\n  };\n}\n/**\n * @alias module:util/translation.getTranslation\n * @static\n * @param {object} key - translation object\n * @returns {*} - return translated string with correctly applied values\n */\n\n\nfunction getTranslation(key) {\n  var values = _getValues(arguments);\n\n  return _getTranslation(key, values);\n}\n\ntranslation.getError = getError;\ntranslation.getTranslation = getTranslation;\ntranslation.e = errors;\ntranslation.t = translations;\nmodule.exports = translation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ0gsR0FBRCxFQUFNSSxNQUFOLENBQS9COztFQUNBLElBQU1FLEdBQUcsR0FBR2UsZUFBZSxDQUFDckIsR0FBRCxFQUFNSSxNQUFOLENBQTNCOztFQUNBLElBQU1ILElBQUksR0FBR0YsUUFBUSxDQUFDQyxHQUFELENBQXJCOztFQUNBLE9BQU87SUFDTEMsSUFBSSxFQUFFQSxJQUREO0lBRUxLLEdBQUcsRUFBRUEsR0FGQTtJQUdMd0IsSUFBSSxFQUFFekI7RUFIRCxDQUFQO0FBS0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFNBQVMwQixjQUFULENBQXlCL0IsR0FBekIsRUFBOEI7RUFDNUIsSUFBTUksTUFBTSxHQUFHbUIsVUFBVSxDQUFDTSxTQUFELENBQXpCOztFQUNBLE9BQU9SLGVBQWUsQ0FBQ3JCLEdBQUQsRUFBTUksTUFBTixDQUF0QjtBQUNEOztBQUVETixXQUFXLENBQUM4QixRQUFaLEdBQXVCQSxRQUF2QjtBQUNBOUIsV0FBVyxDQUFDaUMsY0FBWixHQUE2QkEsY0FBN0I7QUFDQWpDLFdBQVcsQ0FBQ2tDLENBQVosR0FBZ0J2QyxNQUFoQjtBQUNBSyxXQUFXLENBQUNtQyxDQUFaLEdBQWdCdEMsWUFBaEI7QUFFQXVDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJDLFdBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS90cmFuc2xhdGlvbi9pbmRleC5qcz9mNTI3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBlcnJvcnMgPSByZXF1aXJlKFwiLi9fZXJyb3JzXCIpO1xuY29uc3QgdHJhbnNsYXRpb25zID0gcmVxdWlyZShcIi4vX3RyYW5zbGF0aW9uc1wiKTtcbmNvbnN0IENPREVTID0gcmVxdWlyZShcIi4vLi4vZG93bmxvYWRzL2NvZGVzXCIpO1xuXG5jb25zdCBSRUdFWFBfS0VZUyA9IC8lW0EtWmEtejAtOV8tXSslL2c7XG5cbi8qKlxuICogQG5hbWVzcGFjZSA8Z2xvYmFsPlxuICogQG1vZHVsZSB1dGlsL3RyYW5zbGF0aW9uXG4gKiBAcHJvcGVydHkge3RyYW5zbGF0aW9uRXJyb3JzfSBlIC0ge0BsaW5rIHRyYW5zbGF0aW9uRXJyb3JzfVxuICovXG5sZXQgdHJhbnNsYXRpb24gPSB7fTtcblxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0ga2V5IC0gdHJhbnNsYXRpb24gb2JqZWN0XG4gKiBAcmV0dXJucyB7Kn0ga2V5IGZyb20gdHJhbnNsYXRpb24gb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0Q29kZSAoa2V5KSB7XG4gIGtleSA9IGtleSB8fCB7fTtcbiAgbGV0IGNvZGUgPSBrZXkuY29kZTtcbiAgaWYgKCFjb2RlKSB7XG4gICAgY29kZSA9IENPREVTLkdFTkVSQUxcbiAgfVxuICByZXR1cm4gY29kZTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGtleSAtIHRyYW5zbGF0aW9uIG9iamVjdFxuICogQHBhcmFtIHthcnJheXxvYmplY3R8c3RyaW5nfG51bWJlcnxib29sZWFufSB2YWx1ZXMgLSB0cmFuc2xhdGlvbiB2YWx1ZXNcbiAqIEByZXR1cm5zIHsqfSBhbGwga2V5IHZhbHVlc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldEtleVZhbHVlcyAoa2V5LCB2YWx1ZXMpIHtcbiAgbGV0IHRyYW5zbGF0aW9uID0ga2V5O1xuICBsZXQga2V5VmFsdWVzID0gW107XG4gIGlmICh0eXBlb2YgdHJhbnNsYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uLm1zZztcbiAgfVxuICBpZiAodHJhbnNsYXRpb24pIHtcbiAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIGxldCBncm91cHMgPSBfZ2V0VW5pcXVlS2V5cyh0cmFuc2xhdGlvbi5tYXRjaChSRUdFWFBfS0VZUykpO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBNYXRoLm1pbihncm91cHMubGVuZ3RoLCB2YWx1ZXMubGVuZ3RoKTsgaSA8IGo7IGkrKykge1xuICAgICAgICBsZXQga2V5VmFsdWUgPSB7fTtcbiAgICAgICAga2V5VmFsdWVbZ3JvdXBzW2ldLnJlcGxhY2UoLyUvZywgXCJcIildID0gdmFsdWVzW2ldO1xuICAgICAgICBrZXlWYWx1ZXMucHVzaChrZXlWYWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWVzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBmb3IgKGxldCBrZXkgaW4gdmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGxldCBrZXlWYWx1ZSA9IHt9O1xuICAgICAgICAgIGtleVZhbHVlW2tleV0gPSB2YWx1ZXNba2V5XTtcbiAgICAgICAgICBrZXlWYWx1ZXMucHVzaChrZXlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZXMgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlcyA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsdWVzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgY29uc3QgZ3JvdXBzID0gdHJhbnNsYXRpb24ubWF0Y2goUkVHRVhQX0tFWVMpIHx8IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBncm91cHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGxldCBrZXlWYWx1ZSA9IHt9O1xuICAgICAgICBrZXlWYWx1ZVtncm91cHNbaV0ucmVwbGFjZSgvJS9nLCBcIlwiKV0gPSB2YWx1ZXM7XG4gICAgICAgIGtleVZhbHVlcy5wdXNoKGtleVZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGtleVZhbHVlcyAmJiAha2V5VmFsdWVzLmxlbmd0aCkge1xuICAgIGtleVZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4ga2V5VmFsdWVzO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0ga2V5IC0gdHJhbnNsYXRpb24gb2JqZWN0XG4gKiBAcGFyYW0ge2FycmF5fG9iamVjdHxzdHJpbmd8bnVtYmVyfGJvb2xlYW59IHZhbHVlcyAtIHRyYW5zbGF0aW9uIHZhbHVlc1xuICogQHJldHVybnMgeyp9IHRyYW5zbGF0ZWQgbWVzc2FnZSB3aXRoIGF0dGFjaGVkIHZhbHVlc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldFRyYW5zbGF0aW9uIChrZXksIHZhbHVlcykge1xuICBsZXQgdHJhbnNsYXRpb24gPSBrZXk7XG4gIGlmICh0eXBlb2YgdHJhbnNsYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uLm1zZztcbiAgfVxuICBpZiAodHJhbnNsYXRpb24pIHtcbiAgICB0cmFuc2xhdGlvbiA9IF9wYXJzZVZhbHVlcyh0cmFuc2xhdGlvbiwgdmFsdWVzKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvbiA9IFwiSW50ZXJuYWwgRXJyb3JcIjtcbiAgfVxuICByZXR1cm4gdHJhbnNsYXRpb247XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IGFyZ3MgLSBhcmd1bWVudHNcbiAqIEByZXR1cm5zIHthcnJheX0gYXJyYXkgb2YgYWxsIHZhbHVlcyBleGNlcHQgMXN0IG9uZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldFZhbHVlcyAoYXJncykge1xuICBsZXQgdmFsdWVzID0gW107XG4gIGZvciAobGV0IGkgPSAxLCBqID0gYXJncy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICB2YWx1ZXMucHVzaChhcmdzW2ldKTtcbiAgfVxuICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgdmFsdWVzID0gdmFsdWVzWzBdXG4gIH1cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHthcnJheX0gZ3JvdXBzIC0gbWF0Y2hlZCBncm91cHNcbiAqIEByZXR1cm5zIHthcnJheX0gdW5pcXVlIG5hbWVzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0VW5pcXVlS2V5cyAoZ3JvdXBzKSB7XG4gIGxldCBoYXNoS2V5ID0ge307XG4gIGxldCB1bmlxdWVOYW1lcyA9IFtdO1xuICBncm91cHMgPSBncm91cHMgfHwgW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGlmICghaGFzaEtleVtncm91cHNbaV1dKSB7XG4gICAgICBoYXNoS2V5W2dyb3Vwc1tpXV0gPSB0cnVlO1xuICAgICAgdW5pcXVlTmFtZXMucHVzaChncm91cHNbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5pcXVlTmFtZXM7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2xhdGlvbiAtIHRleHQgdG8gYmUgdHJhbnNsYXRlZFxuICogQHBhcmFtIHthcnJheXxvYmplY3R8c3RyaW5nfG51bWJlcnxib29sZWFufSB2YWx1ZXMgLSB2YWx1ZXMgdG8gYmUgcGFyc2VkIHdpdGggdHJhbnNsYXRpb25cbiAqIEByZXR1cm5zIHsqfSB0cmFuc2xhdGlvblxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3BhcnNlVmFsdWVzICh0cmFuc2xhdGlvbiwgdmFsdWVzKSB7XG4gIHZhbHVlcyA9IHZhbHVlcyB8fCAnJztcbiAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgY29uc3QgZ3JvdXBzID0gX2dldFVuaXF1ZUtleXModHJhbnNsYXRpb24ubWF0Y2goUkVHRVhQX0tFWVMpKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IE1hdGgubWluKGdyb3Vwcy5sZW5ndGgsIHZhbHVlcy5sZW5ndGgpOyBpIDwgajsgaSsrKSB7XG4gICAgICB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uLnJlcGxhY2UobmV3IFJlZ0V4cChncm91cHNbaV0sIFwiZ1wiKSwgdmFsdWVzW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGZvciAobGV0IGtleSBpbiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uLnJlcGxhY2UobmV3IFJlZ0V4cChcIiVcIiArIGtleSArIFwiJVwiLCBcImdcIiksIHZhbHVlc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbi5yZXBsYWNlKFJFR0VYUF9LRVlTLCB2YWx1ZXMpO1xuXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlcyA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWVzID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWx1ZXMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbi5yZXBsYWNlKFJFR0VYUF9LRVlTLCB2YWx1ZXMpO1xuXG4gIH1cbiAgcmV0dXJuIHRyYW5zbGF0aW9uO1xufVxuXG4vKipcbiAqIEBhbGlhcyBtb2R1bGU6dXRpbC90cmFuc2xhdGlvbi5nZXRFcnJvclxuICogQHBhcmFtIHtvYmplY3R9IGtleSAtIHRyYW5zbGF0aW9uIG9iamVjdFxuICogQHJldHVybnMge3tjb2RlOiAqLCBtc2c6ICosIGtleXM6ICp9fSAtIGVycm9yIG9iamVjdCB3aXRoIGNvZGUsIG1zZyBhbmQga2V5c1xuICovXG5mdW5jdGlvbiBnZXRFcnJvciAoa2V5KSB7XG4gIGNvbnN0IHZhbHVlcyA9IF9nZXRWYWx1ZXMoYXJndW1lbnRzKTtcbiAgY29uc3Qga2V5VmFsdWVzID0gX2dldEtleVZhbHVlcyhrZXksIHZhbHVlcyk7XG4gIGNvbnN0IG1zZyA9IF9nZXRUcmFuc2xhdGlvbihrZXksIHZhbHVlcyk7XG4gIGNvbnN0IGNvZGUgPSBfZ2V0Q29kZShrZXkpO1xuICByZXR1cm4ge1xuICAgIGNvZGU6IGNvZGUsXG4gICAgbXNnOiBtc2csXG4gICAga2V5czoga2V5VmFsdWVzLFxuICB9O1xufVxuXG4vKipcbiAqIEBhbGlhcyBtb2R1bGU6dXRpbC90cmFuc2xhdGlvbi5nZXRUcmFuc2xhdGlvblxuICogQHN0YXRpY1xuICogQHBhcmFtIHtvYmplY3R9IGtleSAtIHRyYW5zbGF0aW9uIG9iamVjdFxuICogQHJldHVybnMgeyp9IC0gcmV0dXJuIHRyYW5zbGF0ZWQgc3RyaW5nIHdpdGggY29ycmVjdGx5IGFwcGxpZWQgdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uIChrZXkpIHtcbiAgY29uc3QgdmFsdWVzID0gX2dldFZhbHVlcyhhcmd1bWVudHMpO1xuICByZXR1cm4gX2dldFRyYW5zbGF0aW9uKGtleSwgdmFsdWVzKTtcbn1cblxudHJhbnNsYXRpb24uZ2V0RXJyb3IgPSBnZXRFcnJvcjtcbnRyYW5zbGF0aW9uLmdldFRyYW5zbGF0aW9uID0gZ2V0VHJhbnNsYXRpb247XG50cmFuc2xhdGlvbi5lID0gZXJyb3JzO1xudHJhbnNsYXRpb24udCA9IHRyYW5zbGF0aW9ucztcblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2xhdGlvbjtcbiJdLCJuYW1lcyI6WyJlcnJvcnMiLCJyZXF1aXJlIiwidHJhbnNsYXRpb25zIiwiQ09ERVMiLCJSRUdFWFBfS0VZUyIsInRyYW5zbGF0aW9uIiwiX2dldENvZGUiLCJrZXkiLCJjb2RlIiwiR0VORVJBTCIsIl9nZXRLZXlWYWx1ZXMiLCJ2YWx1ZXMiLCJrZXlWYWx1ZXMiLCJtc2ciLCJBcnJheSIsImdyb3VwcyIsIl9nZXRVbmlxdWVLZXlzIiwibWF0Y2giLCJpIiwiaiIsIk1hdGgiLCJtaW4iLCJsZW5ndGgiLCJrZXlWYWx1ZSIsInJlcGxhY2UiLCJwdXNoIiwiaGFzT3duUHJvcGVydHkiLCJ1bmRlZmluZWQiLCJfZ2V0VHJhbnNsYXRpb24iLCJfcGFyc2VWYWx1ZXMiLCJfZ2V0VmFsdWVzIiwiYXJncyIsImhhc2hLZXkiLCJ1bmlxdWVOYW1lcyIsIlJlZ0V4cCIsImdldEVycm9yIiwiYXJndW1lbnRzIiwia2V5cyIsImdldFRyYW5zbGF0aW9uIiwiZSIsInQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///817\n')},6052:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar moment = __webpack_require__(1908);\n\nvar IsoDurationParser = function () {\n  function IsoDurationParser() {}\n\n  IsoDurationParser.getDuration = function (val) {\n    var dur = moment.duration(val);\n    return dur.asMilliseconds();\n  };\n\n  IsoDurationParser.getDurationAsS = function (val) {\n    var dur = moment.duration(val);\n    return dur.asSeconds();\n  };\n\n  IsoDurationParser.getMoment = function () {\n    return moment;\n  };\n\n  return IsoDurationParser;\n}();\n\nexports.IsoDurationParser = IsoDurationParser;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA1Mi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxNQUFNLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUF0Qjs7QUFDQSxJQUFNQyxpQkFBaUIsR0FBSSxZQUFZO0VBQ3JDLFNBQVNBLGlCQUFULEdBQThCLENBQzdCOztFQUVEQSxpQkFBaUIsQ0FBQ0MsV0FBbEIsR0FBZ0MsVUFBVUMsR0FBVixFQUFlO0lBQzdDLElBQU1DLEdBQUcsR0FBR0wsTUFBTSxDQUFDTSxRQUFQLENBQWdCRixHQUFoQixDQUFaO0lBQ0EsT0FBT0MsR0FBRyxDQUFDRSxjQUFKLEVBQVA7RUFDRCxDQUhEOztFQUlBTCxpQkFBaUIsQ0FBQ00sY0FBbEIsR0FBbUMsVUFBVUosR0FBVixFQUFlO0lBQ2hELElBQU1DLEdBQUcsR0FBR0wsTUFBTSxDQUFDTSxRQUFQLENBQWdCRixHQUFoQixDQUFaO0lBQ0EsT0FBT0MsR0FBRyxDQUFDSSxTQUFKLEVBQVA7RUFDRCxDQUhEOztFQUlBUCxpQkFBaUIsQ0FBQ1EsU0FBbEIsR0FBOEIsWUFBWTtJQUN4QyxPQUFPVixNQUFQO0VBQ0QsQ0FGRDs7RUFHQSxPQUFPRSxpQkFBUDtBQUNELENBaEIwQixFQUEzQjs7QUFpQkFTLHlCQUFBLEdBQTRCVCxpQkFBNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvSXNvLWR1cmF0aW9uLXBhcnNlci5qcz9jYzgwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZShcIm1vbWVudC9tb21lbnRcIik7XG5jb25zdCBJc29EdXJhdGlvblBhcnNlciA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIElzb0R1cmF0aW9uUGFyc2VyICgpIHtcbiAgfVxuXG4gIElzb0R1cmF0aW9uUGFyc2VyLmdldER1cmF0aW9uID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIGNvbnN0IGR1ciA9IG1vbWVudC5kdXJhdGlvbih2YWwpO1xuICAgIHJldHVybiBkdXIuYXNNaWxsaXNlY29uZHMoKTtcbiAgfTtcbiAgSXNvRHVyYXRpb25QYXJzZXIuZ2V0RHVyYXRpb25Bc1MgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgY29uc3QgZHVyID0gbW9tZW50LmR1cmF0aW9uKHZhbCk7XG4gICAgcmV0dXJuIGR1ci5hc1NlY29uZHMoKTtcbiAgfTtcbiAgSXNvRHVyYXRpb25QYXJzZXIuZ2V0TW9tZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBtb21lbnQ7XG4gIH07XG4gIHJldHVybiBJc29EdXJhdGlvblBhcnNlcjtcbn0oKSk7XG5leHBvcnRzLklzb0R1cmF0aW9uUGFyc2VyID0gSXNvRHVyYXRpb25QYXJzZXI7XG4iXSwibmFtZXMiOlsibW9tZW50IiwicmVxdWlyZSIsIklzb0R1cmF0aW9uUGFyc2VyIiwiZ2V0RHVyYXRpb24iLCJ2YWwiLCJkdXIiLCJkdXJhdGlvbiIsImFzTWlsbGlzZWNvbmRzIiwiZ2V0RHVyYXRpb25Bc1MiLCJhc1NlY29uZHMiLCJnZXRNb21lbnQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6052\n")},8048:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar ArrayStorage = __webpack_require__(9567);\n\nvar createBridgeMethods = __webpack_require__(9921);\n/**\n * @param {DownloadsStorageController} parent - reference to parent object\n * @param {string} storageKey - storage key\n * @constructor\n */\n\n\nfunction ArrayStorageBridge(parent, storageKey) {\n  this._parent = parent;\n  this._storageKey = storageKey;\n  createBridgeMethods(this, ArrayStorage);\n}\n\nmodule.exports = ArrayStorageBridge;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA0OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUE1Qjs7QUFDQSxJQUFNQyxtQkFBbUIsR0FBR0QsbUJBQU8sQ0FBQyxJQUFELENBQW5DO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBU0Usa0JBQVQsQ0FBNkJDLE1BQTdCLEVBQXFDQyxVQUFyQyxFQUFpRDtFQUMvQyxLQUFLQyxPQUFMLEdBQWVGLE1BQWY7RUFDQSxLQUFLRyxXQUFMLEdBQW1CRixVQUFuQjtFQUNBSCxtQkFBbUIsQ0FBQyxJQUFELEVBQU9GLFlBQVAsQ0FBbkI7QUFDRDs7QUFFRFEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCTixrQkFBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvYXJyYXktc3RvcmFnZS1icmlkZ2UuanM/YzcxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IEFycmF5U3RvcmFnZSA9IHJlcXVpcmUoXCIuL2FycmF5LXN0b3JhZ2VcIik7XG5jb25zdCBjcmVhdGVCcmlkZ2VNZXRob2RzID0gcmVxdWlyZShcIi4vY3JlYXRlLWJyaWRnZS1tZXRob2RzXCIpO1xuXG4vKipcbiAqIEBwYXJhbSB7RG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXJ9IHBhcmVudCAtIHJlZmVyZW5jZSB0byBwYXJlbnQgb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gc3RvcmFnZUtleSAtIHN0b3JhZ2Uga2V5XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQXJyYXlTdG9yYWdlQnJpZGdlIChwYXJlbnQsIHN0b3JhZ2VLZXkpIHtcbiAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICB0aGlzLl9zdG9yYWdlS2V5ID0gc3RvcmFnZUtleTtcbiAgY3JlYXRlQnJpZGdlTWV0aG9kcyh0aGlzLCBBcnJheVN0b3JhZ2UpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5U3RvcmFnZUJyaWRnZTsiXSwibmFtZXMiOlsiQXJyYXlTdG9yYWdlIiwicmVxdWlyZSIsImNyZWF0ZUJyaWRnZU1ldGhvZHMiLCJBcnJheVN0b3JhZ2VCcmlkZ2UiLCJwYXJlbnQiLCJzdG9yYWdlS2V5IiwiX3BhcmVudCIsIl9zdG9yYWdlS2V5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8048\n")},9567:module=>{"use strict";eval("\n/**\n * @constructor\n */\n\nfunction ArrayStorage() {\n  this._items = [];\n}\n/**\n * @returns {void}\n */\n\n\nArrayStorage.prototype.clear = function () {\n  this._items = [];\n};\n/**\n *\n * @param {array} items - array items\n * @returns {void}\n */\n\n\nArrayStorage.prototype.concat = function (items) {\n  this._items = this._items.concat(items);\n};\n/**\n *\n * @returns {number} - number of items\n */\n\n\nArrayStorage.prototype.count = function () {\n  return this._items.length;\n};\n/**\n *\n * @returns {array} - items\n */\n\n\nArrayStorage.prototype.getItems = function () {\n  return this._items;\n};\n/**\n *\n * @param {object} item - new item\n * @returns {void}\n */\n\n\nArrayStorage.prototype.push = function (item) {\n  this._items.push(item);\n};\n/**\n * removes first element and returns it\n * @returns {*} - item\n */\n\n\nArrayStorage.prototype.shift = function () {\n  return this._items.shift();\n};\n/**\n * add elements to the beginning of array\n * @returns {*} - new length of an array\n */\n\n\nArrayStorage.prototype.unshift = function () {\n  return this._items.unshift.apply(this, arguments);\n};\n\nmodule.exports = ArrayStorage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU2Ny5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUViO0FBQ0E7QUFDQTs7QUFDQSxTQUFTQSxZQUFULEdBQXlCO0VBQ3ZCLEtBQUtDLE1BQUwsR0FBYyxFQUFkO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7OztBQUNBRCxZQUFZLENBQUNFLFNBQWIsQ0FBdUJDLEtBQXZCLEdBQStCLFlBQVk7RUFDekMsS0FBS0YsTUFBTCxHQUFjLEVBQWQ7QUFDRCxDQUZEO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FELFlBQVksQ0FBQ0UsU0FBYixDQUF1QkUsTUFBdkIsR0FBZ0MsVUFBVUMsS0FBVixFQUFpQjtFQUMvQyxLQUFLSixNQUFMLEdBQWMsS0FBS0EsTUFBTCxDQUFZRyxNQUFaLENBQW1CQyxLQUFuQixDQUFkO0FBQ0QsQ0FGRDtBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQUwsWUFBWSxDQUFDRSxTQUFiLENBQXVCSSxLQUF2QixHQUErQixZQUFZO0VBQ3pDLE9BQU8sS0FBS0wsTUFBTCxDQUFZTSxNQUFuQjtBQUNELENBRkQ7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FQLFlBQVksQ0FBQ0UsU0FBYixDQUF1Qk0sUUFBdkIsR0FBa0MsWUFBWTtFQUM1QyxPQUFPLEtBQUtQLE1BQVo7QUFDRCxDQUZEO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FELFlBQVksQ0FBQ0UsU0FBYixDQUF1Qk8sSUFBdkIsR0FBOEIsVUFBVUMsSUFBVixFQUFnQjtFQUM1QyxLQUFLVCxNQUFMLENBQVlRLElBQVosQ0FBaUJDLElBQWpCO0FBQ0QsQ0FGRDtBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQVYsWUFBWSxDQUFDRSxTQUFiLENBQXVCUyxLQUF2QixHQUErQixZQUFZO0VBQ3pDLE9BQU8sS0FBS1YsTUFBTCxDQUFZVSxLQUFaLEVBQVA7QUFDRCxDQUZEO0FBSUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBWCxZQUFZLENBQUNFLFNBQWIsQ0FBdUJVLE9BQXZCLEdBQWlDLFlBQVk7RUFDM0MsT0FBTyxLQUFLWCxNQUFMLENBQVlXLE9BQVosQ0FBb0JDLEtBQXBCLENBQTBCLElBQTFCLEVBQWdDQyxTQUFoQyxDQUFQO0FBQ0QsQ0FGRDs7QUFJQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCaEIsWUFBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvYXJyYXktc3RvcmFnZS5qcz83NThiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBBcnJheVN0b3JhZ2UgKCkge1xuICB0aGlzLl9pdGVtcyA9IFtdO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5BcnJheVN0b3JhZ2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9pdGVtcyA9IFtdO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHthcnJheX0gaXRlbXMgLSBhcnJheSBpdGVtc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkFycmF5U3RvcmFnZS5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24gKGl0ZW1zKSB7XG4gIHRoaXMuX2l0ZW1zID0gdGhpcy5faXRlbXMuY29uY2F0KGl0ZW1zKTtcbn07XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gbnVtYmVyIG9mIGl0ZW1zXG4gKi9cbkFycmF5U3RvcmFnZS5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9pdGVtcy5sZW5ndGg7XG59O1xuXG4vKipcbiAqXG4gKiBAcmV0dXJucyB7YXJyYXl9IC0gaXRlbXNcbiAqL1xuQXJyYXlTdG9yYWdlLnByb3RvdHlwZS5nZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW0gLSBuZXcgaXRlbVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkFycmF5U3RvcmFnZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHRoaXMuX2l0ZW1zLnB1c2goaXRlbSk7XG59O1xuXG4vKipcbiAqIHJlbW92ZXMgZmlyc3QgZWxlbWVudCBhbmQgcmV0dXJucyBpdFxuICogQHJldHVybnMgeyp9IC0gaXRlbVxuICovXG5BcnJheVN0b3JhZ2UucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5faXRlbXMuc2hpZnQoKTtcbn07XG5cbi8qKlxuICogYWRkIGVsZW1lbnRzIHRvIHRoZSBiZWdpbm5pbmcgb2YgYXJyYXlcbiAqIEByZXR1cm5zIHsqfSAtIG5ldyBsZW5ndGggb2YgYW4gYXJyYXlcbiAqL1xuQXJyYXlTdG9yYWdlLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5faXRlbXMudW5zaGlmdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheVN0b3JhZ2U7Il0sIm5hbWVzIjpbIkFycmF5U3RvcmFnZSIsIl9pdGVtcyIsInByb3RvdHlwZSIsImNsZWFyIiwiY29uY2F0IiwiaXRlbXMiLCJjb3VudCIsImxlbmd0aCIsImdldEl0ZW1zIiwicHVzaCIsIml0ZW0iLCJzaGlmdCIsInVuc2hpZnQiLCJhcHBseSIsImFyZ3VtZW50cyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9567\n")},5079:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fs = __webpack_require__(7147);\n\nvar path = __webpack_require__(1017);\n\nvar appSettings = __webpack_require__(9277);\n/**\n *\n * @param {string} manifestId - manifest Id\n * @param {string} downloadFolder - donwload folder\n * @returns {Promise} promise\n */\n\n\nmodule.exports = function (manifestId, downloadFolder) {\n  var settingsPath = path.resolve(appSettings.getSettings().settingsFolder + "/" + manifestId + "/");\n  var moviePath = path.resolve(appSettings.getSettings().downloadsFolderPath + "/" + manifestId + "/");\n\n  if (downloadFolder) {\n    moviePath = path.resolve(downloadFolder + "/" + manifestId + "/");\n  }\n\n  function dirNotExists(dirToCheck) {\n    return new Promise(function (resolve\n    /* , reject */\n    ) {\n      fs.stat(dirToCheck, function (er, stat) {\n        if (er) {\n          resolve();\n        } else {\n          if (stat.isDirectory()) {\n            resolve(\'Folder already exists\');\n          } else {\n            resolve();\n          }\n        }\n      });\n    });\n  }\n\n  return new Promise(function (resolve, reject) {\n    Promise.all([dirNotExists(settingsPath), dirNotExists(moviePath)]).then(function (results) {\n      results = results || [];\n      var errors = results.filter(function (result) {\n        return typeof result !== \'undefined\';\n      });\n\n      if (errors.length) {\n        reject(results);\n      } else {\n        resolve();\n      }\n    }, reject);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA3OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxFQUFFLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxJQUFNQyxJQUFJLEdBQUdELG1CQUFPLENBQUMsSUFBRCxDQUFwQjs7QUFDQSxJQUFNRSxXQUFXLEdBQUdGLG1CQUFPLENBQUMsSUFBRCxDQUEzQjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFVQyxVQUFWLEVBQXNCQyxjQUF0QixFQUFzQztFQUNyRCxJQUFNQyxZQUFZLEdBQUdOLElBQUksQ0FBQ08sT0FBTCxDQUFhTixXQUFXLENBQUNPLFdBQVosR0FBMEJDLGNBQTFCLEdBQTJDLEdBQTNDLEdBQWlETCxVQUFqRCxHQUE4RCxHQUEzRSxDQUFyQjtFQUVBLElBQUlNLFNBQVMsR0FBR1YsSUFBSSxDQUFDTyxPQUFMLENBQWFOLFdBQVcsQ0FBQ08sV0FBWixHQUEwQkcsbUJBQTFCLEdBQWdELEdBQWhELEdBQXNEUCxVQUF0RCxHQUFtRSxHQUFoRixDQUFoQjs7RUFDQSxJQUFJQyxjQUFKLEVBQW9CO0lBQ2xCSyxTQUFTLEdBQUdWLElBQUksQ0FBQ08sT0FBTCxDQUFhRixjQUFjLEdBQUcsR0FBakIsR0FBdUJELFVBQXZCLEdBQW9DLEdBQWpELENBQVo7RUFDRDs7RUFFRCxTQUFTUSxZQUFULENBQXVCQyxVQUF2QixFQUFtQztJQUNqQyxPQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFVUDtJQUFRO0lBQWxCLEVBQWtDO01BQ25EVCxFQUFFLENBQUNpQixJQUFILENBQVFGLFVBQVIsRUFBb0IsVUFBVUcsRUFBVixFQUFjRCxJQUFkLEVBQW9CO1FBQ3RDLElBQUlDLEVBQUosRUFBUTtVQUNOVCxPQUFPO1FBQ1IsQ0FGRCxNQUVPO1VBQ0wsSUFBSVEsSUFBSSxDQUFDRSxXQUFMLEVBQUosRUFBd0I7WUFDdEJWLE9BQU8sQ0FBQyx1QkFBRCxDQUFQO1VBQ0QsQ0FGRCxNQUVPO1lBQ0xBLE9BQU87VUFDUjtRQUNGO01BQ0YsQ0FWRDtJQVdELENBWk0sQ0FBUDtFQWFEOztFQUVELE9BQU8sSUFBSU8sT0FBSixDQUFZLFVBQVVQLE9BQVYsRUFBbUJXLE1BQW5CLEVBQTJCO0lBQzVDSixPQUFPLENBQUNLLEdBQVIsQ0FBWSxDQUNWUCxZQUFZLENBQUNOLFlBQUQsQ0FERixFQUVWTSxZQUFZLENBQUNGLFNBQUQsQ0FGRixDQUFaLEVBR0dVLElBSEgsQ0FHUSxVQUFVQyxPQUFWLEVBQW1CO01BQ3pCQSxPQUFPLEdBQUdBLE9BQU8sSUFBSSxFQUFyQjtNQUNBLElBQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDRSxNQUFSLENBQWUsVUFBVUMsTUFBVixFQUFrQjtRQUM5QyxPQUFPLE9BQU9BLE1BQVAsS0FBa0IsV0FBekI7TUFDRCxDQUZjLENBQWY7O01BR0EsSUFBSUYsTUFBTSxDQUFDRyxNQUFYLEVBQW1CO1FBQ2pCUCxNQUFNLENBQUNHLE9BQUQsQ0FBTjtNQUNELENBRkQsTUFFTztRQUNMZCxPQUFPO01BQ1I7SUFDRixDQWJELEVBYUdXLE1BYkg7RUFjRCxDQWZNLENBQVA7QUFnQkQsQ0F4Q0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvY2FuLWNyZWF0ZS1tYW5pZmVzdC5qcz9iNzZlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi9hcHAtc2V0dGluZ3NcIik7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgSWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3dubG9hZEZvbGRlciAtIGRvbndsb2FkIGZvbGRlclxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgZG93bmxvYWRGb2xkZXIpIHtcbiAgY29uc3Qgc2V0dGluZ3NQYXRoID0gcGF0aC5yZXNvbHZlKGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc2V0dGluZ3NGb2xkZXIgKyBcIi9cIiArIG1hbmlmZXN0SWQgKyBcIi9cIik7XG5cbiAgbGV0IG1vdmllUGF0aCA9IHBhdGgucmVzb2x2ZShhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLmRvd25sb2Fkc0ZvbGRlclBhdGggKyBcIi9cIiArIG1hbmlmZXN0SWQgKyBcIi9cIik7XG4gIGlmIChkb3dubG9hZEZvbGRlcikge1xuICAgIG1vdmllUGF0aCA9IHBhdGgucmVzb2x2ZShkb3dubG9hZEZvbGRlciArIFwiL1wiICsgbWFuaWZlc3RJZCArIFwiL1wiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpck5vdEV4aXN0cyAoZGlyVG9DaGVjaykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSAvKiAsIHJlamVjdCAqLykge1xuICAgICAgZnMuc3RhdChkaXJUb0NoZWNrLCBmdW5jdGlvbiAoZXIsIHN0YXQpIHtcbiAgICAgICAgaWYgKGVyKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgICAgIHJlc29sdmUoJ0ZvbGRlciBhbHJlYWR5IGV4aXN0cycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgZGlyTm90RXhpc3RzKHNldHRpbmdzUGF0aCksXG4gICAgICBkaXJOb3RFeGlzdHMobW92aWVQYXRoKVxuICAgIF0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuICAgICAgY29uc3QgZXJyb3JzID0gcmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICB9KTtcbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlamVjdChyZXN1bHRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9LCByZWplY3QpO1xuICB9KTtcbn07XG4iXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwicGF0aCIsImFwcFNldHRpbmdzIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1hbmlmZXN0SWQiLCJkb3dubG9hZEZvbGRlciIsInNldHRpbmdzUGF0aCIsInJlc29sdmUiLCJnZXRTZXR0aW5ncyIsInNldHRpbmdzRm9sZGVyIiwibW92aWVQYXRoIiwiZG93bmxvYWRzRm9sZGVyUGF0aCIsImRpck5vdEV4aXN0cyIsImRpclRvQ2hlY2siLCJQcm9taXNlIiwic3RhdCIsImVyIiwiaXNEaXJlY3RvcnkiLCJyZWplY3QiLCJhbGwiLCJ0aGVuIiwicmVzdWx0cyIsImVycm9ycyIsImZpbHRlciIsInJlc3VsdCIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5079\n')},9921:module=>{"use strict";eval('\n/**\n * the idea is to copy the methods from storage so that they can be triggered from parent object and then propagated back\n * to the storage object.\n * for example:\n *    someController.storage.status.setItem(manifestId, someKey, someValue);\n *    someController.storage.downloads.setItem(manifestId, someKey, someValue);\n * @param {object} scope - parent object where the method "From" object will be bridged to\n * @param {object} From - object where the original method was declared\n * @returns {void}\n */\n\nfunction createBridgeMethods(scope, From) {\n  function action() {\n    var args = [],\n        i,\n        j;\n\n    for (i = 0, j = arguments.length; i < j; i++) {\n      args.push(arguments[i]);\n    }\n\n    args.unshift(this._storageKey);\n    return this._parent._itemAction.apply(this._parent, args);\n  }\n\n  for (var methodName in From.prototype) {\n    if (From.prototype.hasOwnProperty(methodName)) {\n      scope[methodName] = action.bind(scope, methodName);\n    }\n  }\n}\n\nmodule.exports = createBridgeMethods;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTkyMS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFNBQVNBLG1CQUFULENBQThCQyxLQUE5QixFQUFxQ0MsSUFBckMsRUFBMkM7RUFDekMsU0FBU0MsTUFBVCxHQUFtQjtJQUNqQixJQUFJQyxJQUFJLEdBQUcsRUFBWDtJQUFBLElBQWVDLENBQWY7SUFBQSxJQUFrQkMsQ0FBbEI7O0lBQ0EsS0FBS0QsQ0FBQyxHQUFHLENBQUosRUFBT0MsQ0FBQyxHQUFHQyxTQUFTLENBQUNDLE1BQTFCLEVBQWtDSCxDQUFDLEdBQUdDLENBQXRDLEVBQXlDRCxDQUFDLEVBQTFDLEVBQThDO01BQzVDRCxJQUFJLENBQUNLLElBQUwsQ0FBVUYsU0FBUyxDQUFDRixDQUFELENBQW5CO0lBQ0Q7O0lBQ0RELElBQUksQ0FBQ00sT0FBTCxDQUFhLEtBQUtDLFdBQWxCO0lBQ0EsT0FBTyxLQUFLQyxPQUFMLENBQWFDLFdBQWIsQ0FBeUJDLEtBQXpCLENBQStCLEtBQUtGLE9BQXBDLEVBQTZDUixJQUE3QyxDQUFQO0VBQ0Q7O0VBRUQsS0FBSyxJQUFJVyxVQUFULElBQXVCYixJQUFJLENBQUNjLFNBQTVCLEVBQXVDO0lBQ3JDLElBQUlkLElBQUksQ0FBQ2MsU0FBTCxDQUFlQyxjQUFmLENBQThCRixVQUE5QixDQUFKLEVBQStDO01BQzdDZCxLQUFLLENBQUNjLFVBQUQsQ0FBTCxHQUFvQlosTUFBTSxDQUFDZSxJQUFQLENBQVlqQixLQUFaLEVBQW1CYyxVQUFuQixDQUFwQjtJQUNEO0VBQ0Y7QUFDRjs7QUFFREksTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEIsbUJBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL2NyZWF0ZS1icmlkZ2UtbWV0aG9kcy5qcz85NzA5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIHRoZSBpZGVhIGlzIHRvIGNvcHkgdGhlIG1ldGhvZHMgZnJvbSBzdG9yYWdlIHNvIHRoYXQgdGhleSBjYW4gYmUgdHJpZ2dlcmVkIGZyb20gcGFyZW50IG9iamVjdCBhbmQgdGhlbiBwcm9wYWdhdGVkIGJhY2tcbiAqIHRvIHRoZSBzdG9yYWdlIG9iamVjdC5cbiAqIGZvciBleGFtcGxlOlxuICogICAgc29tZUNvbnRyb2xsZXIuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBzb21lS2V5LCBzb21lVmFsdWUpO1xuICogICAgc29tZUNvbnRyb2xsZXIuc3RvcmFnZS5kb3dubG9hZHMuc2V0SXRlbShtYW5pZmVzdElkLCBzb21lS2V5LCBzb21lVmFsdWUpO1xuICogQHBhcmFtIHtvYmplY3R9IHNjb3BlIC0gcGFyZW50IG9iamVjdCB3aGVyZSB0aGUgbWV0aG9kIFwiRnJvbVwiIG9iamVjdCB3aWxsIGJlIGJyaWRnZWQgdG9cbiAqIEBwYXJhbSB7b2JqZWN0fSBGcm9tIC0gb2JqZWN0IHdoZXJlIHRoZSBvcmlnaW5hbCBtZXRob2Qgd2FzIGRlY2xhcmVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnJpZGdlTWV0aG9kcyAoc2NvcGUsIEZyb20pIHtcbiAgZnVuY3Rpb24gYWN0aW9uICgpIHtcbiAgICBsZXQgYXJncyA9IFtdLCBpLCBqO1xuICAgIGZvciAoaSA9IDAsIGogPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG4gICAgYXJncy51bnNoaWZ0KHRoaXMuX3N0b3JhZ2VLZXkpO1xuICAgIHJldHVybiB0aGlzLl9wYXJlbnQuX2l0ZW1BY3Rpb24uYXBwbHkodGhpcy5fcGFyZW50LCBhcmdzKTtcbiAgfVxuXG4gIGZvciAobGV0IG1ldGhvZE5hbWUgaW4gRnJvbS5wcm90b3R5cGUpIHtcbiAgICBpZiAoRnJvbS5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobWV0aG9kTmFtZSkpIHtcbiAgICAgIHNjb3BlW21ldGhvZE5hbWVdID0gYWN0aW9uLmJpbmQoc2NvcGUsIG1ldGhvZE5hbWUpO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUJyaWRnZU1ldGhvZHM7Il0sIm5hbWVzIjpbImNyZWF0ZUJyaWRnZU1ldGhvZHMiLCJzY29wZSIsIkZyb20iLCJhY3Rpb24iLCJhcmdzIiwiaSIsImoiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwdXNoIiwidW5zaGlmdCIsIl9zdG9yYWdlS2V5IiwiX3BhcmVudCIsIl9pdGVtQWN0aW9uIiwiYXBwbHkiLCJtZXRob2ROYW1lIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJiaW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9921\n')},8494:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fs = __webpack_require__(7147);\n\nvar path = __webpack_require__(1017);\n/**\n * @param {string} dir - folder path\n * @param {string} itemName - folder or file name\n * @param {boolean} includeFolders - if folders should be included\n * @param {boolean} includeFiles - if files should be included\n * @returns {Promise} promise\n */\n\n\nfunction filterDirItem(dir, itemName, includeFolders, includeFiles) {\n  var folderPath = path.resolve(dir + "/" + itemName);\n  return new Promise(function (resolve, reject) {\n    fs.stat(folderPath, function (err, stat) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      if (stat.isDirectory()) {\n        if (!includeFolders) {\n          itemName = undefined;\n        }\n\n        resolve(itemName);\n      } else {\n        if (!includeFiles) {\n          itemName = undefined;\n        }\n\n        resolve(itemName);\n      }\n    });\n  });\n}\n/**\n * @param {string} dir - folder path\n * @param {boolean} includeFolders - if folders should be included\n * @param {boolean} includeFiles - if files should be included\n * @returns {Promise} promise\n */\n\n\nfunction dirList(dir, includeFolders, includeFiles) {\n  if (typeof includeFolders === "undefined") {\n    includeFolders = true;\n  }\n\n  if (typeof includeFiles === "undefined") {\n    includeFiles = true;\n  }\n\n  return new Promise(function (resolve, reject) {\n    fs.readdir(dir, function (err, folders) {\n      if (err) {\n        //not found return empty list, there was another error ENOTDIR but it seems like this is not a valid case anyway\n        if (err.code === "ENOENT" || err.code === "ENOTDIR") {\n          resolve([]);\n        } else {\n          reject(err.message);\n        }\n      } else {\n        var foldersPromises = [];\n\n        for (var i = 0, j = folders.length; i < j; i++) {\n          foldersPromises.push(filterDirItem(dir, folders[i], includeFolders, includeFiles));\n        }\n\n        Promise.all(foldersPromises).then(function (results) {\n          resolve(results.filter(function (folderName) {\n            return typeof folderName !== "undefined";\n          }));\n        }, function (promiseError) {\n          reject(promiseError);\n        });\n      }\n    });\n  });\n}\n\nmodule.exports = dirList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QnBCLE1BQU0sQ0FBQ29CLFlBQUQsQ0FBTjtRQUNELENBTkQ7TUFPRDtJQUNGLENBckJEO0VBc0JELENBdkJNLENBQVA7QUF3QkQ7O0FBRURDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpCLE9BQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL2Rpci1saXN0LmpzPzJmMWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGRpciAtIGZvbGRlciBwYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gaXRlbU5hbWUgLSBmb2xkZXIgb3IgZmlsZSBuYW1lXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluY2x1ZGVGb2xkZXJzIC0gaWYgZm9sZGVycyBzaG91bGQgYmUgaW5jbHVkZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5jbHVkZUZpbGVzIC0gaWYgZmlsZXMgc2hvdWxkIGJlIGluY2x1ZGVkXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gcHJvbWlzZVxuICovXG5mdW5jdGlvbiBmaWx0ZXJEaXJJdGVtKGRpciwgaXRlbU5hbWUsIGluY2x1ZGVGb2xkZXJzLCBpbmNsdWRlRmlsZXMpIHtcbiAgY29uc3QgZm9sZGVyUGF0aCA9IHBhdGgucmVzb2x2ZShkaXIgKyBcIi9cIiArIGl0ZW1OYW1lKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmcy5zdGF0KGZvbGRlclBhdGgsIGZ1bmN0aW9uIChlcnIsIHN0YXQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgaWYgKCFpbmNsdWRlRm9sZGVycykge1xuICAgICAgICAgIGl0ZW1OYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoaXRlbU5hbWUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWluY2x1ZGVGaWxlcykge1xuICAgICAgICAgIGl0ZW1OYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoaXRlbU5hbWUpXG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXIgLSBmb2xkZXIgcGF0aFxuICogQHBhcmFtIHtib29sZWFufSBpbmNsdWRlRm9sZGVycyAtIGlmIGZvbGRlcnMgc2hvdWxkIGJlIGluY2x1ZGVkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluY2x1ZGVGaWxlcyAtIGlmIGZpbGVzIHNob3VsZCBiZSBpbmNsdWRlZFxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xuZnVuY3Rpb24gZGlyTGlzdChkaXIsIGluY2x1ZGVGb2xkZXJzLCBpbmNsdWRlRmlsZXMpIHtcbiAgaWYgKHR5cGVvZiBpbmNsdWRlRm9sZGVycyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGluY2x1ZGVGb2xkZXJzID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIGluY2x1ZGVGaWxlcyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGluY2x1ZGVGaWxlcyA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmcy5yZWFkZGlyKGRpciwgZnVuY3Rpb24gKGVyciwgZm9sZGVycykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICAvL25vdCBmb3VuZCByZXR1cm4gZW1wdHkgbGlzdCwgdGhlcmUgd2FzIGFub3RoZXIgZXJyb3IgRU5PVERJUiBidXQgaXQgc2VlbXMgbGlrZSB0aGlzIGlzIG5vdCBhIHZhbGlkIGNhc2UgYW55d2F5XG4gICAgICAgIGlmIChlcnIuY29kZSA9PT0gXCJFTk9FTlRcIiB8fCBlcnIuY29kZSA9PT0gXCJFTk9URElSXCIpIHtcbiAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZm9sZGVyc1Byb21pc2VzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gZm9sZGVycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBmb2xkZXJzUHJvbWlzZXMucHVzaChmaWx0ZXJEaXJJdGVtKGRpciwgZm9sZGVyc1tpXSwgaW5jbHVkZUZvbGRlcnMsIGluY2x1ZGVGaWxlcykpO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2UuYWxsKGZvbGRlcnNQcm9taXNlcykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKGZvbGRlck5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZm9sZGVyTmFtZSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHByb21pc2VFcnJvcikge1xuICAgICAgICAgIHJlamVjdChwcm9taXNlRXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGlyTGlzdDtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiZmlsdGVyRGlySXRlbSIsImRpciIsIml0ZW1OYW1lIiwiaW5jbHVkZUZvbGRlcnMiLCJpbmNsdWRlRmlsZXMiLCJmb2xkZXJQYXRoIiwicmVzb2x2ZSIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0IiwiZXJyIiwiaXNEaXJlY3RvcnkiLCJ1bmRlZmluZWQiLCJkaXJMaXN0IiwicmVhZGRpciIsImZvbGRlcnMiLCJjb2RlIiwibWVzc2FnZSIsImZvbGRlcnNQcm9taXNlcyIsImkiLCJqIiwibGVuZ3RoIiwicHVzaCIsImFsbCIsInRoZW4iLCJyZXN1bHRzIiwiZmlsdGVyIiwiZm9sZGVyTmFtZSIsInByb21pc2VFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8494\n')},957:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar constants = __webpack_require__(6953);\n\nvar utilUrl = __webpack_require__(8279);\n/**\n * @module\n * @namespace downloadUtil\n */\n\n\nvar downloadUtil = {};\n/**\n * @typedef {Link} Link\n * @property {string} id - identifier\n * @property {number} bandwidth - bandwidth\n * @property {string} contentType - content type [video, audio, text]\n * @property {string} remoteUrl - remote url\n * @property {string} localUrl - local url\n */\n\n/**\n * @typedef {Link} Link\n * @property {string} id - identifier\n * @property {number} bandwidth - bandwidth\n * @property {string} contentType - content type [video, audio, text]\n * @property {string} remoteUrl - remote url\n * @property {string} localUrl - local url\n */\n\n/**\n * @param {string} manifestId - manifest identifier\n * @param {string} localPath - local path\n * @param {string} remotePath - remote path\n * @param {Array} userRepresentations - representations chosen by a user\n * @param {Array} manifestRepresentations - all manifest representations\n * @param {object} downloadedHash - download unique identifier\n * @returns {Link[]} array of {@link Link}\n */\n\ndownloadUtil.getAllLinks = function getAllLinks(manifestId, localPath, remotePath, userRepresentations, manifestRepresentations) {\n  return downloadUtil.getDownloadLinks(manifestId, localPath, remotePath, userRepresentations, manifestRepresentations);\n};\n/**\n * @param {string} manifestId - manifest identifier\n * @param {string} localPath - local path\n * @param {string} remotePath - remote path\n * @param {Array} userRepresentations - representations chosen by a user\n * @param {Array} manifestRepresentations - all manifest representations\n * @param {object} downloadedHash - download unique identifier\n * @returns {Link[]} array of {@link Link}\n */\n\n\ndownloadUtil.getDownloadLinks = function getDownloadLinks(manifestId, localPath, remotePath, userRepresentations, manifestRepresentations, downloadedHash) {\n  var chosenRepresentations = downloadUtil.getChosenRepresentations(userRepresentations, manifestRepresentations);\n  var bandwidth, contentType, localUrl, i, id, j, k, l, links;\n  var mediaFile, mediaBaseUrl, mediaUrls, remoteUrl, segmentInformation;\n  links = [];\n  downloadedHash = downloadedHash || {};\n\n  for (i = 0, j = chosenRepresentations.length; i < j; i++) {\n    contentType = chosenRepresentations[i].attributeList.mimeType;\n    bandwidth = +chosenRepresentations[i].attributeList.bandwidth;\n\n    if (contentType.indexOf("video") === 0) {\n      contentType = "video";\n    } else if (contentType.indexOf("audio") === 0) {\n      contentType = "audio";\n    } else {\n      contentType = "text";\n    }\n\n    segmentInformation = chosenRepresentations[i].segmentInformation;\n    mediaUrls = segmentInformation.mediaUrls;\n    id = segmentInformation.representationID;\n\n    for (k = 0, l = mediaUrls.length; k < l; k++) {\n      mediaFile = mediaUrls[k].mediaFile;\n      mediaBaseUrl = mediaUrls[k].baseURL;\n      mediaBaseUrl = mediaBaseUrl.replace(/\\.\\.\\//g, "");\n      mediaBaseUrl = mediaBaseUrl.replace(/\\.\\./g, "");\n\n      if (mediaFile === mediaBaseUrl || remotePath === mediaBaseUrl) {\n        mediaBaseUrl = "";\n      } // remove http and https from mediaBaseUrl, this way it will create a correct folder structure\n\n\n      if (mediaBaseUrl.match(constants.regexpProtocolRemove)) {\n        remoteUrl = utilUrl.joinPathWithFile(mediaBaseUrl, mediaFile);\n        localUrl = utilUrl.joinPathWithFile(localPath, mediaBaseUrl.replace(constants.regexpProtocolRemove, ""), mediaFile);\n      } else {\n        remoteUrl = utilUrl.joinPathWithFile(remotePath, mediaBaseUrl, mediaFile);\n        localUrl = utilUrl.joinPathWithFile(localPath, mediaBaseUrl, mediaFile);\n      } // filter query string from localUrl\n\n\n      var index = localUrl.lastIndexOf(\'?\');\n\n      if (index > -1) {\n        localUrl = localUrl.substr(0, index);\n      }\n\n      if (!downloadedHash[localUrl] || !downloadedHash[localUrl] && downloadedHash[localUrl].remoteUrl !== remoteUrl) {\n        if (!links[k]) {\n          links[k] = [];\n        }\n\n        links[k].push({\n          id: id,\n          bandwidth: bandwidth,\n          contentType: contentType,\n          remoteUrl: remoteUrl,\n          localUrl: localUrl\n        });\n      }\n    }\n  } // NOTE: use links.flat() in the future\n\n\n  return links.reduce(function (acc, val) {\n    return acc.concat(val);\n  }, []);\n};\n/**\n *\n * @param {array} userChosenRepr - array of chosen representations ids by user\n * @param {array} manifestRepr - array of all manifest representations\n * @returns {array} chosen representations from manifest\n */\n\n\ndownloadUtil.getChosenRepresentations = function getChosenRepresentations(userChosenRepr, manifestRepr) {\n  var chosenRepresentations = [];\n  var userChosenReprObj = {};\n  userChosenRepr = userChosenRepr || [];\n  manifestRepr = manifestRepr || [];\n\n  for (var i = 0, j = userChosenRepr.length; i < j; i++) {\n    userChosenReprObj[String(userChosenRepr[i])] = true;\n  }\n\n  for (var _i = 0, _j = manifestRepr.length; _i < _j; _i++) {\n    var items = manifestRepr[_i].representationColl;\n\n    for (var k = 0, l = items.length; k < l; k++) {\n      var item = items[k];\n\n      if (userChosenReprObj[String(item.attributeList.id)]) {\n        chosenRepresentations.push(item);\n      }\n    }\n  }\n\n  return chosenRepresentations;\n};\n\nmodule.exports = downloadUtil;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQyxNQUFNLENBQUNILGNBQWMsQ0FBQzdCLENBQUQsQ0FBZixDQUFQLENBQWpCLEdBQStDLElBQS9DO0VBQ0Q7O0VBQ0QsS0FBSyxJQUFJQSxFQUFDLEdBQUcsQ0FBUixFQUFXRSxFQUFDLEdBQUc0QixZQUFZLENBQUNuQixNQUFqQyxFQUF5Q1gsRUFBQyxHQUFHRSxFQUE3QyxFQUFnREYsRUFBQyxFQUFqRCxFQUFxRDtJQUNuRCxJQUFNaUMsS0FBSyxHQUFHSCxZQUFZLENBQUM5QixFQUFELENBQVosQ0FBZ0JrQyxrQkFBOUI7O0lBQ0EsS0FBSyxJQUFJL0IsQ0FBQyxHQUFHLENBQVIsRUFBV0MsQ0FBQyxHQUFHNkIsS0FBSyxDQUFDdEIsTUFBMUIsRUFBa0NSLENBQUMsR0FBR0MsQ0FBdEMsRUFBeUNELENBQUMsRUFBMUMsRUFBOEM7TUFDNUMsSUFBTWdDLElBQUksR0FBR0YsS0FBSyxDQUFDOUIsQ0FBRCxDQUFsQjs7TUFDQSxJQUFJNEIsaUJBQWlCLENBQUNDLE1BQU0sQ0FBQ0csSUFBSSxDQUFDdkIsYUFBTCxDQUFtQlgsRUFBcEIsQ0FBUCxDQUFyQixFQUFzRDtRQUNwRE4scUJBQXFCLENBQUM2QixJQUF0QixDQUEyQlcsSUFBM0I7TUFDRDtJQUNGO0VBQ0Y7O0VBQ0QsT0FBT3hDLHFCQUFQO0FBQ0QsQ0FsQkQ7O0FBb0JBeUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCbkQsWUFBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvZG93bmxvYWRzLmpzP2UzNzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGNvbnN0YW50cyA9IHJlcXVpcmUoXCIuLi9jb25zdGFudHNcIik7XG5jb25zdCB1dGlsVXJsID0gcmVxdWlyZShcIi4vdXJsXCIpO1xuXG4vKipcbiAqIEBtb2R1bGVcbiAqIEBuYW1lc3BhY2UgZG93bmxvYWRVdGlsXG4gKi9cbmxldCBkb3dubG9hZFV0aWwgPSB7fTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7TGlua30gTGlua1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkIC0gaWRlbnRpZmllclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJhbmR3aWR0aCAtIGJhbmR3aWR0aFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbnRlbnRUeXBlIC0gY29udGVudCB0eXBlIFt2aWRlbywgYXVkaW8sIHRleHRdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcmVtb3RlVXJsIC0gcmVtb3RlIHVybFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxvY2FsVXJsIC0gbG9jYWwgdXJsXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7TGlua30gTGlua1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkIC0gaWRlbnRpZmllclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJhbmR3aWR0aCAtIGJhbmR3aWR0aFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbnRlbnRUeXBlIC0gY29udGVudCB0eXBlIFt2aWRlbywgYXVkaW8sIHRleHRdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcmVtb3RlVXJsIC0gcmVtb3RlIHVybFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxvY2FsVXJsIC0gbG9jYWwgdXJsXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbFBhdGggLSBsb2NhbCBwYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVtb3RlUGF0aCAtIHJlbW90ZSBwYXRoXG4gKiBAcGFyYW0ge0FycmF5fSB1c2VyUmVwcmVzZW50YXRpb25zIC0gcmVwcmVzZW50YXRpb25zIGNob3NlbiBieSBhIHVzZXJcbiAqIEBwYXJhbSB7QXJyYXl9IG1hbmlmZXN0UmVwcmVzZW50YXRpb25zIC0gYWxsIG1hbmlmZXN0IHJlcHJlc2VudGF0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IGRvd25sb2FkZWRIYXNoIC0gZG93bmxvYWQgdW5pcXVlIGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtMaW5rW119IGFycmF5IG9mIHtAbGluayBMaW5rfVxuICovXG5kb3dubG9hZFV0aWwuZ2V0QWxsTGlua3MgPSBmdW5jdGlvbiBnZXRBbGxMaW5rcyAobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCB1c2VyUmVwcmVzZW50YXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFuaWZlc3RSZXByZXNlbnRhdGlvbnMpIHtcbiAgcmV0dXJuIGRvd25sb2FkVXRpbC5nZXREb3dubG9hZExpbmtzKG1hbmlmZXN0SWQsIGxvY2FsUGF0aCwgcmVtb3RlUGF0aCwgdXNlclJlcHJlc2VudGF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW5pZmVzdFJlcHJlc2VudGF0aW9ucyk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsUGF0aCAtIGxvY2FsIHBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSByZW1vdGVQYXRoIC0gcmVtb3RlIHBhdGhcbiAqIEBwYXJhbSB7QXJyYXl9IHVzZXJSZXByZXNlbnRhdGlvbnMgLSByZXByZXNlbnRhdGlvbnMgY2hvc2VuIGJ5IGEgdXNlclxuICogQHBhcmFtIHtBcnJheX0gbWFuaWZlc3RSZXByZXNlbnRhdGlvbnMgLSBhbGwgbWFuaWZlc3QgcmVwcmVzZW50YXRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gZG93bmxvYWRlZEhhc2ggLSBkb3dubG9hZCB1bmlxdWUgaWRlbnRpZmllclxuICogQHJldHVybnMge0xpbmtbXX0gYXJyYXkgb2Yge0BsaW5rIExpbmt9XG4gKi9cbmRvd25sb2FkVXRpbC5nZXREb3dubG9hZExpbmtzID0gZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rcyAobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCB1c2VyUmVwcmVzZW50YXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW5pZmVzdFJlcHJlc2VudGF0aW9ucywgZG93bmxvYWRlZEhhc2hcbikge1xuICBsZXQgY2hvc2VuUmVwcmVzZW50YXRpb25zID0gZG93bmxvYWRVdGlsLmdldENob3NlblJlcHJlc2VudGF0aW9ucyh1c2VyUmVwcmVzZW50YXRpb25zLCBtYW5pZmVzdFJlcHJlc2VudGF0aW9ucyk7XG4gIGxldCBiYW5kd2lkdGgsIGNvbnRlbnRUeXBlLCBsb2NhbFVybCwgaSwgaWQsIGosIGssIGwsIGxpbmtzO1xuICBsZXQgbWVkaWFGaWxlLCBtZWRpYUJhc2VVcmwsIG1lZGlhVXJscywgcmVtb3RlVXJsLCBzZWdtZW50SW5mb3JtYXRpb247XG5cbiAgbGlua3MgPSBbXTtcbiAgZG93bmxvYWRlZEhhc2ggPSBkb3dubG9hZGVkSGFzaCB8fCB7fTtcbiAgZm9yIChpID0gMCwgaiA9IGNob3NlblJlcHJlc2VudGF0aW9ucy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBjb250ZW50VHlwZSA9IGNob3NlblJlcHJlc2VudGF0aW9uc1tpXS5hdHRyaWJ1dGVMaXN0Lm1pbWVUeXBlO1xuICAgIGJhbmR3aWR0aCA9ICtjaG9zZW5SZXByZXNlbnRhdGlvbnNbaV0uYXR0cmlidXRlTGlzdC5iYW5kd2lkdGg7XG4gICAgaWYgKGNvbnRlbnRUeXBlLmluZGV4T2YoXCJ2aWRlb1wiKSA9PT0gMCkge1xuICAgICAgY29udGVudFR5cGUgPSBcInZpZGVvXCI7XG4gICAgfSBlbHNlIGlmIChjb250ZW50VHlwZS5pbmRleE9mKFwiYXVkaW9cIikgPT09IDApIHtcbiAgICAgIGNvbnRlbnRUeXBlID0gXCJhdWRpb1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50VHlwZSA9IFwidGV4dFwiO1xuICAgIH1cbiAgICBzZWdtZW50SW5mb3JtYXRpb24gPSBjaG9zZW5SZXByZXNlbnRhdGlvbnNbaV0uc2VnbWVudEluZm9ybWF0aW9uO1xuICAgIG1lZGlhVXJscyA9IHNlZ21lbnRJbmZvcm1hdGlvbi5tZWRpYVVybHM7XG4gICAgaWQgPSBzZWdtZW50SW5mb3JtYXRpb24ucmVwcmVzZW50YXRpb25JRDtcbiAgICBmb3IgKGsgPSAwLCBsID0gbWVkaWFVcmxzLmxlbmd0aDsgayA8IGw7IGsrKykge1xuICAgICAgbWVkaWFGaWxlID0gbWVkaWFVcmxzW2tdLm1lZGlhRmlsZTtcbiAgICAgIG1lZGlhQmFzZVVybCA9IG1lZGlhVXJsc1trXS5iYXNlVVJMO1xuICAgICAgbWVkaWFCYXNlVXJsID0gbWVkaWFCYXNlVXJsLnJlcGxhY2UoL1xcLlxcLlxcLy9nLCBcIlwiKTtcbiAgICAgIG1lZGlhQmFzZVVybCA9IG1lZGlhQmFzZVVybC5yZXBsYWNlKC9cXC5cXC4vZywgXCJcIik7XG4gICAgICBpZiAobWVkaWFGaWxlID09PSBtZWRpYUJhc2VVcmwgfHwgcmVtb3RlUGF0aCA9PT0gbWVkaWFCYXNlVXJsKSB7XG4gICAgICAgIG1lZGlhQmFzZVVybCA9IFwiXCI7XG4gICAgICB9XG4gICAgICAvLyByZW1vdmUgaHR0cCBhbmQgaHR0cHMgZnJvbSBtZWRpYUJhc2VVcmwsIHRoaXMgd2F5IGl0IHdpbGwgY3JlYXRlIGEgY29ycmVjdCBmb2xkZXIgc3RydWN0dXJlXG4gICAgICBpZiAobWVkaWFCYXNlVXJsLm1hdGNoKGNvbnN0YW50cy5yZWdleHBQcm90b2NvbFJlbW92ZSkpIHtcbiAgICAgICAgcmVtb3RlVXJsID0gdXRpbFVybC5qb2luUGF0aFdpdGhGaWxlKG1lZGlhQmFzZVVybCwgbWVkaWFGaWxlKTtcbiAgICAgICAgbG9jYWxVcmwgPSB1dGlsVXJsLmpvaW5QYXRoV2l0aEZpbGUobG9jYWxQYXRoLCBtZWRpYUJhc2VVcmwucmVwbGFjZShjb25zdGFudHMucmVnZXhwUHJvdG9jb2xSZW1vdmUsIFwiXCIpLFxuICAgICAgICAgIG1lZGlhRmlsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdGVVcmwgPSB1dGlsVXJsLmpvaW5QYXRoV2l0aEZpbGUocmVtb3RlUGF0aCwgbWVkaWFCYXNlVXJsLCBtZWRpYUZpbGUpO1xuICAgICAgICBsb2NhbFVybCA9IHV0aWxVcmwuam9pblBhdGhXaXRoRmlsZShsb2NhbFBhdGgsIG1lZGlhQmFzZVVybCwgbWVkaWFGaWxlKTtcbiAgICAgIH1cblxuICAgICAgLy8gZmlsdGVyIHF1ZXJ5IHN0cmluZyBmcm9tIGxvY2FsVXJsXG4gICAgICBsZXQgaW5kZXggPSBsb2NhbFVybC5sYXN0SW5kZXhPZignPycpXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBsb2NhbFVybCA9IGxvY2FsVXJsLnN1YnN0cigwLCBpbmRleCk7XG4gICAgICB9XG4gICAgICBpZiAoKCFkb3dubG9hZGVkSGFzaFtsb2NhbFVybF0pIHx8ICghZG93bmxvYWRlZEhhc2hbbG9jYWxVcmxdICYmIGRvd25sb2FkZWRIYXNoW2xvY2FsVXJsXS5yZW1vdGVVcmwgIT09IHJlbW90ZVVybCkpIHtcbiAgICAgICAgaWYgKCFsaW5rc1trXSkge1xuICAgICAgICAgIGxpbmtzW2tdID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBsaW5rc1trXS5wdXNoKHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgYmFuZHdpZHRoOiBiYW5kd2lkdGgsXG4gICAgICAgICAgY29udGVudFR5cGU6IGNvbnRlbnRUeXBlLFxuICAgICAgICAgIHJlbW90ZVVybDogcmVtb3RlVXJsLFxuICAgICAgICAgIGxvY2FsVXJsOiBsb2NhbFVybFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBOT1RFOiB1c2UgbGlua3MuZmxhdCgpIGluIHRoZSBmdXR1cmVcbiAgcmV0dXJuIGxpbmtzLnJlZHVjZSgoYWNjLCB2YWwpID0+IGFjYy5jb25jYXQodmFsKSwgW10pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHthcnJheX0gdXNlckNob3NlblJlcHIgLSBhcnJheSBvZiBjaG9zZW4gcmVwcmVzZW50YXRpb25zIGlkcyBieSB1c2VyXG4gKiBAcGFyYW0ge2FycmF5fSBtYW5pZmVzdFJlcHIgLSBhcnJheSBvZiBhbGwgbWFuaWZlc3QgcmVwcmVzZW50YXRpb25zXG4gKiBAcmV0dXJucyB7YXJyYXl9IGNob3NlbiByZXByZXNlbnRhdGlvbnMgZnJvbSBtYW5pZmVzdFxuICovXG5kb3dubG9hZFV0aWwuZ2V0Q2hvc2VuUmVwcmVzZW50YXRpb25zID0gZnVuY3Rpb24gZ2V0Q2hvc2VuUmVwcmVzZW50YXRpb25zICh1c2VyQ2hvc2VuUmVwciwgbWFuaWZlc3RSZXByKSB7XG4gIGxldCBjaG9zZW5SZXByZXNlbnRhdGlvbnMgPSBbXTtcbiAgbGV0IHVzZXJDaG9zZW5SZXByT2JqID0ge307XG4gIHVzZXJDaG9zZW5SZXByID0gdXNlckNob3NlblJlcHIgfHwgW107XG4gIG1hbmlmZXN0UmVwciA9IG1hbmlmZXN0UmVwciB8fCBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSB1c2VyQ2hvc2VuUmVwci5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICB1c2VyQ2hvc2VuUmVwck9ialtTdHJpbmcodXNlckNob3NlblJlcHJbaV0pXSA9IHRydWU7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGogPSBtYW5pZmVzdFJlcHIubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgY29uc3QgaXRlbXMgPSBtYW5pZmVzdFJlcHJbaV0ucmVwcmVzZW50YXRpb25Db2xsO1xuICAgIGZvciAobGV0IGsgPSAwLCBsID0gaXRlbXMubGVuZ3RoOyBrIDwgbDsgaysrKSB7XG4gICAgICBjb25zdCBpdGVtID0gaXRlbXNba107XG4gICAgICBpZiAodXNlckNob3NlblJlcHJPYmpbU3RyaW5nKGl0ZW0uYXR0cmlidXRlTGlzdC5pZCldKSB7XG4gICAgICAgIGNob3NlblJlcHJlc2VudGF0aW9ucy5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2hvc2VuUmVwcmVzZW50YXRpb25zO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkb3dubG9hZFV0aWw7XG4iXSwibmFtZXMiOlsiY29uc3RhbnRzIiwicmVxdWlyZSIsInV0aWxVcmwiLCJkb3dubG9hZFV0aWwiLCJnZXRBbGxMaW5rcyIsIm1hbmlmZXN0SWQiLCJsb2NhbFBhdGgiLCJyZW1vdGVQYXRoIiwidXNlclJlcHJlc2VudGF0aW9ucyIsIm1hbmlmZXN0UmVwcmVzZW50YXRpb25zIiwiZ2V0RG93bmxvYWRMaW5rcyIsImRvd25sb2FkZWRIYXNoIiwiY2hvc2VuUmVwcmVzZW50YXRpb25zIiwiZ2V0Q2hvc2VuUmVwcmVzZW50YXRpb25zIiwiYmFuZHdpZHRoIiwiY29udGVudFR5cGUiLCJsb2NhbFVybCIsImkiLCJpZCIsImoiLCJrIiwibCIsImxpbmtzIiwibWVkaWFGaWxlIiwibWVkaWFCYXNlVXJsIiwibWVkaWFVcmxzIiwicmVtb3RlVXJsIiwic2VnbWVudEluZm9ybWF0aW9uIiwibGVuZ3RoIiwiYXR0cmlidXRlTGlzdCIsIm1pbWVUeXBlIiwiaW5kZXhPZiIsInJlcHJlc2VudGF0aW9uSUQiLCJiYXNlVVJMIiwicmVwbGFjZSIsIm1hdGNoIiwicmVnZXhwUHJvdG9jb2xSZW1vdmUiLCJqb2luUGF0aFdpdGhGaWxlIiwiaW5kZXgiLCJsYXN0SW5kZXhPZiIsInN1YnN0ciIsInB1c2giLCJyZWR1Y2UiLCJhY2MiLCJ2YWwiLCJjb25jYXQiLCJ1c2VyQ2hvc2VuUmVwciIsIm1hbmlmZXN0UmVwciIsInVzZXJDaG9zZW5SZXByT2JqIiwiU3RyaW5nIiwiaXRlbXMiLCJyZXByZXNlbnRhdGlvbkNvbGwiLCJpdGVtIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///957\n')},5169:module=>{"use strict";eval("\n\nfunction isUTF16(data) {\n  var i = 0;\n  var len = data && data.length;\n  var pos = null;\n  var b1, b2, next, prev;\n\n  if (len < 2) {\n    if (data[0] > 0xFF) {\n      return false;\n    }\n  } else {\n    b1 = data[0];\n    b2 = data[1];\n\n    if (b1 === 0xFF && // BOM (little-endian)\n    b2 === 0xFE) {\n      return true;\n    }\n\n    if (b1 === 0xFE && // BOM (big-endian)\n    b2 === 0xFF) {\n      return true;\n    }\n\n    for (; i < len; i++) {\n      if (data[i] === 0x00) {\n        pos = i;\n        break;\n      } else if (data[i] > 0xFF) {\n        return false;\n      }\n    }\n\n    if (pos === null) {\n      return false; // Non ASCII\n    }\n\n    next = data[pos + 1]; // BE\n\n    if (next !== void 0 && next > 0x00 && next < 0x80) {\n      return true;\n    }\n\n    prev = data[pos - 1]; // LE\n\n    if (prev !== void 0 && prev > 0x00 && prev < 0x80) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nmodule.exports = {\n  isUTF16: isUTF16\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE2OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixTQUFTQSxPQUFULENBQWtCQyxJQUFsQixFQUF3QjtFQUN0QixJQUFJQyxDQUFDLEdBQUcsQ0FBUjtFQUNBLElBQUlDLEdBQUcsR0FBR0YsSUFBSSxJQUFJQSxJQUFJLENBQUNHLE1BQXZCO0VBQ0EsSUFBSUMsR0FBRyxHQUFHLElBQVY7RUFDQSxJQUFJQyxFQUFKLEVBQVFDLEVBQVIsRUFBWUMsSUFBWixFQUFrQkMsSUFBbEI7O0VBRUEsSUFBSU4sR0FBRyxHQUFHLENBQVYsRUFBYTtJQUNULElBQUlGLElBQUksQ0FBQyxDQUFELENBQUosR0FBVSxJQUFkLEVBQW9CO01BQ2hCLE9BQU8sS0FBUDtJQUNIO0VBQ0osQ0FKRCxNQUlPO0lBQ0hLLEVBQUUsR0FBR0wsSUFBSSxDQUFDLENBQUQsQ0FBVDtJQUNBTSxFQUFFLEdBQUdOLElBQUksQ0FBQyxDQUFELENBQVQ7O0lBQ0EsSUFBSUssRUFBRSxLQUFLLElBQVAsSUFBZTtJQUNmQyxFQUFFLEtBQUssSUFEWCxFQUNpQjtNQUNiLE9BQU8sSUFBUDtJQUNIOztJQUNELElBQUlELEVBQUUsS0FBSyxJQUFQLElBQWU7SUFDZkMsRUFBRSxLQUFLLElBRFgsRUFDaUI7TUFDYixPQUFPLElBQVA7SUFDSDs7SUFFRCxPQUFPTCxDQUFDLEdBQUdDLEdBQVgsRUFBZ0JELENBQUMsRUFBakIsRUFBcUI7TUFDakIsSUFBSUQsSUFBSSxDQUFDQyxDQUFELENBQUosS0FBWSxJQUFoQixFQUFzQjtRQUNsQkcsR0FBRyxHQUFHSCxDQUFOO1FBQ0E7TUFDSCxDQUhELE1BR08sSUFBSUQsSUFBSSxDQUFDQyxDQUFELENBQUosR0FBVSxJQUFkLEVBQW9CO1FBQ3ZCLE9BQU8sS0FBUDtNQUNIO0lBQ0o7O0lBRUQsSUFBSUcsR0FBRyxLQUFLLElBQVosRUFBa0I7TUFDZCxPQUFPLEtBQVAsQ0FEYyxDQUNBO0lBQ2pCOztJQUVERyxJQUFJLEdBQUdQLElBQUksQ0FBQ0ksR0FBRyxHQUFHLENBQVAsQ0FBWCxDQXpCRyxDQXlCbUI7O0lBQ3RCLElBQUlHLElBQUksS0FBSyxLQUFLLENBQWQsSUFBbUJBLElBQUksR0FBRyxJQUExQixJQUFrQ0EsSUFBSSxHQUFHLElBQTdDLEVBQW1EO01BQy9DLE9BQU8sSUFBUDtJQUNIOztJQUVEQyxJQUFJLEdBQUdSLElBQUksQ0FBQ0ksR0FBRyxHQUFHLENBQVAsQ0FBWCxDQTlCRyxDQThCbUI7O0lBQ3RCLElBQUlJLElBQUksS0FBSyxLQUFLLENBQWQsSUFBbUJBLElBQUksR0FBRyxJQUExQixJQUFrQ0EsSUFBSSxHQUFHLElBQTdDLEVBQW1EO01BQy9DLE9BQU8sSUFBUDtJQUNIO0VBQ0o7O0VBRUQsT0FBTyxLQUFQO0FBQ0Q7O0FBRURDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmWCxPQUFPLEVBQUVBO0FBRE0sQ0FBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvZW5jb2RpbmcuanM/ODgxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gaXNVVEYxNiAoZGF0YSkge1xuICB2YXIgaSA9IDA7XG4gIHZhciBsZW4gPSBkYXRhICYmIGRhdGEubGVuZ3RoO1xuICB2YXIgcG9zID0gbnVsbDtcbiAgdmFyIGIxLCBiMiwgbmV4dCwgcHJldjtcblxuICBpZiAobGVuIDwgMikge1xuICAgICAgaWYgKGRhdGFbMF0gPiAweEZGKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICB9IGVsc2Uge1xuICAgICAgYjEgPSBkYXRhWzBdO1xuICAgICAgYjIgPSBkYXRhWzFdO1xuICAgICAgaWYgKGIxID09PSAweEZGICYmIC8vIEJPTSAobGl0dGxlLWVuZGlhbilcbiAgICAgICAgICBiMiA9PT0gMHhGRSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGIxID09PSAweEZFICYmIC8vIEJPTSAoYmlnLWVuZGlhbilcbiAgICAgICAgICBiMiA9PT0gMHhGRikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKGRhdGFbaV0gPT09IDB4MDApIHtcbiAgICAgICAgICAgICAgcG9zID0gaTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChkYXRhW2ldID4gMHhGRikge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocG9zID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBOb24gQVNDSUlcbiAgICAgIH1cblxuICAgICAgbmV4dCA9IGRhdGFbcG9zICsgMV07IC8vIEJFXG4gICAgICBpZiAobmV4dCAhPT0gdm9pZCAwICYmIG5leHQgPiAweDAwICYmIG5leHQgPCAweDgwKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHByZXYgPSBkYXRhW3BvcyAtIDFdOyAvLyBMRVxuICAgICAgaWYgKHByZXYgIT09IHZvaWQgMCAmJiBwcmV2ID4gMHgwMCAmJiBwcmV2IDwgMHg4MCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNVVEYxNjogaXNVVEYxNlxufSJdLCJuYW1lcyI6WyJpc1VURjE2IiwiZGF0YSIsImkiLCJsZW4iLCJsZW5ndGgiLCJwb3MiLCJiMSIsImIyIiwibmV4dCIsInByZXYiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5169\n")},9241:module=>{"use strict";eval('\n\nmodule.exports = function fieldsPicker(obj, fields, attr) {\n  if (typeof attr === "undefined") {\n    return;\n  }\n\n  for (var i = 0, j = fields.length; i < j; i++) {\n    var field = fields[i];\n    var defaultValue = field.defaultValue;\n    var name = field.name || field;\n    obj[name] = typeof attr[name] !== "undefined" ? attr[name] : defaultValue;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI0MS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLFlBQVQsQ0FBdUJDLEdBQXZCLEVBQTRCQyxNQUE1QixFQUFvQ0MsSUFBcEMsRUFBMEM7RUFDekQsSUFBSSxPQUFPQSxJQUFQLEtBQWdCLFdBQXBCLEVBQWlDO0lBQy9CO0VBQ0Q7O0VBQ0QsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBUixFQUFXQyxDQUFDLEdBQUdILE1BQU0sQ0FBQ0ksTUFBM0IsRUFBbUNGLENBQUMsR0FBR0MsQ0FBdkMsRUFBMENELENBQUMsRUFBM0MsRUFBK0M7SUFDN0MsSUFBTUcsS0FBSyxHQUFHTCxNQUFNLENBQUNFLENBQUQsQ0FBcEI7SUFDQSxJQUFNSSxZQUFZLEdBQUdELEtBQUssQ0FBQ0MsWUFBM0I7SUFDQSxJQUFNQyxJQUFJLEdBQUdGLEtBQUssQ0FBQ0UsSUFBTixJQUFjRixLQUEzQjtJQUNBTixHQUFHLENBQUNRLElBQUQsQ0FBSCxHQUFZLE9BQU9OLElBQUksQ0FBQ00sSUFBRCxDQUFYLEtBQXNCLFdBQXRCLEdBQW9DTixJQUFJLENBQUNNLElBQUQsQ0FBeEMsR0FBaURELFlBQTdEO0VBQ0Q7QUFDRixDQVZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL2ZpZWxkcy1waWNrZXIuanM/MDYzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaWVsZHNQaWNrZXIgKG9iaiwgZmllbGRzLCBhdHRyKSB7XG4gIGlmICh0eXBlb2YgYXR0ciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgaiA9IGZpZWxkcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBjb25zdCBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBmaWVsZC5kZWZhdWx0VmFsdWU7XG4gICAgY29uc3QgbmFtZSA9IGZpZWxkLm5hbWUgfHwgZmllbGQ7XG4gICAgb2JqW25hbWVdID0gdHlwZW9mIGF0dHJbbmFtZV0gIT09IFwidW5kZWZpbmVkXCIgPyBhdHRyW25hbWVdIDogZGVmYXVsdFZhbHVlO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJmaWVsZHNQaWNrZXIiLCJvYmoiLCJmaWVsZHMiLCJhdHRyIiwiaSIsImoiLCJsZW5ndGgiLCJmaWVsZCIsImRlZmF1bHRWYWx1ZSIsIm5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9241\n')},7815:module=>{"use strict";eval('\n\nfunction removeCharacter(text, pos) {\n  var newText;\n  newText = text.substr(0, pos - 1);\n\n  if (text.length > pos) {\n    newText += text.substr(pos, text.length);\n  }\n\n  return newText;\n}\n\nfunction getInvalidDiff(text, regex, openingTag, closingTag) {\n  var value = String(text);\n  var check = true;\n  var i = 1;\n\n  while (check) {\n    var valueToCheck = value.substr(0, i);\n\n    if (!valueToCheck.match(regex)) {\n      value = removeCharacter(value, i);\n    } else {\n      i++;\n    }\n\n    if (i > value.length) {\n      check = false;\n    }\n  }\n\n  var arrValue = value.split("");\n\n  for (var _i = 0, j = text.length; _i < j; _i++) {\n    if (_i >= arrValue.length || text[_i] !== arrValue[_i]) {\n      arrValue.splice(_i, 0, openingTag + text[_i] + closingTag);\n    }\n  }\n\n  return arrValue.join("");\n}\n\nmodule.exports = getInvalidDiff;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzgxNS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixTQUFTQSxlQUFULENBQTBCQyxJQUExQixFQUFnQ0MsR0FBaEMsRUFBcUM7RUFDbkMsSUFBSUMsT0FBSjtFQUNBQSxPQUFPLEdBQUdGLElBQUksQ0FBQ0csTUFBTCxDQUFZLENBQVosRUFBZUYsR0FBRyxHQUFHLENBQXJCLENBQVY7O0VBQ0EsSUFBSUQsSUFBSSxDQUFDSSxNQUFMLEdBQWNILEdBQWxCLEVBQXVCO0lBQ3JCQyxPQUFPLElBQUlGLElBQUksQ0FBQ0csTUFBTCxDQUFZRixHQUFaLEVBQWlCRCxJQUFJLENBQUNJLE1BQXRCLENBQVg7RUFDRDs7RUFDRCxPQUFPRixPQUFQO0FBQ0Q7O0FBRUQsU0FBU0csY0FBVCxDQUF5QkwsSUFBekIsRUFBK0JNLEtBQS9CLEVBQXNDQyxVQUF0QyxFQUFrREMsVUFBbEQsRUFBOEQ7RUFDNUQsSUFBSUMsS0FBSyxHQUFHQyxNQUFNLENBQUNWLElBQUQsQ0FBbEI7RUFDQSxJQUFJVyxLQUFLLEdBQUcsSUFBWjtFQUNBLElBQUlDLENBQUMsR0FBRyxDQUFSOztFQUNBLE9BQU9ELEtBQVAsRUFBYztJQUNaLElBQUlFLFlBQVksR0FBR0osS0FBSyxDQUFDTixNQUFOLENBQWEsQ0FBYixFQUFnQlMsQ0FBaEIsQ0FBbkI7O0lBRUEsSUFBSSxDQUFDQyxZQUFZLENBQUNDLEtBQWIsQ0FBbUJSLEtBQW5CLENBQUwsRUFBZ0M7TUFDOUJHLEtBQUssR0FBR1YsZUFBZSxDQUFDVSxLQUFELEVBQVFHLENBQVIsQ0FBdkI7SUFDRCxDQUZELE1BRU87TUFDTEEsQ0FBQztJQUNGOztJQUNELElBQUlBLENBQUMsR0FBR0gsS0FBSyxDQUFDTCxNQUFkLEVBQXNCO01BQ3BCTyxLQUFLLEdBQUcsS0FBUjtJQUNEO0VBQ0Y7O0VBQ0QsSUFBSUksUUFBUSxHQUFHTixLQUFLLENBQUNPLEtBQU4sQ0FBWSxFQUFaLENBQWY7O0VBQ0EsS0FBSyxJQUFJSixFQUFDLEdBQUcsQ0FBUixFQUFXSyxDQUFDLEdBQUdqQixJQUFJLENBQUNJLE1BQXpCLEVBQWlDUSxFQUFDLEdBQUdLLENBQXJDLEVBQXdDTCxFQUFDLEVBQXpDLEVBQTZDO0lBQzNDLElBQUlBLEVBQUMsSUFBSUcsUUFBUSxDQUFDWCxNQUFkLElBQXdCSixJQUFJLENBQUNZLEVBQUQsQ0FBSixLQUFZRyxRQUFRLENBQUNILEVBQUQsQ0FBaEQsRUFBcUQ7TUFDbkRHLFFBQVEsQ0FBQ0csTUFBVCxDQUFnQk4sRUFBaEIsRUFBbUIsQ0FBbkIsRUFBc0JMLFVBQVUsR0FBR1AsSUFBSSxDQUFDWSxFQUFELENBQWpCLEdBQXVCSixVQUE3QztJQUNEO0VBQ0Y7O0VBQ0QsT0FBT08sUUFBUSxDQUFDSSxJQUFULENBQWMsRUFBZCxDQUFQO0FBQ0Q7O0FBRURDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhCLGNBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL2dldC1pbnZhbGlkLWRpZmYuanM/YmExZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gcmVtb3ZlQ2hhcmFjdGVyICh0ZXh0LCBwb3MpIHtcbiAgbGV0IG5ld1RleHQ7XG4gIG5ld1RleHQgPSB0ZXh0LnN1YnN0cigwLCBwb3MgLSAxKTtcbiAgaWYgKHRleHQubGVuZ3RoID4gcG9zKSB7XG4gICAgbmV3VGV4dCArPSB0ZXh0LnN1YnN0cihwb3MsIHRleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gbmV3VGV4dDtcbn1cblxuZnVuY3Rpb24gZ2V0SW52YWxpZERpZmYgKHRleHQsIHJlZ2V4LCBvcGVuaW5nVGFnLCBjbG9zaW5nVGFnKSB7XG4gIGxldCB2YWx1ZSA9IFN0cmluZyh0ZXh0KTtcbiAgbGV0IGNoZWNrID0gdHJ1ZTtcbiAgbGV0IGkgPSAxO1xuICB3aGlsZSAoY2hlY2spIHtcbiAgICBsZXQgdmFsdWVUb0NoZWNrID0gdmFsdWUuc3Vic3RyKDAsIGkpO1xuXG4gICAgaWYgKCF2YWx1ZVRvQ2hlY2subWF0Y2gocmVnZXgpKSB7XG4gICAgICB2YWx1ZSA9IHJlbW92ZUNoYXJhY3Rlcih2YWx1ZSwgaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGkrKztcbiAgICB9XG4gICAgaWYgKGkgPiB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIGNoZWNrID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGxldCBhcnJWYWx1ZSA9IHZhbHVlLnNwbGl0KFwiXCIpO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHRleHQubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgaWYgKGkgPj0gYXJyVmFsdWUubGVuZ3RoIHx8IHRleHRbaV0gIT09IGFyclZhbHVlW2ldKSB7XG4gICAgICBhcnJWYWx1ZS5zcGxpY2UoaSwgMCwgb3BlbmluZ1RhZyArIHRleHRbaV0gKyBjbG9zaW5nVGFnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFyclZhbHVlLmpvaW4oXCJcIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0SW52YWxpZERpZmY7Il0sIm5hbWVzIjpbInJlbW92ZUNoYXJhY3RlciIsInRleHQiLCJwb3MiLCJuZXdUZXh0Iiwic3Vic3RyIiwibGVuZ3RoIiwiZ2V0SW52YWxpZERpZmYiLCJyZWdleCIsIm9wZW5pbmdUYWciLCJjbG9zaW5nVGFnIiwidmFsdWUiLCJTdHJpbmciLCJjaGVjayIsImkiLCJ2YWx1ZVRvQ2hlY2siLCJtYXRjaCIsImFyclZhbHVlIiwic3BsaXQiLCJqIiwic3BsaWNlIiwiam9pbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7815\n')},3721:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar net = __webpack_require__(1808);\n\nmodule.exports = function (port, fn) {\n  var tester = net.createServer().once('error', function (err) {\n    if (err) {\n      return fn(err);\n    }\n\n    fn(null, true);\n  }).once('listening', function () {\n    tester.once('close', function () {\n      fn(null, false);\n    }).close();\n  }).listen(port);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcyMS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxHQUFHLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUFuQjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQW9CO0VBQ25DLElBQU1DLE1BQU0sR0FBR04sR0FBRyxDQUFDTyxZQUFKLEdBQW1CQyxJQUFuQixDQUF3QixPQUF4QixFQUFpQyxVQUFVQyxHQUFWLEVBQWU7SUFDN0QsSUFBSUEsR0FBSixFQUFTO01BQ1AsT0FBT0osRUFBRSxDQUFDSSxHQUFELENBQVQ7SUFDRDs7SUFDREosRUFBRSxDQUFDLElBQUQsRUFBTyxJQUFQLENBQUY7RUFDRCxDQUxjLEVBS1pHLElBTFksQ0FLUCxXQUxPLEVBS00sWUFBWTtJQUMvQkYsTUFBTSxDQUFDRSxJQUFQLENBQVksT0FBWixFQUFxQixZQUFZO01BQy9CSCxFQUFFLENBQUMsSUFBRCxFQUFPLEtBQVAsQ0FBRjtJQUNELENBRkQsRUFFR0ssS0FGSDtFQUdELENBVGMsRUFTWkMsTUFUWSxDQVNMUCxJQVRLLENBQWY7QUFVRCxDQVhEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL2lzLXBvcnQtdGFrZW4uanM/Y2RjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgbmV0ID0gcmVxdWlyZSgnbmV0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHBvcnQsIGZuKSB7XG4gIGNvbnN0IHRlc3RlciA9IG5ldC5jcmVhdGVTZXJ2ZXIoKS5vbmNlKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gZm4oZXJyKTtcbiAgICB9XG4gICAgZm4obnVsbCwgdHJ1ZSk7XG4gIH0pLm9uY2UoJ2xpc3RlbmluZycsIGZ1bmN0aW9uICgpIHtcbiAgICB0ZXN0ZXIub25jZSgnY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmbihudWxsLCBmYWxzZSk7XG4gICAgfSkuY2xvc2UoKTtcbiAgfSkubGlzdGVuKHBvcnQpO1xufTtcbiJdLCJuYW1lcyI6WyJuZXQiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInBvcnQiLCJmbiIsInRlc3RlciIsImNyZWF0ZVNlcnZlciIsIm9uY2UiLCJlcnIiLCJjbG9zZSIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3721\n")},4803:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar constants = __webpack_require__(6953);\n\nvar Manifest = (__webpack_require__(1269)/* .Manifest */ .G);\n\nvar XMLSerializer = (__webpack_require__(678).XMLSerializer);\n\nfunction getMimeType(value) {\n  if (value.indexOf("video") !== -1) {\n    return "video";\n  } else if (value.indexOf("audio") !== -1) {\n    return "audio";\n  } else {\n    return "text";\n  }\n}\n\nfunction parseManifestWithChoosenRepresentations(manifest, representations) {\n  var manifestId = manifest.id;\n  var xmlSerializer = new XMLSerializer();\n  var manifestUrl = manifest.getManifestUrl();\n  var manifestString = xmlSerializer.serializeToString(manifest.getManifestXML());\n  manifest = new Manifest(manifestId);\n  manifest.loadFromStr(manifestString, manifestUrl);\n  var video = representations.video;\n  var audio = representations.audio;\n  var text = representations.text;\n  var chosenRepresentations = {};\n  chosenRepresentations["video"] = {};\n\n  for (var i = 0, j = video.length; i < j; i++) {\n    chosenRepresentations["video"][video[i]] = true;\n  }\n\n  chosenRepresentations["audio"] = {};\n\n  for (var _i = 0, _j = audio.length; _i < _j; _i++) {\n    chosenRepresentations["audio"][audio[_i]] = true;\n  }\n\n  chosenRepresentations["text"] = {};\n\n  for (var _i2 = 0, _j2 = text.length; _i2 < _j2; _i2++) {\n    chosenRepresentations["text"][text[_i2]] = true;\n  }\n\n  function markNodeForDownload(repr) {\n    for (var _i3 = 0, _j3 = repr.length; _i3 < _j3; _i3++) {\n      for (var k = 0, l = repr[_i3].representationColl.length; k < l; k++) {\n        var id = repr[_i3].representationColl[k].attributeList.id;\n        var mimeType = getMimeType(repr[_i3].representationColl[k].attributeList.mimeType);\n\n        if (chosenRepresentations[mimeType][id]) {\n          repr[_i3].representationColl[k].markNodeForDownload(true);\n        }\n      }\n    }\n  } // fix the baseURL by removing http and https the same is done when saving a file\n  // see api/util/downloads.js -> getDownloadLinks\n\n\n  function fixBaseURL(repr) {\n    for (var _i4 = 0, _j4 = repr.length; _i4 < _j4; _i4++) {\n      var baseURL = repr[_i4].currentNode.getElementsByTagName("BaseURL")[0];\n\n      if (baseURL && baseURL.textContent.match(constants.regexpProtocolRemove)) {\n        baseURL.textContent = baseURL.textContent.replace(constants.regexpProtocolRemove, "");\n      }\n    }\n  }\n\n  markNodeForDownload(manifest.getVideoRepresentations());\n  markNodeForDownload(manifest.getAudioRepresentations());\n  markNodeForDownload(manifest.getTextRepresentations());\n  fixBaseURL(manifest.getVideoRepresentations());\n  fixBaseURL(manifest.getAudioRepresentations());\n  fixBaseURL(manifest.getTextRepresentations());\n  manifest.removeNode();\n  return xmlSerializer.serializeToString(manifest.getManifestXML());\n}\n\nmodule.exports = parseManifestWithChoosenRepresentations;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0Q7SUFDRjtFQUNGOztFQUVEYixtQkFBbUIsQ0FBQ2xCLFFBQVEsQ0FBQ2lDLHVCQUFULEVBQUQsQ0FBbkI7RUFDQWYsbUJBQW1CLENBQUNsQixRQUFRLENBQUNrQyx1QkFBVCxFQUFELENBQW5CO0VBQ0FoQixtQkFBbUIsQ0FBQ2xCLFFBQVEsQ0FBQ21DLHNCQUFULEVBQUQsQ0FBbkI7RUFFQVYsVUFBVSxDQUFDekIsUUFBUSxDQUFDaUMsdUJBQVQsRUFBRCxDQUFWO0VBQ0FSLFVBQVUsQ0FBQ3pCLFFBQVEsQ0FBQ2tDLHVCQUFULEVBQUQsQ0FBVjtFQUNBVCxVQUFVLENBQUN6QixRQUFRLENBQUNtQyxzQkFBVCxFQUFELENBQVY7RUFFQW5DLFFBQVEsQ0FBQ29DLFVBQVQ7RUFFQSxPQUFPaEMsYUFBYSxDQUFDSSxpQkFBZCxDQUFnQ1IsUUFBUSxDQUFDUyxjQUFULEVBQWhDLENBQVA7QUFDRDs7QUFFRDRCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnZDLHVDQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvdXRpbC9wYXJzZS1tYW5pZmVzdC13aXRoLWNob29zZW4tcmVwcmVzZW50YXRpb25zLmpzPzg1OGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBjb25zdGFudHMgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuXG5jb25zdCBNYW5pZmVzdCA9IHJlcXVpcmUoXCIuLi9tYW5pZmVzdC9sb2FkZXIvbWFuaWZlc3RcIikuTWFuaWZlc3Q7XG5cbmNvbnN0IFhNTFNlcmlhbGl6ZXIgPSByZXF1aXJlKFwieG1sZG9tXCIpLlhNTFNlcmlhbGl6ZXI7XG5cbmZ1bmN0aW9uIGdldE1pbWVUeXBlICh2YWx1ZSkge1xuICBpZiAodmFsdWUuaW5kZXhPZihcInZpZGVvXCIpICE9PSAtMSkge1xuICAgIHJldHVybiBcInZpZGVvXCI7XG4gIH0gZWxzZSBpZiAodmFsdWUuaW5kZXhPZihcImF1ZGlvXCIpICE9PSAtMSkge1xuICAgIHJldHVybiBcImF1ZGlvXCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwidGV4dFwiO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlTWFuaWZlc3RXaXRoQ2hvb3NlblJlcHJlc2VudGF0aW9ucyAobWFuaWZlc3QsIHJlcHJlc2VudGF0aW9ucykge1xuICBjb25zdCBtYW5pZmVzdElkID0gbWFuaWZlc3QuaWQ7XG4gIGNvbnN0IHhtbFNlcmlhbGl6ZXIgPSBuZXcgWE1MU2VyaWFsaXplcigpO1xuICBjb25zdCBtYW5pZmVzdFVybCA9IG1hbmlmZXN0LmdldE1hbmlmZXN0VXJsKCk7XG4gIGNvbnN0IG1hbmlmZXN0U3RyaW5nID0geG1sU2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtYW5pZmVzdC5nZXRNYW5pZmVzdFhNTCgpKTtcblxuICBtYW5pZmVzdCA9IG5ldyBNYW5pZmVzdChtYW5pZmVzdElkKTtcbiAgbWFuaWZlc3QubG9hZEZyb21TdHIobWFuaWZlc3RTdHJpbmcsIG1hbmlmZXN0VXJsKTtcblxuICBjb25zdCB2aWRlbyA9IHJlcHJlc2VudGF0aW9ucy52aWRlbztcbiAgY29uc3QgYXVkaW8gPSByZXByZXNlbnRhdGlvbnMuYXVkaW87XG4gIGNvbnN0IHRleHQgPSByZXByZXNlbnRhdGlvbnMudGV4dDtcblxuICBsZXQgY2hvc2VuUmVwcmVzZW50YXRpb25zID0ge307XG4gIGNob3NlblJlcHJlc2VudGF0aW9uc1tcInZpZGVvXCJdID0ge307XG4gIGZvciAobGV0IGkgPSAwLCBqID0gdmlkZW8ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgY2hvc2VuUmVwcmVzZW50YXRpb25zW1widmlkZW9cIl1bdmlkZW9baV1dID0gdHJ1ZTtcbiAgfVxuICBjaG9zZW5SZXByZXNlbnRhdGlvbnNbXCJhdWRpb1wiXSA9IHt9O1xuICBmb3IgKGxldCBpID0gMCwgaiA9IGF1ZGlvLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGNob3NlblJlcHJlc2VudGF0aW9uc1tcImF1ZGlvXCJdW2F1ZGlvW2ldXSA9IHRydWU7XG4gIH1cbiAgY2hvc2VuUmVwcmVzZW50YXRpb25zW1widGV4dFwiXSA9IHt9O1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHRleHQubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgY2hvc2VuUmVwcmVzZW50YXRpb25zW1widGV4dFwiXVt0ZXh0W2ldXSA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrTm9kZUZvckRvd25sb2FkIChyZXByKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSByZXByLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgZm9yIChsZXQgayA9IDAsIGwgPSByZXByW2ldLnJlcHJlc2VudGF0aW9uQ29sbC5sZW5ndGg7IGsgPCBsOyBrKyspIHtcbiAgICAgICAgbGV0IGlkID0gcmVwcltpXS5yZXByZXNlbnRhdGlvbkNvbGxba10uYXR0cmlidXRlTGlzdC5pZDtcbiAgICAgICAgbGV0IG1pbWVUeXBlID0gZ2V0TWltZVR5cGUocmVwcltpXS5yZXByZXNlbnRhdGlvbkNvbGxba10uYXR0cmlidXRlTGlzdC5taW1lVHlwZSk7XG4gICAgICAgIGlmIChjaG9zZW5SZXByZXNlbnRhdGlvbnNbbWltZVR5cGVdW2lkXSkge1xuICAgICAgICAgIHJlcHJbaV0ucmVwcmVzZW50YXRpb25Db2xsW2tdLm1hcmtOb2RlRm9yRG93bmxvYWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBmaXggdGhlIGJhc2VVUkwgYnkgcmVtb3ZpbmcgaHR0cCBhbmQgaHR0cHMgdGhlIHNhbWUgaXMgZG9uZSB3aGVuIHNhdmluZyBhIGZpbGVcbiAgLy8gc2VlIGFwaS91dGlsL2Rvd25sb2Fkcy5qcyAtPiBnZXREb3dubG9hZExpbmtzXG4gIGZ1bmN0aW9uIGZpeEJhc2VVUkwgKHJlcHIpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IHJlcHIubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBsZXQgYmFzZVVSTCA9IHJlcHJbaV0uY3VycmVudE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJCYXNlVVJMXCIpWzBdO1xuICAgICAgaWYgKGJhc2VVUkwgJiYgYmFzZVVSTC50ZXh0Q29udGVudC5tYXRjaChjb25zdGFudHMucmVnZXhwUHJvdG9jb2xSZW1vdmUpKSB7XG4gICAgICAgIGJhc2VVUkwudGV4dENvbnRlbnQgPSBiYXNlVVJMLnRleHRDb250ZW50LnJlcGxhY2UoY29uc3RhbnRzLnJlZ2V4cFByb3RvY29sUmVtb3ZlLCBcIlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBtYXJrTm9kZUZvckRvd25sb2FkKG1hbmlmZXN0LmdldFZpZGVvUmVwcmVzZW50YXRpb25zKCkpO1xuICBtYXJrTm9kZUZvckRvd25sb2FkKG1hbmlmZXN0LmdldEF1ZGlvUmVwcmVzZW50YXRpb25zKCkpO1xuICBtYXJrTm9kZUZvckRvd25sb2FkKG1hbmlmZXN0LmdldFRleHRSZXByZXNlbnRhdGlvbnMoKSk7XG5cbiAgZml4QmFzZVVSTChtYW5pZmVzdC5nZXRWaWRlb1JlcHJlc2VudGF0aW9ucygpKTtcbiAgZml4QmFzZVVSTChtYW5pZmVzdC5nZXRBdWRpb1JlcHJlc2VudGF0aW9ucygpKTtcbiAgZml4QmFzZVVSTChtYW5pZmVzdC5nZXRUZXh0UmVwcmVzZW50YXRpb25zKCkpO1xuXG4gIG1hbmlmZXN0LnJlbW92ZU5vZGUoKTtcblxuICByZXR1cm4geG1sU2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtYW5pZmVzdC5nZXRNYW5pZmVzdFhNTCgpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZU1hbmlmZXN0V2l0aENob29zZW5SZXByZXNlbnRhdGlvbnM7XG4iXSwibmFtZXMiOlsiY29uc3RhbnRzIiwicmVxdWlyZSIsIk1hbmlmZXN0IiwiWE1MU2VyaWFsaXplciIsImdldE1pbWVUeXBlIiwidmFsdWUiLCJpbmRleE9mIiwicGFyc2VNYW5pZmVzdFdpdGhDaG9vc2VuUmVwcmVzZW50YXRpb25zIiwibWFuaWZlc3QiLCJyZXByZXNlbnRhdGlvbnMiLCJtYW5pZmVzdElkIiwiaWQiLCJ4bWxTZXJpYWxpemVyIiwibWFuaWZlc3RVcmwiLCJnZXRNYW5pZmVzdFVybCIsIm1hbmlmZXN0U3RyaW5nIiwic2VyaWFsaXplVG9TdHJpbmciLCJnZXRNYW5pZmVzdFhNTCIsImxvYWRGcm9tU3RyIiwidmlkZW8iLCJhdWRpbyIsInRleHQiLCJjaG9zZW5SZXByZXNlbnRhdGlvbnMiLCJpIiwiaiIsImxlbmd0aCIsIm1hcmtOb2RlRm9yRG93bmxvYWQiLCJyZXByIiwiayIsImwiLCJyZXByZXNlbnRhdGlvbkNvbGwiLCJhdHRyaWJ1dGVMaXN0IiwibWltZVR5cGUiLCJmaXhCYXNlVVJMIiwiYmFzZVVSTCIsImN1cnJlbnROb2RlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0ZXh0Q29udGVudCIsIm1hdGNoIiwicmVnZXhwUHJvdG9jb2xSZW1vdmUiLCJyZXBsYWNlIiwiZ2V0VmlkZW9SZXByZXNlbnRhdGlvbnMiLCJnZXRBdWRpb1JlcHJlc2VudGF0aW9ucyIsImdldFRleHRSZXByZXNlbnRhdGlvbnMiLCJyZW1vdmVOb2RlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4803\n')},6951:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\n\n\nvar fs = __webpack_require__(7147);\n\nvar path = __webpack_require__(1017);\n\nvar downloadFileUtil = __webpack_require__(2777);\n\nfunction removeDir(dir, cb, ENOTEMPTY_attempts) {\n  ENOTEMPTY_attempts = ENOTEMPTY_attempts || 0;\n  var ENOTEMPTY_maxAttempts = 10;\n  var ENOTEMPTY_TIMEOUT = 500;\n\n  if (typeof dir !== \'string\') {\n    throw new Error(\'directory path required\');\n  }\n\n  if (cb !== undefined && typeof cb !== \'function\') {\n    throw new Error(\'callback must be function\');\n  }\n\n  var self = this;\n  var called, results;\n  downloadFileUtil.checkForLocalFile(dir, function existsCallback(exists) {\n    if (!exists) {\n      return removeDirCallback(null);\n    }\n\n    fs.stat(dir, function statCallback(err, stat) {\n      if (err) {\n        return removeDirCallback(err);\n      }\n\n      if (!stat.isDirectory()) {\n        return fs.unlink(dir, removeDirCallback);\n      }\n\n      fs.readdir(dir, readdirCallback);\n    });\n\n    function readdirCallback(err, files) {\n      if (err) {\n        return removeDirCallback(err);\n      }\n\n      var n = files.length;\n\n      if (n === 0) {\n        return fs.rmdir(dir, removeDirCallback);\n      }\n\n      files.forEach(function (name) {\n        removeDir(path.resolve(dir, name), function (err) {\n          if (err) {\n            return removeDirCallback(err);\n          }\n\n          if (--n === 0) {\n            return fs.rmdir(dir, removeDirCallback);\n          }\n        });\n      });\n    }\n  });\n\n  function removeDirCallback(err) {\n    if (err && err.code === "ENOTEMPTY") {\n      if (ENOTEMPTY_attempts < ENOTEMPTY_maxAttempts) {\n        ENOTEMPTY_attempts++;\n        console.error("ERROR ENOTEMPTY", dir, ENOTEMPTY_attempts);\n        setTimeout(function () {\n          removeDir(dir, cb, ENOTEMPTY_attempts);\n        }, ENOTEMPTY_TIMEOUT);\n        return;\n      }\n    }\n\n    if (err && err.code === \'ENOENT\') {\n      arguments[0] = null;\n    }\n\n    if (!results) {\n      results = arguments;\n    }\n\n    if (!cb || called) {\n      return;\n    }\n\n    called = true;\n    cb.apply(self, results);\n  }\n}\n\nmodule.exports = removeDir;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWMsaUJBQWQsRUFBaUM5QixHQUFqQyxFQUFzQ0Usa0JBQXRDO1FBQ0E2QixVQUFVLENBQUMsWUFBWTtVQUNyQmhDLFNBQVMsQ0FBQ0MsR0FBRCxFQUFNQyxFQUFOLEVBQVVDLGtCQUFWLENBQVQ7UUFDRCxDQUZTLEVBRVBFLGlCQUZPLENBQVY7UUFHQTtNQUNEO0lBQ0Y7O0lBQ0QsSUFBSVksR0FBRyxJQUFJQSxHQUFHLENBQUNZLElBQUosS0FBYSxRQUF4QixFQUFrQztNQUNoQ0ksU0FBUyxDQUFDLENBQUQsQ0FBVCxHQUFlLElBQWY7SUFDRDs7SUFFRCxJQUFJLENBQUN2QixPQUFMLEVBQWM7TUFDWkEsT0FBTyxHQUFHdUIsU0FBVjtJQUNEOztJQUNELElBQUksQ0FBQy9CLEVBQUQsSUFBT08sTUFBWCxFQUFtQjtNQUNqQjtJQUNEOztJQUNEQSxNQUFNLEdBQUcsSUFBVDtJQUNBUCxFQUFFLENBQUNnQyxLQUFILENBQVMxQixJQUFULEVBQWVFLE9BQWY7RUFDRDtBQUNGOztBQUVEeUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEMsU0FBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvcmVtb3ZlLWRpci5qcz9mMjk0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qZXNsaW50IG5vLWNvbnNvbGU6IFtcImVycm9yXCIsIHsgYWxsb3c6IFtcIndhcm5cIiwgXCJlcnJvclwiLCBcImluZm9cIl0gfV0gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IGRvd25sb2FkRmlsZVV0aWwgPSByZXF1aXJlKFwiLi4vZG93bmxvYWRzL2Rvd25sb2FkLWZpbGUtdXRpbFwiKTtcblxuZnVuY3Rpb24gcmVtb3ZlRGlyIChkaXIsIGNiLCBFTk9URU1QVFlfYXR0ZW1wdHMpIHtcbiAgRU5PVEVNUFRZX2F0dGVtcHRzID0gRU5PVEVNUFRZX2F0dGVtcHRzIHx8IDA7XG4gIGNvbnN0IEVOT1RFTVBUWV9tYXhBdHRlbXB0cyA9IDEwO1xuICBjb25zdCBFTk9URU1QVFlfVElNRU9VVCA9IDUwMDtcblxuICBpZiAodHlwZW9mIGRpciAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RpcmVjdG9yeSBwYXRoIHJlcXVpcmVkJyk7XG4gIH1cblxuICBpZiAoY2IgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbGxiYWNrIG11c3QgYmUgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gIGxldCBjYWxsZWQsIHJlc3VsdHM7XG5cbiAgZG93bmxvYWRGaWxlVXRpbC5jaGVja0ZvckxvY2FsRmlsZShkaXIsIGZ1bmN0aW9uIGV4aXN0c0NhbGxiYWNrIChleGlzdHMpIHtcbiAgICBpZiAoIWV4aXN0cykge1xuICAgICAgcmV0dXJuIHJlbW92ZURpckNhbGxiYWNrKG51bGwpO1xuICAgIH1cbiAgICBmcy5zdGF0KGRpciwgZnVuY3Rpb24gc3RhdENhbGxiYWNrIChlcnIsIHN0YXQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZURpckNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBpZiAoIXN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICByZXR1cm4gZnMudW5saW5rKGRpciwgcmVtb3ZlRGlyQ2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgZnMucmVhZGRpcihkaXIsIHJlYWRkaXJDYWxsYmFjayk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiByZWFkZGlyQ2FsbGJhY2sgKGVyciwgZmlsZXMpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZURpckNhbGxiYWNrKGVycik7XG4gICAgICB9XG5cbiAgICAgIGxldCBuID0gZmlsZXMubGVuZ3RoO1xuICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZzLnJtZGlyKGRpciwgcmVtb3ZlRGlyQ2FsbGJhY2spO1xuICAgICAgfVxuXG4gICAgICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJlbW92ZURpcihwYXRoLnJlc29sdmUoZGlyLCBuYW1lKSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVEaXJDYWxsYmFjayhlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoLS1uID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZnMucm1kaXIoZGlyLCByZW1vdmVEaXJDYWxsYmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRGlyQ2FsbGJhY2sgKGVycikge1xuICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgPT09IFwiRU5PVEVNUFRZXCIpIHtcbiAgICAgIGlmIChFTk9URU1QVFlfYXR0ZW1wdHMgPCBFTk9URU1QVFlfbWF4QXR0ZW1wdHMpIHtcbiAgICAgICAgRU5PVEVNUFRZX2F0dGVtcHRzKys7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBFTk9URU1QVFlcIiwgZGlyLCBFTk9URU1QVFlfYXR0ZW1wdHMpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZW1vdmVEaXIoZGlyLCBjYiwgRU5PVEVNUFRZX2F0dGVtcHRzKTtcbiAgICAgICAgfSwgRU5PVEVNUFRZX1RJTUVPVVQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICBhcmd1bWVudHNbMF0gPSBudWxsO1xuICAgIH1cblxuICAgIGlmICghcmVzdWx0cykge1xuICAgICAgcmVzdWx0cyA9IGFyZ3VtZW50cztcbiAgICB9XG4gICAgaWYgKCFjYiB8fCBjYWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbGVkID0gdHJ1ZTtcbiAgICBjYi5hcHBseShzZWxmLCByZXN1bHRzKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlbW92ZURpcjtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiZG93bmxvYWRGaWxlVXRpbCIsInJlbW92ZURpciIsImRpciIsImNiIiwiRU5PVEVNUFRZX2F0dGVtcHRzIiwiRU5PVEVNUFRZX21heEF0dGVtcHRzIiwiRU5PVEVNUFRZX1RJTUVPVVQiLCJFcnJvciIsInVuZGVmaW5lZCIsInNlbGYiLCJjYWxsZWQiLCJyZXN1bHRzIiwiY2hlY2tGb3JMb2NhbEZpbGUiLCJleGlzdHNDYWxsYmFjayIsImV4aXN0cyIsInJlbW92ZURpckNhbGxiYWNrIiwic3RhdCIsInN0YXRDYWxsYmFjayIsImVyciIsImlzRGlyZWN0b3J5IiwidW5saW5rIiwicmVhZGRpciIsInJlYWRkaXJDYWxsYmFjayIsImZpbGVzIiwibiIsImxlbmd0aCIsInJtZGlyIiwiZm9yRWFjaCIsIm5hbWUiLCJyZXNvbHZlIiwiY29kZSIsImNvbnNvbGUiLCJlcnJvciIsInNldFRpbWVvdXQiLCJhcmd1bWVudHMiLCJhcHBseSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6951\n')},1349:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar mkdirp = __webpack_require__(9526);\n\nvar fs = __webpack_require__(7147);\n\nvar path = __webpack_require__(1017);\n\nfunction saveFile(filePath, fileName, value, callback) {\n  mkdirp(filePath).then(function (success) {\n    var fileUrl = path.resolve(filePath + "/" + fileName);\n    fs.writeFile(fileUrl, value, "utf-8", callback);\n  }, function (error) {\n    callback(error);\n  });\n}\n\nmodule.exports = saveFile;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM0OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxNQUFNLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUF0Qjs7QUFDQSxJQUFNQyxFQUFFLEdBQUdELG1CQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxJQUFNRSxJQUFJLEdBQUdGLG1CQUFPLENBQUMsSUFBRCxDQUFwQjs7QUFFQSxTQUFTRyxRQUFULENBQWtCQyxRQUFsQixFQUE0QkMsUUFBNUIsRUFBc0NDLEtBQXRDLEVBQTZDQyxRQUE3QyxFQUF1RDtFQUNyRFIsTUFBTSxDQUFDSyxRQUFELENBQU4sQ0FBaUJJLElBQWpCLENBQXNCLFVBQVVDLE9BQVYsRUFBbUI7SUFDdkMsSUFBTUMsT0FBTyxHQUFHUixJQUFJLENBQUNTLE9BQUwsQ0FBYVAsUUFBUSxHQUFHLEdBQVgsR0FBaUJDLFFBQTlCLENBQWhCO0lBQ0FKLEVBQUUsQ0FBQ1csU0FBSCxDQUFhRixPQUFiLEVBQXNCSixLQUF0QixFQUE2QixPQUE3QixFQUFzQ0MsUUFBdEM7RUFDRCxDQUhELEVBR0csVUFBVU0sS0FBVixFQUFpQjtJQUNsQk4sUUFBUSxDQUFDTSxLQUFELENBQVI7RUFDRCxDQUxEO0FBTUQ7O0FBRURDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlosUUFBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvc2F2ZS1maWxlLmpzP2M5NWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBta2RpcnAgPSByZXF1aXJlKFwibWtkaXJwXCIpO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5cbmZ1bmN0aW9uIHNhdmVGaWxlKGZpbGVQYXRoLCBmaWxlTmFtZSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gIG1rZGlycChmaWxlUGF0aCkudGhlbihmdW5jdGlvbiAoc3VjY2Vzcykge1xuICAgIGNvbnN0IGZpbGVVcmwgPSBwYXRoLnJlc29sdmUoZmlsZVBhdGggKyBcIi9cIiArIGZpbGVOYW1lKTtcbiAgICBmcy53cml0ZUZpbGUoZmlsZVVybCwgdmFsdWUsIFwidXRmLThcIiwgY2FsbGJhY2spO1xuICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBjYWxsYmFjayhlcnJvcik7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNhdmVGaWxlO1xuIl0sIm5hbWVzIjpbIm1rZGlycCIsInJlcXVpcmUiLCJmcyIsInBhdGgiLCJzYXZlRmlsZSIsImZpbGVQYXRoIiwiZmlsZU5hbWUiLCJ2YWx1ZSIsImNhbGxiYWNrIiwidGhlbiIsInN1Y2Nlc3MiLCJmaWxlVXJsIiwicmVzb2x2ZSIsIndyaXRlRmlsZSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1349\n')},9499:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar FlakeIdGen = __webpack_require__(1759);\n\nvar intFormat = __webpack_require__(1637);\n\nvar generator = new FlakeIdGen();\n\nvar SnowflakeId = function () {\n  function SnowflakeId() {}\n\n  SnowflakeId.getUUID = function () {\n    var id1 = generator.next();\n    var id3 = intFormat(id1, 'dec');\n    return id3;\n  };\n\n  return SnowflakeId;\n}();\n\nexports.SnowflakeId = SnowflakeId;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQ5OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxVQUFVLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUExQjs7QUFDQSxJQUFNQyxTQUFTLEdBQUdELG1CQUFPLENBQUMsSUFBRCxDQUF6Qjs7QUFDQSxJQUFNRSxTQUFTLEdBQUcsSUFBSUgsVUFBSixFQUFsQjs7QUFDQSxJQUFNSSxXQUFXLEdBQUksWUFBWTtFQUMvQixTQUFTQSxXQUFULEdBQXdCLENBQ3ZCOztFQUVEQSxXQUFXLENBQUNDLE9BQVosR0FBc0IsWUFBWTtJQUNoQyxJQUFNQyxHQUFHLEdBQUdILFNBQVMsQ0FBQ0ksSUFBVixFQUFaO0lBQ0EsSUFBTUMsR0FBRyxHQUFHTixTQUFTLENBQUNJLEdBQUQsRUFBTSxLQUFOLENBQXJCO0lBQ0EsT0FBT0UsR0FBUDtFQUNELENBSkQ7O0VBS0EsT0FBT0osV0FBUDtBQUNELENBVm9CLEVBQXJCOztBQVdBSyxtQkFBQSxHQUFzQkwsV0FBdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvc25vd2ZsYWtlLWlkLmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBGbGFrZUlkR2VuID0gcmVxdWlyZSgnZmxha2UtaWRnZW4nKTtcbmNvbnN0IGludEZvcm1hdCA9IHJlcXVpcmUoJ2JpZ3VpbnQtZm9ybWF0Jyk7XG5jb25zdCBnZW5lcmF0b3IgPSBuZXcgRmxha2VJZEdlbjtcbmNvbnN0IFNub3dmbGFrZUlkID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU25vd2ZsYWtlSWQgKCkge1xuICB9XG5cbiAgU25vd2ZsYWtlSWQuZ2V0VVVJRCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBpZDEgPSBnZW5lcmF0b3IubmV4dCgpO1xuICAgIGNvbnN0IGlkMyA9IGludEZvcm1hdChpZDEsICdkZWMnKTtcbiAgICByZXR1cm4gaWQzO1xuICB9O1xuICByZXR1cm4gU25vd2ZsYWtlSWQ7XG59KCkpO1xuZXhwb3J0cy5Tbm93Zmxha2VJZCA9IFNub3dmbGFrZUlkO1xuIl0sIm5hbWVzIjpbIkZsYWtlSWRHZW4iLCJyZXF1aXJlIiwiaW50Rm9ybWF0IiwiZ2VuZXJhdG9yIiwiU25vd2ZsYWtlSWQiLCJnZXRVVUlEIiwiaWQxIiwibmV4dCIsImlkMyIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9499\n")},3890:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar Storage = __webpack_require__(1396);\n\nvar createBridgeMethods = __webpack_require__(9921);\n/**\n * @param {DownloadsStorageController} parent - reference to parent object\n * @param {string} storageKey - storage key\n * @constructor\n */\n\n\nfunction StorageBridge(parent, storageKey) {\n  this._parent = parent;\n  this._storageKey = storageKey;\n  createBridgeMethods(this, Storage);\n}\n\nmodule.exports = StorageBridge;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg5MC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxPQUFPLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUF2Qjs7QUFDQSxJQUFNQyxtQkFBbUIsR0FBR0QsbUJBQU8sQ0FBQyxJQUFELENBQW5DO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBU0UsYUFBVCxDQUF3QkMsTUFBeEIsRUFBZ0NDLFVBQWhDLEVBQTRDO0VBQzFDLEtBQUtDLE9BQUwsR0FBZUYsTUFBZjtFQUNBLEtBQUtHLFdBQUwsR0FBbUJGLFVBQW5CO0VBQ0FILG1CQUFtQixDQUFDLElBQUQsRUFBT0YsT0FBUCxDQUFuQjtBQUNEOztBQUVEUSxNQUFNLENBQUNDLE9BQVAsR0FBaUJOLGFBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL3N0b3JhZ2UtYnJpZGdlLmpzPzVhMWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBTdG9yYWdlID0gcmVxdWlyZShcIi4vc3RvcmFnZVwiKTtcbmNvbnN0IGNyZWF0ZUJyaWRnZU1ldGhvZHMgPSByZXF1aXJlKFwiLi9jcmVhdGUtYnJpZGdlLW1ldGhvZHNcIik7XG5cbi8qKlxuICogQHBhcmFtIHtEb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlcn0gcGFyZW50IC0gcmVmZXJlbmNlIHRvIHBhcmVudCBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yYWdlS2V5IC0gc3RvcmFnZSBrZXlcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBTdG9yYWdlQnJpZGdlIChwYXJlbnQsIHN0b3JhZ2VLZXkpIHtcbiAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICB0aGlzLl9zdG9yYWdlS2V5ID0gc3RvcmFnZUtleTtcbiAgY3JlYXRlQnJpZGdlTWV0aG9kcyh0aGlzLCBTdG9yYWdlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTdG9yYWdlQnJpZGdlOyJdLCJuYW1lcyI6WyJTdG9yYWdlIiwicmVxdWlyZSIsImNyZWF0ZUJyaWRnZU1ldGhvZHMiLCJTdG9yYWdlQnJpZGdlIiwicGFyZW50Iiwic3RvcmFnZUtleSIsIl9wYXJlbnQiLCJfc3RvcmFnZUtleSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3890\n")},1396:module=>{"use strict";eval('\n/**\n *\n * @constructor\n */\n\nfunction Storage() {\n  this._items = {};\n}\n/**\n * @returns {void}\n */\n\n\nStorage.prototype.clear = function () {\n  this._items = {};\n};\n/**\n * @returns {number} number of items\n */\n\n\nStorage.prototype.count = function () {\n  return this.getKeys().length;\n};\n/**\n * @param {string} id - item identifier\n * @returns {void}\n */\n\n\nStorage.prototype.decrease = function (id) {\n  if (typeof this._items[id] !== "number") {\n    this._items[id] = 0;\n  }\n\n  this._items[id]--;\n};\n/**\n * @param {string} id - item identifier\n * @returns {object} item\n */\n\n\nStorage.prototype.getItem = function (id) {\n  return this._items[id];\n};\n/**\n * @returns {object} items\n */\n\n\nStorage.prototype.getItems = function () {\n  return this._items;\n};\n/**\n * @returns {string[]} keys of all items\n */\n\n\nStorage.prototype.getKeys = function () {\n  return Object.keys(this._items);\n};\n/**\n * @param {string} id - item identifier\n * @returns {void}\n */\n\n\nStorage.prototype.increase = function (id) {\n  if (typeof this._items[id] !== "number") {\n    this._items[id] = 0;\n  }\n\n  this._items[id]++;\n};\n/**\n * @param {string} id - item identifier\n * @returns {void}\n */\n\n\nStorage.prototype.removeItem = function (id) {\n  delete this._items[id];\n};\n/**\n *\n * @param {string} id - item identifier\n * @param {object} item - item to be saved\n * @returns {void}\n */\n\n\nStorage.prototype.setItem = function (id, item) {\n  this._items[id] = item;\n};\n/**\n *\n * @param {object} items - items to be saved\n * @returns {void}\n */\n\n\nStorage.prototype.setItems = function (items) {\n  for (var key in items) {\n    if (items.hasOwnProperty(key)) {\n      this.setItem(key, items[key]);\n    }\n  }\n};\n\nmodule.exports = Storage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM5Ni5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFNBQVNBLE9BQVQsR0FBb0I7RUFDbEIsS0FBS0MsTUFBTCxHQUFjLEVBQWQ7QUFDRDtBQUVEO0FBQ0E7QUFDQTs7O0FBQ0FELE9BQU8sQ0FBQ0UsU0FBUixDQUFrQkMsS0FBbEIsR0FBMEIsWUFBWTtFQUNwQyxLQUFLRixNQUFMLEdBQWMsRUFBZDtBQUNELENBRkQ7QUFJQTtBQUNBO0FBQ0E7OztBQUNBRCxPQUFPLENBQUNFLFNBQVIsQ0FBa0JFLEtBQWxCLEdBQTBCLFlBQVk7RUFDcEMsT0FBTyxLQUFLQyxPQUFMLEdBQWVDLE1BQXRCO0FBQ0QsQ0FGRDtBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQU4sT0FBTyxDQUFDRSxTQUFSLENBQWtCSyxRQUFsQixHQUE2QixVQUFVQyxFQUFWLEVBQWM7RUFDekMsSUFBSSxPQUFPLEtBQUtQLE1BQUwsQ0FBWU8sRUFBWixDQUFQLEtBQTJCLFFBQS9CLEVBQXlDO0lBQ3ZDLEtBQUtQLE1BQUwsQ0FBWU8sRUFBWixJQUFrQixDQUFsQjtFQUNEOztFQUNELEtBQUtQLE1BQUwsQ0FBWU8sRUFBWjtBQUNELENBTEQ7QUFPQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FSLE9BQU8sQ0FBQ0UsU0FBUixDQUFrQk8sT0FBbEIsR0FBNEIsVUFBVUQsRUFBVixFQUFjO0VBQ3hDLE9BQU8sS0FBS1AsTUFBTCxDQUFZTyxFQUFaLENBQVA7QUFDRCxDQUZEO0FBSUE7QUFDQTtBQUNBOzs7QUFDQVIsT0FBTyxDQUFDRSxTQUFSLENBQWtCUSxRQUFsQixHQUE2QixZQUFZO0VBQ3ZDLE9BQU8sS0FBS1QsTUFBWjtBQUNELENBRkQ7QUFJQTtBQUNBO0FBQ0E7OztBQUNBRCxPQUFPLENBQUNFLFNBQVIsQ0FBa0JHLE9BQWxCLEdBQTRCLFlBQVk7RUFDdEMsT0FBT00sTUFBTSxDQUFDQyxJQUFQLENBQVksS0FBS1gsTUFBakIsQ0FBUDtBQUNELENBRkQ7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FELE9BQU8sQ0FBQ0UsU0FBUixDQUFrQlcsUUFBbEIsR0FBNkIsVUFBVUwsRUFBVixFQUFjO0VBQ3pDLElBQUksT0FBTyxLQUFLUCxNQUFMLENBQVlPLEVBQVosQ0FBUCxLQUEyQixRQUEvQixFQUF5QztJQUN2QyxLQUFLUCxNQUFMLENBQVlPLEVBQVosSUFBa0IsQ0FBbEI7RUFDRDs7RUFDRCxLQUFLUCxNQUFMLENBQVlPLEVBQVo7QUFDRCxDQUxEO0FBT0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBUixPQUFPLENBQUNFLFNBQVIsQ0FBa0JZLFVBQWxCLEdBQStCLFVBQVVOLEVBQVYsRUFBYztFQUMzQyxPQUFPLEtBQUtQLE1BQUwsQ0FBWU8sRUFBWixDQUFQO0FBQ0QsQ0FGRDtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FSLE9BQU8sQ0FBQ0UsU0FBUixDQUFrQmEsT0FBbEIsR0FBNEIsVUFBVVAsRUFBVixFQUFjUSxJQUFkLEVBQW9CO0VBQzlDLEtBQUtmLE1BQUwsQ0FBWU8sRUFBWixJQUFrQlEsSUFBbEI7QUFDRCxDQUZEO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FoQixPQUFPLENBQUNFLFNBQVIsQ0FBa0JlLFFBQWxCLEdBQTZCLFVBQVVDLEtBQVYsRUFBaUI7RUFDNUMsS0FBSyxJQUFJQyxHQUFULElBQWdCRCxLQUFoQixFQUF1QjtJQUNyQixJQUFJQSxLQUFLLENBQUNFLGNBQU4sQ0FBcUJELEdBQXJCLENBQUosRUFBK0I7TUFDN0IsS0FBS0osT0FBTCxDQUFhSSxHQUFiLEVBQWtCRCxLQUFLLENBQUNDLEdBQUQsQ0FBdkI7SUFDRDtFQUNGO0FBQ0YsQ0FORDs7QUFRQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCdEIsT0FBakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvc3RvcmFnZS5qcz80YmFiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gU3RvcmFnZSAoKSB7XG4gIHRoaXMuX2l0ZW1zID0ge307XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN0b3JhZ2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9pdGVtcyA9IHt9O1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBudW1iZXIgb2YgaXRlbXNcbiAqL1xuU3RvcmFnZS5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmdldEtleXMoKS5sZW5ndGg7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGl0ZW0gaWRlbnRpZmllclxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN0b3JhZ2UucHJvdG90eXBlLmRlY3JlYXNlID0gZnVuY3Rpb24gKGlkKSB7XG4gIGlmICh0eXBlb2YgdGhpcy5faXRlbXNbaWRdICE9PSBcIm51bWJlclwiKSB7XG4gICAgdGhpcy5faXRlbXNbaWRdID0gMDtcbiAgfVxuICB0aGlzLl9pdGVtc1tpZF0tLTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gaXRlbSBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBpdGVtXG4gKi9cblN0b3JhZ2UucHJvdG90eXBlLmdldEl0ZW0gPSBmdW5jdGlvbiAoaWQpIHtcbiAgcmV0dXJuIHRoaXMuX2l0ZW1zW2lkXTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge29iamVjdH0gaXRlbXNcbiAqL1xuU3RvcmFnZS5wcm90b3R5cGUuZ2V0SXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9pdGVtcztcbn07XG5cbi8qKlxuICogQHJldHVybnMge3N0cmluZ1tdfSBrZXlzIG9mIGFsbCBpdGVtc1xuICovXG5TdG9yYWdlLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5faXRlbXMpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBpdGVtIGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5TdG9yYWdlLnByb3RvdHlwZS5pbmNyZWFzZSA9IGZ1bmN0aW9uIChpZCkge1xuICBpZiAodHlwZW9mIHRoaXMuX2l0ZW1zW2lkXSAhPT0gXCJudW1iZXJcIikge1xuICAgIHRoaXMuX2l0ZW1zW2lkXSA9IDA7XG4gIH1cbiAgdGhpcy5faXRlbXNbaWRdKys7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGl0ZW0gaWRlbnRpZmllclxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN0b3JhZ2UucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaWQpIHtcbiAgZGVsZXRlIHRoaXMuX2l0ZW1zW2lkXTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGl0ZW0gaWRlbnRpZmllclxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW0gLSBpdGVtIHRvIGJlIHNhdmVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3RvcmFnZS5wcm90b3R5cGUuc2V0SXRlbSA9IGZ1bmN0aW9uIChpZCwgaXRlbSkge1xuICB0aGlzLl9pdGVtc1tpZF0gPSBpdGVtO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW1zIC0gaXRlbXMgdG8gYmUgc2F2ZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5TdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtcyA9IGZ1bmN0aW9uIChpdGVtcykge1xuICBmb3IgKGxldCBrZXkgaW4gaXRlbXMpIHtcbiAgICBpZiAoaXRlbXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdGhpcy5zZXRJdGVtKGtleSwgaXRlbXNba2V5XSlcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU3RvcmFnZTsiXSwibmFtZXMiOlsiU3RvcmFnZSIsIl9pdGVtcyIsInByb3RvdHlwZSIsImNsZWFyIiwiY291bnQiLCJnZXRLZXlzIiwibGVuZ3RoIiwiZGVjcmVhc2UiLCJpZCIsImdldEl0ZW0iLCJnZXRJdGVtcyIsIk9iamVjdCIsImtleXMiLCJpbmNyZWFzZSIsInJlbW92ZUl0ZW0iLCJzZXRJdGVtIiwiaXRlbSIsInNldEl0ZW1zIiwiaXRlbXMiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1396\n')},6137:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar Snowflake = __webpack_require__(9499);\n\nvar _ = __webpack_require__(4952);\n/**\n *\n * @param {function} process - function to get the result from\n * @param {function} callback - callback to be invoked when "process" function returns anything\n * @param {number} target - window target id\n * @param {string} manifestId - manifest identifier\n * @param {number} time - time in miliseconds how often the callback should be invoked\n * @param {boolean} onceOnly - if set to true the callback will be invoked once only and subsriber will be removed\n * @constructor\n */\n\n\nfunction Subscriber(process, callback, target, manifestId, time, onceOnly) {\n  this._process = process;\n  this._callback = callback;\n  this._manifestId = manifestId;\n  this._id = String(Snowflake.SnowflakeId.getUUID());\n  this._onceOnly = onceOnly;\n  this._target = target;\n\n  this.onInterval = function () {\n    var result = this._process();\n\n    var self = this;\n\n    if (result) {\n      if (this._onceOnly) {\n        this.remove();\n\n        if (typeof this._callbackOnFinish === "function") {\n          this._callbackOnFinish(function (err, result) {\n            self._callback(self._id, err, result, self._target, true);\n          });\n        } else {\n          this._callback(this._id, null, result, self._target);\n        }\n      } else {\n        this._callback(this._id, null, result, self._target);\n      }\n    }\n  };\n\n  _.bindAll(this, "onInterval");\n\n  this._intervalTimer = setInterval(this.onInterval, time);\n}\n/**\n *\n * @returns {string} - subscriber identifier\n */\n\n\nSubscriber.prototype.getId = function () {\n  return this._id;\n};\n/**\n *\n * @returns {string} - manifest identifier\n */\n\n\nSubscriber.prototype.getManifestId = function () {\n  return this._manifestId;\n};\n/**\n * @param {function} callback - function to be invoked when "process" function returns anything\n * and when "onceOnly" is set to true\n * @returns {void}\n */\n\n\nSubscriber.prototype.onFinish = function (callback) {\n  this._callbackOnFinish = callback;\n};\n/**\n * @returns {void}\n */\n\n\nSubscriber.prototype.remove = function () {\n  clearInterval(this._intervalTimer);\n};\n\nmodule.exports = Subscriber;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjEzNy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxTQUFTLEdBQUdDLG1CQUFPLENBQUMsSUFBRCxDQUF6Qjs7QUFDQSxJQUFNQyxDQUFDLEdBQUdELG1CQUFPLENBQUMsSUFBRCxDQUFqQjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxTQUFTRSxVQUFULENBQXFCQyxPQUFyQixFQUE4QkMsUUFBOUIsRUFBd0NDLE1BQXhDLEVBQWdEQyxVQUFoRCxFQUE0REMsSUFBNUQsRUFBa0VDLFFBQWxFLEVBQTRFO0VBQzFFLEtBQUtDLFFBQUwsR0FBZ0JOLE9BQWhCO0VBQ0EsS0FBS08sU0FBTCxHQUFpQk4sUUFBakI7RUFDQSxLQUFLTyxXQUFMLEdBQW1CTCxVQUFuQjtFQUNBLEtBQUtNLEdBQUwsR0FBV0MsTUFBTSxDQUFDZCxTQUFTLENBQUNlLFdBQVYsQ0FBc0JDLE9BQXRCLEVBQUQsQ0FBakI7RUFDQSxLQUFLQyxTQUFMLEdBQWlCUixRQUFqQjtFQUNBLEtBQUtTLE9BQUwsR0FBZVosTUFBZjs7RUFDQSxLQUFLYSxVQUFMLEdBQWtCLFlBQVk7SUFDNUIsSUFBTUMsTUFBTSxHQUFHLEtBQUtWLFFBQUwsRUFBZjs7SUFDQSxJQUFNVyxJQUFJLEdBQUcsSUFBYjs7SUFDQSxJQUFJRCxNQUFKLEVBQVk7TUFDVixJQUFJLEtBQUtILFNBQVQsRUFBb0I7UUFDbEIsS0FBS0ssTUFBTDs7UUFDQSxJQUFJLE9BQU8sS0FBS0MsaUJBQVosS0FBa0MsVUFBdEMsRUFBa0Q7VUFDaEQsS0FBS0EsaUJBQUwsQ0FBdUIsVUFBVUMsR0FBVixFQUFlSixNQUFmLEVBQXVCO1lBQzVDQyxJQUFJLENBQUNWLFNBQUwsQ0FBZVUsSUFBSSxDQUFDUixHQUFwQixFQUF5QlcsR0FBekIsRUFBOEJKLE1BQTlCLEVBQXNDQyxJQUFJLENBQUNILE9BQTNDLEVBQW9ELElBQXBEO1VBQ0QsQ0FGRDtRQUdELENBSkQsTUFJTztVQUNMLEtBQUtQLFNBQUwsQ0FBZSxLQUFLRSxHQUFwQixFQUF5QixJQUF6QixFQUErQk8sTUFBL0IsRUFBdUNDLElBQUksQ0FBQ0gsT0FBNUM7UUFDRDtNQUNGLENBVEQsTUFTTztRQUNMLEtBQUtQLFNBQUwsQ0FBZSxLQUFLRSxHQUFwQixFQUF5QixJQUF6QixFQUErQk8sTUFBL0IsRUFBdUNDLElBQUksQ0FBQ0gsT0FBNUM7TUFDRDtJQUNGO0VBQ0YsQ0FqQkQ7O0VBa0JBaEIsQ0FBQyxDQUFDdUIsT0FBRixDQUFVLElBQVYsRUFBZ0IsWUFBaEI7O0VBQ0EsS0FBS0MsY0FBTCxHQUFzQkMsV0FBVyxDQUFDLEtBQUtSLFVBQU4sRUFBa0JYLElBQWxCLENBQWpDO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FMLFVBQVUsQ0FBQ3lCLFNBQVgsQ0FBcUJDLEtBQXJCLEdBQTZCLFlBQVk7RUFDdkMsT0FBTyxLQUFLaEIsR0FBWjtBQUNELENBRkQ7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FWLFVBQVUsQ0FBQ3lCLFNBQVgsQ0FBcUJFLGFBQXJCLEdBQXFDLFlBQVk7RUFDL0MsT0FBTyxLQUFLbEIsV0FBWjtBQUNELENBRkQ7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQVQsVUFBVSxDQUFDeUIsU0FBWCxDQUFxQkcsUUFBckIsR0FBZ0MsVUFBVTFCLFFBQVYsRUFBb0I7RUFDbEQsS0FBS2tCLGlCQUFMLEdBQXlCbEIsUUFBekI7QUFDRCxDQUZEO0FBSUE7QUFDQTtBQUNBOzs7QUFDQUYsVUFBVSxDQUFDeUIsU0FBWCxDQUFxQk4sTUFBckIsR0FBOEIsWUFBWTtFQUN4Q1UsYUFBYSxDQUFDLEtBQUtOLGNBQU4sQ0FBYjtBQUNELENBRkQ7O0FBSUFPLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQi9CLFVBQWpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL3N1YnNjcmliZXIuanM/MjUzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IFNub3dmbGFrZSA9IHJlcXVpcmUoXCIuL3Nub3dmbGFrZS1pZFwiKTtcbmNvbnN0IF8gPSByZXF1aXJlKFwidW5kZXJzY29yZVwiKTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gcHJvY2VzcyAtIGZ1bmN0aW9uIHRvIGdldCB0aGUgcmVzdWx0IGZyb21cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIFwicHJvY2Vzc1wiIGZ1bmN0aW9uIHJldHVybnMgYW55dGhpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgLSB3aW5kb3cgdGFyZ2V0IGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gdGltZSBpbiBtaWxpc2Vjb25kcyBob3cgb2Z0ZW4gdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9uY2VPbmx5IC0gaWYgc2V0IHRvIHRydWUgdGhlIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCBvbmNlIG9ubHkgYW5kIHN1YnNyaWJlciB3aWxsIGJlIHJlbW92ZWRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBTdWJzY3JpYmVyIChwcm9jZXNzLCBjYWxsYmFjaywgdGFyZ2V0LCBtYW5pZmVzdElkLCB0aW1lLCBvbmNlT25seSkge1xuICB0aGlzLl9wcm9jZXNzID0gcHJvY2VzcztcbiAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgdGhpcy5fbWFuaWZlc3RJZCA9IG1hbmlmZXN0SWQ7XG4gIHRoaXMuX2lkID0gU3RyaW5nKFNub3dmbGFrZS5Tbm93Zmxha2VJZC5nZXRVVUlEKCkpO1xuICB0aGlzLl9vbmNlT25seSA9IG9uY2VPbmx5O1xuICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMub25JbnRlcnZhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wcm9jZXNzKCk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgaWYgKHRoaXMuX29uY2VPbmx5KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY2FsbGJhY2tPbkZpbmlzaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdGhpcy5fY2FsbGJhY2tPbkZpbmlzaChmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlbGYuX2NhbGxiYWNrKHNlbGYuX2lkLCBlcnIsIHJlc3VsdCwgc2VsZi5fdGFyZ2V0LCB0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9jYWxsYmFjayh0aGlzLl9pZCwgbnVsbCwgcmVzdWx0LCBzZWxmLl90YXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jYWxsYmFjayh0aGlzLl9pZCwgbnVsbCwgcmVzdWx0LCBzZWxmLl90YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgXy5iaW5kQWxsKHRoaXMsIFwib25JbnRlcnZhbFwiKTtcbiAgdGhpcy5faW50ZXJ2YWxUaW1lciA9IHNldEludGVydmFsKHRoaXMub25JbnRlcnZhbCwgdGltZSk7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gc3Vic2NyaWJlciBpZGVudGlmaWVyXG4gKi9cblN1YnNjcmliZXIucHJvdG90eXBlLmdldElkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5faWQ7XG59O1xuXG4vKipcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqL1xuU3Vic2NyaWJlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RJZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX21hbmlmZXN0SWQ7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIFwicHJvY2Vzc1wiIGZ1bmN0aW9uIHJldHVybnMgYW55dGhpbmdcbiAqIGFuZCB3aGVuIFwib25jZU9ubHlcIiBpcyBzZXQgdG8gdHJ1ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN1YnNjcmliZXIucHJvdG90eXBlLm9uRmluaXNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHRoaXMuX2NhbGxiYWNrT25GaW5pc2ggPSBjYWxsYmFjaztcbn07XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN1YnNjcmliZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbFRpbWVyKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU3Vic2NyaWJlcjsiXSwibmFtZXMiOlsiU25vd2ZsYWtlIiwicmVxdWlyZSIsIl8iLCJTdWJzY3JpYmVyIiwicHJvY2VzcyIsImNhbGxiYWNrIiwidGFyZ2V0IiwibWFuaWZlc3RJZCIsInRpbWUiLCJvbmNlT25seSIsIl9wcm9jZXNzIiwiX2NhbGxiYWNrIiwiX21hbmlmZXN0SWQiLCJfaWQiLCJTdHJpbmciLCJTbm93Zmxha2VJZCIsImdldFVVSUQiLCJfb25jZU9ubHkiLCJfdGFyZ2V0Iiwib25JbnRlcnZhbCIsInJlc3VsdCIsInNlbGYiLCJyZW1vdmUiLCJfY2FsbGJhY2tPbkZpbmlzaCIsImVyciIsImJpbmRBbGwiLCJfaW50ZXJ2YWxUaW1lciIsInNldEludGVydmFsIiwicHJvdG90eXBlIiwiZ2V0SWQiLCJnZXRNYW5pZmVzdElkIiwib25GaW5pc2giLCJjbGVhckludGVydmFsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6137\n')},8279:module=>{"use strict";eval('\n\nfunction join() {\n  var pathString = "",\n      arg;\n\n  for (var i = 0, j = arguments.length; i < j; i++) {\n    arg = arguments[i].replace(/^\\.\\//g, "/"); // don\'t add to the last one\n\n    pathString += arg;\n\n    if (i < j - 1) {\n      pathString += "/";\n    }\n  }\n\n  pathString = pathString.replace(/\\/{2,}/g, "/");\n  pathString = pathString.replace("https:/", "https://");\n  pathString = pathString.replace("http:/", "http://");\n  pathString = pathString.replace("file:/", "file://");\n  return pathString;\n}\n\nfunction joinPath() {\n  return join.apply(null, arguments) + "/";\n}\n\nfunction joinPathWithFile() {\n  return join.apply(null, arguments);\n}\n\nmodule.exports = {\n  joinPath: joinPath,\n  joinPathWithFile: joinPathWithFile\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI3OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixTQUFTQSxJQUFULEdBQWlCO0VBQ2YsSUFBSUMsVUFBVSxHQUFHLEVBQWpCO0VBQUEsSUFBcUJDLEdBQXJCOztFQUNBLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQVIsRUFBV0MsQ0FBQyxHQUFHQyxTQUFTLENBQUNDLE1BQTlCLEVBQXNDSCxDQUFDLEdBQUdDLENBQTFDLEVBQTZDRCxDQUFDLEVBQTlDLEVBQWtEO0lBQ2hERCxHQUFHLEdBQUdHLFNBQVMsQ0FBQ0YsQ0FBRCxDQUFULENBQWFJLE9BQWIsQ0FBcUIsUUFBckIsRUFBK0IsR0FBL0IsQ0FBTixDQURnRCxDQUVoRDs7SUFDQU4sVUFBVSxJQUFJQyxHQUFkOztJQUNBLElBQUlDLENBQUMsR0FBR0MsQ0FBQyxHQUFHLENBQVosRUFBZTtNQUNiSCxVQUFVLElBQUksR0FBZDtJQUNEO0VBQ0Y7O0VBQ0RBLFVBQVUsR0FBR0EsVUFBVSxDQUFDTSxPQUFYLENBQW1CLFNBQW5CLEVBQThCLEdBQTlCLENBQWI7RUFDQU4sVUFBVSxHQUFHQSxVQUFVLENBQUNNLE9BQVgsQ0FBbUIsU0FBbkIsRUFBOEIsVUFBOUIsQ0FBYjtFQUNBTixVQUFVLEdBQUdBLFVBQVUsQ0FBQ00sT0FBWCxDQUFtQixRQUFuQixFQUE2QixTQUE3QixDQUFiO0VBQ0FOLFVBQVUsR0FBR0EsVUFBVSxDQUFDTSxPQUFYLENBQW1CLFFBQW5CLEVBQTZCLFNBQTdCLENBQWI7RUFDQSxPQUFPTixVQUFQO0FBQ0Q7O0FBRUQsU0FBU08sUUFBVCxHQUFxQjtFQUNuQixPQUFPUixJQUFJLENBQUNTLEtBQUwsQ0FBVyxJQUFYLEVBQWlCSixTQUFqQixJQUE4QixHQUFyQztBQUNEOztBQUVELFNBQVNLLGdCQUFULEdBQTZCO0VBQzNCLE9BQU9WLElBQUksQ0FBQ1MsS0FBTCxDQUFXLElBQVgsRUFBaUJKLFNBQWpCLENBQVA7QUFDRDs7QUFFRE0sTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZKLFFBQVEsRUFBRUEsUUFESztFQUVmRSxnQkFBZ0IsRUFBRUE7QUFGSCxDQUFqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvdXRpbC91cmwuanM/NWFkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gam9pbiAoKSB7XG4gIGxldCBwYXRoU3RyaW5nID0gXCJcIiwgYXJnO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBhcmcgPSBhcmd1bWVudHNbaV0ucmVwbGFjZSgvXlxcLlxcLy9nLCBcIi9cIik7XG4gICAgLy8gZG9uJ3QgYWRkIHRvIHRoZSBsYXN0IG9uZVxuICAgIHBhdGhTdHJpbmcgKz0gYXJnO1xuICAgIGlmIChpIDwgaiAtIDEpIHtcbiAgICAgIHBhdGhTdHJpbmcgKz0gXCIvXCI7XG4gICAgfVxuICB9XG4gIHBhdGhTdHJpbmcgPSBwYXRoU3RyaW5nLnJlcGxhY2UoL1xcL3syLH0vZywgXCIvXCIpO1xuICBwYXRoU3RyaW5nID0gcGF0aFN0cmluZy5yZXBsYWNlKFwiaHR0cHM6L1wiLCBcImh0dHBzOi8vXCIpO1xuICBwYXRoU3RyaW5nID0gcGF0aFN0cmluZy5yZXBsYWNlKFwiaHR0cDovXCIsIFwiaHR0cDovL1wiKTtcbiAgcGF0aFN0cmluZyA9IHBhdGhTdHJpbmcucmVwbGFjZShcImZpbGU6L1wiLCBcImZpbGU6Ly9cIik7XG4gIHJldHVybiBwYXRoU3RyaW5nO1xufVxuXG5mdW5jdGlvbiBqb2luUGF0aCAoKSB7XG4gIHJldHVybiBqb2luLmFwcGx5KG51bGwsIGFyZ3VtZW50cykgKyBcIi9cIjtcbn1cblxuZnVuY3Rpb24gam9pblBhdGhXaXRoRmlsZSAoKSB7XG4gIHJldHVybiBqb2luLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBqb2luUGF0aDogam9pblBhdGgsXG4gIGpvaW5QYXRoV2l0aEZpbGU6IGpvaW5QYXRoV2l0aEZpbGVcbn07XG4iXSwibmFtZXMiOlsiam9pbiIsInBhdGhTdHJpbmciLCJhcmciLCJpIiwiaiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInJlcGxhY2UiLCJqb2luUGF0aCIsImFwcGx5Iiwiam9pblBhdGhXaXRoRmlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8279\n')},9275:(__unused_webpack_module,exports)=>{"use strict";eval("\n\nvar ZeroPadding = function () {\n  function ZeroPadding() {}\n\n  ZeroPadding.addPadding = function (num, howManyZeros) {\n    var result;\n    var numArr = num.toString().split('');\n\n    while (numArr.length < howManyZeros) {\n      numArr.unshift('0');\n    }\n\n    result = numArr.join('');\n    return result;\n  };\n\n  ZeroPadding.getPaddingAmount = function (inputStr) {\n    var startIndex = inputStr.indexOf('%');\n    var endIndex = inputStr.lastIndexOf('$');\n    var numPadding = parseInt(inputStr.substring(startIndex + 1, endIndex - 1));\n    numPadding = isNaN(numPadding) ? 0 : numPadding;\n    return numPadding;\n  };\n\n  return ZeroPadding;\n}();\n\nexports.ZeroPadding = ZeroPadding;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI3NS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUksWUFBWTtFQUMvQixTQUFTQSxXQUFULEdBQXdCLENBQ3ZCOztFQUVEQSxXQUFXLENBQUNDLFVBQVosR0FBeUIsVUFBVUMsR0FBVixFQUFlQyxZQUFmLEVBQTZCO0lBQ3BELElBQUlDLE1BQUo7SUFDQSxJQUFNQyxNQUFNLEdBQUdILEdBQUcsQ0FBQ0ksUUFBSixHQUFlQyxLQUFmLENBQXFCLEVBQXJCLENBQWY7O0lBQ0EsT0FBT0YsTUFBTSxDQUFDRyxNQUFQLEdBQWdCTCxZQUF2QixFQUFxQztNQUNuQ0UsTUFBTSxDQUFDSSxPQUFQLENBQWUsR0FBZjtJQUNEOztJQUNETCxNQUFNLEdBQUdDLE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLEVBQVosQ0FBVDtJQUNBLE9BQU9OLE1BQVA7RUFDRCxDQVJEOztFQVNBSixXQUFXLENBQUNXLGdCQUFaLEdBQStCLFVBQVVDLFFBQVYsRUFBb0I7SUFDakQsSUFBTUMsVUFBVSxHQUFHRCxRQUFRLENBQUNFLE9BQVQsQ0FBaUIsR0FBakIsQ0FBbkI7SUFDQSxJQUFNQyxRQUFRLEdBQUdILFFBQVEsQ0FBQ0ksV0FBVCxDQUFxQixHQUFyQixDQUFqQjtJQUNBLElBQUlDLFVBQVUsR0FBR0MsUUFBUSxDQUFDTixRQUFRLENBQUNPLFNBQVQsQ0FBbUJOLFVBQVUsR0FBRyxDQUFoQyxFQUFtQ0UsUUFBUSxHQUFHLENBQTlDLENBQUQsQ0FBekI7SUFDQUUsVUFBVSxHQUFJRyxLQUFLLENBQUNILFVBQUQsQ0FBTixHQUFzQixDQUF0QixHQUEwQkEsVUFBdkM7SUFDQSxPQUFPQSxVQUFQO0VBQ0QsQ0FORDs7RUFPQSxPQUFPakIsV0FBUDtBQUNELENBckJvQixFQUFyQjs7QUFzQkFxQixtQkFBQSxHQUFzQnJCLFdBQXRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL3plcm8tcGFkZGluZy5qcz9kMjk0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgWmVyb1BhZGRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBaZXJvUGFkZGluZyAoKSB7XG4gIH1cblxuICBaZXJvUGFkZGluZy5hZGRQYWRkaW5nID0gZnVuY3Rpb24gKG51bSwgaG93TWFueVplcm9zKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBudW1BcnIgPSBudW0udG9TdHJpbmcoKS5zcGxpdCgnJyk7XG4gICAgd2hpbGUgKG51bUFyci5sZW5ndGggPCBob3dNYW55WmVyb3MpIHtcbiAgICAgIG51bUFyci51bnNoaWZ0KCcwJyk7XG4gICAgfVxuICAgIHJlc3VsdCA9IG51bUFyci5qb2luKCcnKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBaZXJvUGFkZGluZy5nZXRQYWRkaW5nQW1vdW50ID0gZnVuY3Rpb24gKGlucHV0U3RyKSB7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IGlucHV0U3RyLmluZGV4T2YoJyUnKTtcbiAgICBjb25zdCBlbmRJbmRleCA9IGlucHV0U3RyLmxhc3RJbmRleE9mKCckJyk7XG4gICAgbGV0IG51bVBhZGRpbmcgPSBwYXJzZUludChpbnB1dFN0ci5zdWJzdHJpbmcoc3RhcnRJbmRleCArIDEsIGVuZEluZGV4IC0gMSkpO1xuICAgIG51bVBhZGRpbmcgPSAoaXNOYU4obnVtUGFkZGluZykpID8gMCA6IG51bVBhZGRpbmc7XG4gICAgcmV0dXJuIG51bVBhZGRpbmc7XG4gIH07XG4gIHJldHVybiBaZXJvUGFkZGluZztcbn0oKSk7XG5leHBvcnRzLlplcm9QYWRkaW5nID0gWmVyb1BhZGRpbmc7XG4iXSwibmFtZXMiOlsiWmVyb1BhZGRpbmciLCJhZGRQYWRkaW5nIiwibnVtIiwiaG93TWFueVplcm9zIiwicmVzdWx0IiwibnVtQXJyIiwidG9TdHJpbmciLCJzcGxpdCIsImxlbmd0aCIsInVuc2hpZnQiLCJqb2luIiwiZ2V0UGFkZGluZ0Ftb3VudCIsImlucHV0U3RyIiwic3RhcnRJbmRleCIsImluZGV4T2YiLCJlbmRJbmRleCIsImxhc3RJbmRleE9mIiwibnVtUGFkZGluZyIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwiaXNOYU4iLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9275\n")},2081:Q=>{"use strict";Q.exports=require("child_process")},3639:Q=>{"use strict";Q.exports=require("domain")},2361:Q=>{"use strict";Q.exports=require("events")},7147:Q=>{"use strict";Q.exports=require("fs")},1808:Q=>{"use strict";Q.exports=require("net")},1017:Q=>{"use strict";Q.exports=require("path")},3837:Q=>{"use strict";Q.exports=require("util")},7769:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__7769__},1637:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__1637__},7194:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__7194__},1759:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__1759__},6838:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__6838__},3480:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__3480__},9526:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__9526__},1908:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__1908__},4952:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__4952__},3720:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__3720__},678:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__678__}},__webpack_module_cache__={};function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q].call(U.exports,U,U.exports,__webpack_require__),U.exports}var __webpack_exports__=__webpack_require__(588);return __webpack_exports__})()));